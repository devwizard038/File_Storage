import{u as we,j as e,c as v,C as Jr,T as r,a as Ie,b as $,O as Zs,d as Zr,E as Qt,s as Xr,m as h,k as el,R as I,r as m,e as Te,f as Yt,S as ks,I as x,g as C,K as Xs,h as B,$ as Ts,A as ys,i as Jt,l as Zt,n as sl,o as Ge,p as G,D as Z,q as ne,t as ee,v as W,F as ce,w as al,B as j,x as _,y as L,z as Ye,G as ea,H as ws,J as rs,P as Xt,L as sa,M,N as T,Q as R,U as se,V as Ee,W as aa,X as ta,Y as ge,Z as ke,_ as p,a0 as Ra,a1 as Oe,a2 as Va,a3 as q,a4 as ve,a5 as J,a6 as tl,a7 as Oa,a8 as Ys,a9 as us,aa as en,ab as jt,ac as Cs,ad as na,ae as ra,af as cs,ag as E,ah as Fe,ai as nl,aj as sn,ak as an,al as rl,am as Ps,an as tn,ao as U,ap as nn,aq as Ae,ar as ll,as as il,at as ol,au as la,av as ul,aw as cl,ax as rn,ay as Ss,az as Ls,aA as ds,aB as Ha,aC as dl,aD as de,aE as fe,aF as ln,aG as qa,aH as on,aI as Je,aJ as Ua,aK as ms,aL as ml,aM as bt,aN as ia,aO as Ze,aP as Xe,aQ as Ka,aR as ls,aS as un,aT as hl,aU as gl,aV as xl,aW as cn,aX as pl,aY as fl,aZ as jl,a_ as bl,a$ as vl,b0 as yl,b1 as wl,b2 as Wa,b3 as dn,b4 as Ga,b5 as kl,b6 as Cl,b7 as Sl,b8 as Dl,b9 as Nl,ba as El,bb as Fl,bc as $l,bd as Al,be as Bl,bf as _l,bg as zl,bh as Il,bi as Tl,bj as mn,bk as Pl,bl as Ll,bm as Qa,bn as Ml,bo as Rl,bp as ae,bq as Vl}from"./main-1b1452ea.js";import{D as Ol,a as Hl,b as ql,c as Ul,F as le,d as oe,e as hs,u as Ds,K as Ms,f as Ya,I as Kl,N as Wl,g as Gl,C as Ql,S as Yl,B as Jl,h as Zl,T as Xl,A as Ne,i as oa,j as ei,k as hn,l as Fa,m as P,n as si,$ as gn,o as ai,p as $a,q as ua,r as qe,s as ti,t as ni,v as ri,w as ca,U as li,L as Ja,M as da,x as ii,y as oi,z as ui,E as ci,G as di,H as mi,J as hi,O as gi,P as xi,Q as pi,R as fi}from"./Info-4ec284bb.js";import{S as Qe,E as es,B as ji,a as vt}from"./Edit-e3a87656.js";import{F as Za}from"./formatted-price-ac7bb881.js";import{u as xn,a as bi}from"./use-resume-subscription-8975e7f7.js";function is(s,a=-1/0,t=1/0){return Math.min(Math.max(s,a),t)}function Ks(s,a){let t=s,n=a.toString(),l=n.indexOf("."),i=l>=0?n.length-l:0;if(i>0){let o=Math.pow(10,i);t=Math.round(t*o)/o}return t}function vi(s,a,t,n){a=Number(a),t=Number(t);let l=(s-(isNaN(a)?0:a))%n,i=Ks(Math.abs(l)*2>=n?s+Math.sign(l)*(n-Math.abs(l)):s-l,n);return isNaN(a)?!isNaN(t)&&i>t&&(i=Math.floor(Ks(t/n,n))*n):i<a?i=a:!isNaN(t)&&i>t&&(i=a+Math.floor(Ks((t-a)/n,n))*n),i=Ks(i,n),i}function te(s,a,t=10){const n=Math.pow(t,a);return Math.round(s*n)/n}function yi({className:s,isCompactMode:a}){const{version:t}=we();return e.jsxs("div",{className:v(s,"relative flex flex-col gap-20 overflow-y-auto border-r bg-alt px-12 pb-16 pt-26 text-sm font-medium text-muted"),children:[e.jsx(Jr,{matchDescendants:n=>n==="/admin",menu:"admin-sidebar",orientation:"vertical",onlyShowIcons:a,itemClassName:({isActive:n})=>v("block w-full rounded-button py-12 px-16",n?"bg-primary/6 text-primary font-semibold":"hover:bg-hover"),gap:"gap-8"}),!a&&e.jsx("div",{className:"mt-auto gap-14 px-16 text-xs",children:e.jsx(r,{message:"Version: :number",values:{number:t}})})]})}function wi(){return Ie({queryKey:["admin-setup-alerts"],queryFn:()=>ki()})}function ki(){return $.get("admin/setup-alerts").then(s=>s.data)}function Ci(){return e.jsxs(Ol,{name:"admin",leftSidenavCanBeCompact:!0,children:[e.jsx(Hl,{size:"sm",menuPosition:"admin-navbar"}),e.jsx(ql,{position:"left",size:"sm",children:e.jsx(yi,{})}),e.jsx(Ul,{children:e.jsxs("div",{className:"bg dark:bg-alt",children:[e.jsx(Si,{}),e.jsx(Zs,{})]})})]})}function Si(){const{data:s}=wi(),[a]=Zr("admin-setup-alert-dismissed",null),t=!a||Date.now()-a.timestamp>864e5;return!(s!=null&&s.alerts.length)||!t?null:e.jsx("div",{className:"fixed left-0 right-0 top-24 z-10 mx-auto w-max overflow-hidden rounded-panel bg shadow-md",children:e.jsx(Di,{alert:s.alerts[0]})})}function Di({alert:s}){const a=e.jsx("div",{dangerouslySetInnerHTML:{__html:s.description}});return e.jsx(Qe,{leadingIcon:e.jsx(Qt,{size:"xs",className:"text-danger"}),onClose:()=>{Xr("admin-setup-alert-dismissed",{timestamp:Date.now()})},title:s.title,description:a,color:"neutral"},s.title)}const Ni=[{key:"email_verified_at",label:h("Email"),description:h("Email verification status"),defaultOperator:le.ne,control:{type:oe.Select,defaultValue:"01",options:[{key:"01",label:h("is confirmed"),value:{value:null,operator:le.ne}},{key:"02",label:h("is not confirmed"),value:{value:null,operator:le.eq}}]}},hs({description:h("Date user registered or was created")}),Ds({description:h("Date user was last updated")}),{key:"subscriptions",label:h("Subscription"),description:h("Whether user is subscribed or not"),defaultOperator:le.eq,control:{type:oe.Select,defaultValue:"01",options:[{key:"01",label:h("is subscribed"),value:{value:"*",operator:le.has}},{key:"02",label:h("is not subscribed"),value:{value:"*",operator:le.doesntHave}}]}}],Q=(s,a)=>{const t=s.split("/");return a&&t.push(a),t};function Ei(s,a,t,n){return Ie({queryKey:Q(s,a),queryFn:({signal:l})=>Fi(s,a,n,l),placeholderData:el,...t})}async function Fi(s,a,t,n){a.query&&await new Promise(i=>setTimeout(i,300));const l=await $.get(s,{params:a,signal:a.query?n:void 0}).then(i=>i.data);return t==null||t(l),l}const pn=I.createContext(null);function ma(){return m.useContext(pn)}function $i(s){return"next_cursor"in s?s.next_cursor!=null:"last_page"in s?s.current_page<s.last_page:s.data.length>0&&s.data.length>=s.per_page}const Ai=15,Bi=[{key:10},{key:15},{key:20},{key:50},{key:100}];function _i({query:s,onPerPageChange:a,onPageChange:t,className:n}){var c;const l=Te(),i=Yt(),o=(c=s.data)==null?void 0:c.pagination;if(!o)return null;const u=a?e.jsx(ks,{minWidth:"min-w-auto",selectionMode:"single",disabled:s.isLoading,labelPosition:"side",size:"xs",label:e.jsx(r,{message:"Items per page"}),selectedValue:o.per_page||Ai,onSelectionChange:d=>a(d),children:Bi.map(d=>e.jsx(x,{value:d.key,children:d.key},d.key))}):null;return e.jsxs("div",{className:v("flex h-54 select-none items-center justify-end gap-20 px-20",n),children:[!l&&u,o.from&&o.to&&"total"in o?e.jsx("div",{className:"text-sm",children:e.jsx(r,{message:":from - :to of :total",values:{from:o.from,to:o.to,total:i.format(o.total)}})}):null,e.jsxs("div",{className:"text-muted",children:[e.jsx(C,{disabled:s.isFetching||o.current_page<2,onClick:()=>{t==null||t((o==null?void 0:o.current_page)-1)},children:e.jsx(Xs,{})}),e.jsx(C,{disabled:s.isFetching||!$i(o),onClick:()=>{t==null||t((o==null?void 0:o.current_page)+1)},children:e.jsx(Ms,{})})]})]})}const zi=B(e.jsx("path",{d:"M7 6h10l-5.01 6.3L7 6zm-2.75-.39C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAltOutlined"),yt={variants:{open:{height:"auto",visibility:"visible",transitionEnd:{overflow:"auto"}},closed:{height:0,overflow:"hidden",transitionEnd:{visibility:"hidden"}}},transition:{type:"tween",duration:.2}},ss=I.forwardRef(({variant:s="default",mode:a="single",children:t,className:n,isLazy:l,...i},o)=>{const[u,c]=Ts(i.expandedValues,i.defaultExpandedValues||[],i.onExpandedChange),d=I.Children.count(t);return e.jsx("div",{className:v(s==="outline"&&"space-y-10",n),ref:o,role:"presentation",children:e.jsx(ys,{children:e.jsx(Jt,{children:I.Children.map(t,(g,f)=>m.isValidElement(g)?m.cloneElement(g,{key:g.key||f,value:g.props.value||f,isFirst:f===0,isLast:f===d-1,mode:a,variant:s,expandedValues:u,setExpandedValues:c,isLazy:l}):null)})})})});function De(s){const{children:a,label:t,disabled:n,bodyClassName:l,labelClassName:i,buttonPadding:o="py-10 pl-14 pr-10",startIcon:u,description:c,endAppend:d,chevronPosition:g="right",isFirst:f,mode:b,isLazy:y,variant:w,footerContent:k,onHeaderMouseEnter:N,onHeaderMouseLeave:F}=s,A=s.expandedValues||[],S=s.value||0,Y=s.setExpandedValues||(()=>{}),z=m.useRef(null),X=!n&&A.includes(S),ie=m.useRef(!1);X&&(ie.current=!0);const H=Zt(),re=m.useId(),me=`${re}-button`,he=`${re}-panel`,Le=xe=>{switch(xe.key){case"ArrowDown":H==null||H.focusNext();break;case"ArrowUp":H==null||H.focusPrevious();break;case"Home":H==null||H.focusFirst();break;case"End":H==null||H.focusLast();break}},Me=()=>{const xe=A.indexOf(S);if(xe>-1){const ts=[...A];ts.splice(xe,1),Y(ts)}else Y(b==="single"?[S]:[...A,S])},$e=e.jsx("div",{className:v(w==="minimal"&&""),children:e.jsx(sl,{"aria-hidden":"true",size:"md",className:v(n?"text-disabled":"text-muted",X&&"rotate-180 transition-transform")})});return e.jsxs("div",{className:v(w==="default"&&"border-b",w==="outline"&&"rounded-panel border",n&&"text-disabled"),children:[e.jsxs("h3",{className:v("flex w-full items-center justify-between text-sm",n&&"pointer-events-none",f&&w==="default"&&"border-t",X&&w!=="minimal"?"border-b":"border-b border-b-transparent",w==="outline"?X?"rounded-panel-t":"rounded-panel":void 0),onMouseEnter:N,onMouseLeave:F,children:[e.jsxs("button",{disabled:n,"aria-expanded":X,id:me,"aria-controls":he,type:"button",ref:z,onKeyDown:Le,onClick:()=>{n||Me()},className:v("flex flex-auto items-center gap-10 text-left outline-none hover:bg-hover focus-visible:bg-primary/focus",o),children:[g==="left"&&$e,u&&m.cloneElement(u,{size:"md",className:v(u.props.className,n?"text-disabled":"text-muted")}),e.jsxs("div",{className:"flex-auto overflow-hidden overflow-ellipsis",children:[e.jsx("div",{className:i,"data-testid":"accordion-label",children:t}),c&&e.jsx("div",{className:"text-xs text-muted",children:c})]}),g==="right"&&$e]}),d&&e.jsx("div",{className:"flex-shrink-0 px-4 text-sm text-muted",children:d})]}),e.jsxs(Ge.div,{"aria-labelledby":re,role:"region",variants:yt.variants,transition:yt.transition,initial:!1,animate:X?"open":"closed",children:[e.jsx("div",{className:v("p-16",l),children:!y||ie?a:null}),k]})]})}function Ii({filter:s}){return null}function Ti({filters:s}){const{decodedFilters:a}=Ya(s),{formId:t}=G(),[n,l]=m.useState(()=>a.map(u=>u.key)),i=e.jsx(j,{size:"xs",variant:"outline",className:"mr-auto",onClick:()=>{l([])},children:e.jsx(r,{message:"Clear"})}),o=e.jsx(j,{size:"xs",variant:"flat",color:"primary",className:"ml-auto",type:"submit",form:t,children:e.jsx(r,{message:"Apply"})});return e.jsxs(Z,{className:"min-w-[300px]",maxWidth:"max-w-400",size:"auto",children:[e.jsx(ne,{padding:"px-14 py-10",leftAdornment:i,rightAdornment:o,children:e.jsx(r,{message:"Filter"})}),e.jsx(ee,{padding:"p-0",children:e.jsx(Pi,{filters:s,expandedFilters:n,setExpandedFilters:l})})]})}function Pi({filters:s,expandedFilters:a,setExpandedFilters:t}){const{decodedFilters:n,replaceAll:l}=Ya(s),i={};s.forEach(d=>{const g=n.find(f=>f.key===d.key);i[d.key]=(g==null?void 0:g.value)!==void 0?g:{value:d.control.defaultValue,operator:d.defaultOperator}});const o=W({defaultValues:i}),{formId:u,close:c}=G();return e.jsx(ce,{form:o,id:u,onSubmit:d=>{const g=Object.entries(d).filter(([f,b])=>a.includes(f)&&b!==void 0).map(([f,b])=>({key:f,...b}));l(g),c()},children:e.jsx(ss,{mode:"multiple",expandedValues:a,onExpandedChange:t,children:s.map(d=>e.jsxs(De,{startIcon:e.jsx(al,{checked:a.includes(d.key)}),value:d.key,label:e.jsx(r,{...d.label}),bodyClassName:"max-h-288 overflow-y-auto compact-scrollbar",children:[d.description&&e.jsx("div",{className:v("text-xs text-muted",d.control.type!==oe.BooleanToggle&&"mb-14"),children:e.jsx(r,{...d.description})}),e.jsx(Li,{filter:d})]},d.key))})})}function Li({filter:s}){switch(s.control.type){case oe.Select:return e.jsx(Yl,{filter:s});case oe.ChipField:return e.jsx(Ql,{filter:s});case oe.DateRangePicker:return e.jsx(Gl,{filter:s});case oe.SelectModel:return e.jsx(Wl,{filter:s});case oe.Input:return e.jsx(Kl,{filter:s});case oe.BooleanToggle:return e.jsx(Ii,{filter:s});case"custom":const a=s.control.panel;return e.jsx(a,{filter:s});default:return null}}function Mi({filters:s,icon:a=e.jsx(zi,{}),color:t="primary",variant:n="outline",size:l="sm",disabled:i,className:o}){const u=Te(),c=e.jsx(j,{variant:n,color:t,startIcon:a,disabled:i,size:l,className:o,children:e.jsx(r,{message:"Filter"})}),d=e.jsx(C,{color:t,size:"sm",variant:n,disabled:i,className:o,children:a});return e.jsxs(_,{type:"popover",children:[u?d:c,e.jsx(Ti,{filters:s})]})}function Ri({actions:s,filters:a,filtersLoading:t,searchPlaceholder:n=h("Type to search..."),searchValue:l="",onSearchChange:i}){const{trans:o}=L();return e.jsxs(fn,{children:[e.jsx(Ye,{size:"sm",className:"mr-auto min-w-180 max-w-440 flex-auto",inputWrapperClassName:"mr-24 md:mr-0",placeholder:o(n),startAdornment:e.jsx(ea,{size:"sm"}),value:l,onChange:u=>{i(u.target.value)}}),a&&e.jsx(Mi,{filters:a,disabled:t}),s]})}function fn({children:s,...a}){return e.jsx("div",{className:"hidden-scrollbar relative mb-24 flex h-42 items-center gap-8 overflow-x-auto text-muted md:gap-12",...a,children:s})}function Vi({actions:s,selectedItemsCount:a}){return e.jsxs(fn,{"data-testid":"datatable-selected-header",children:[e.jsx("div",{className:"mr-auto",children:e.jsx(r,{message:"[one 1 item|other :count items] selected",values:{count:a}})}),s]})}function Oi(){return e.jsxs(Ge.div,{className:"flex items-center gap-6 h-30",...ws,children:[e.jsx(rs,{variant:"rect",size:"h-full w-144",radius:"rounded-md"}),e.jsx(rs,{variant:"rect",size:"h-full w-112",radius:"rounded-md"}),e.jsx(rs,{variant:"rect",size:"h-full w-172",radius:"rounded-md"})]},"filter-list-skeleton")}function jn({filters:s,filtersLoading:a,columns:t,searchPlaceholder:n,queryParams:l,endpoint:i,actions:o,selectedActions:u,emptyStateMessage:c,tableDomProps:d,onRowAction:g,enableSelection:f=!0,selectionStyle:b="checkbox",children:y,cellHeight:w,collapseTableOnMobile:k=!0}){var me;const N=Te(),{trans:F}=L(),{encodedFilters:A}=Ya(s),[S,Y]=m.useState({perPage:15}),[z,X]=m.useState([]),ie=Ei(i,{...S,...l,[Jl]:A},void 0,()=>X([])),H=!!(S.query||S.filters||A),re=(me=ie.data)==null?void 0:me.pagination;return e.jsxs(pn.Provider,{value:{selectedRows:z,setSelectedRows:X,endpoint:i,params:S,setParams:Y,query:ie},children:[y,e.jsx(ys,{initial:!1,mode:"wait",children:z.length?e.jsx(Vi,{selectedItemsCount:z.length,actions:u},"selected"):e.jsx(Ri,{searchPlaceholder:n,searchValue:S.query,onSearchChange:he=>Y({...S,query:he}),actions:o,filters:s,filtersLoading:a},"default")}),s&&e.jsx("div",{className:"mb-14",children:e.jsx(ys,{initial:!1,mode:"wait",children:a&&A?e.jsx(Oi,{}):e.jsx(Ge.div,{...ws,children:e.jsx(Zl,{filters:s})},"filter-list")})}),e.jsxs("div",{className:v("relative rounded-panel",(!N||!k)&&"border"),children:[ie.isFetching&&e.jsx(Xt,{isIndeterminate:!0,className:"absolute left-0 top-0 z-10 w-full","aria-label":F({message:"Loading"}),size:"xs"}),e.jsx("div",{className:"relative overflow-x-auto md:overflow-hidden",children:e.jsx(Xl,{...d,columns:t,data:(re==null?void 0:re.data)||[],sortDescriptor:S,onSortChange:he=>{Y({...S,...he})},selectedRows:z,enableSelection:f,selectionStyle:b,onSelectionChange:X,onAction:g,collapseOnMobile:k,cellHeight:w})}),(ie.isFetched||ie.isPlaceholderData)&&!(re!=null&&re.data.length)?e.jsx("div",{className:"pt-50",children:m.cloneElement(c,{isFiltering:H})}):void 0,e.jsx(_i,{query:ie,onPageChange:he=>Y({...S,page:he}),onPerPageChange:he=>Y({...S,perPage:he})})]})]})}function Be({title:s,headerContent:a,headerItemsAlign:t="items-end",className:n,padding:l,...i}){const o=m.useId();return e.jsxs("div",{className:v(l??"p-12 md:p-24",n),children:[s&&e.jsxs("div",{className:v("mb-16",a&&`flex ${t} gap-4`),children:[e.jsx(sa,{children:s}),e.jsx("h1",{className:"text-3xl font-light first:capitalize",id:o,children:s}),a]}),e.jsx(jn,{...i,tableDomProps:{"aria-labelledby":s?o:void 0}})]})}function Hi(){const{endpoint:s,selectedRows:a,setSelectedRows:t}=ma();return M({mutationFn:()=>qi(s,a),onSuccess:async()=>{await T.invalidateQueries({queryKey:Q(s)}),R(h("Deleted [one 1 record|other :count records]",{values:{count:a.length}})),t([])},onError:n=>se(n,h("Could not delete records"))})}function qi(s,a){return $.delete(`${s}/${a.join(",")}`).then(t=>t.data)}function gs(){return e.jsxs(_,{type:"modal",children:[e.jsx(j,{variant:"flat",color:"danger",className:"ml-auto",children:e.jsx(r,{message:"Delete"})}),e.jsx(Ui,{})]})}function Ui(){const s=Hi(),{selectedRows:a}=ma(),{close:t}=G();return e.jsx(Ee,{isLoading:s.isPending,title:e.jsx(r,{message:"Delete [one 1 item|other :count items]?",values:{count:a.length}}),body:e.jsx(r,{message:"This will permanently remove the items and cannot be undone."}),confirm:e.jsx(r,{message:"Delete"}),isDanger:!0,onConfirm:()=>{s.mutate(void 0,{onSuccess:()=>t()})}})}function ye({isFiltering:s,title:a,filteringTitle:t,image:n,size:l,className:i}){const o=Te();return l||(l=o?"sm":"md"),e.jsx(aa,{className:i,size:l,image:e.jsx(ta,{src:n}),title:s&&t?t:a,description:s&&t?e.jsx(r,{message:"Try another search query or different filters"}):void 0})}const _s=""+new URL("team-de984127.svg",import.meta.url).href,Pe=I.forwardRef(({children:s,to:a,elementType:t,onClick:n,href:l,download:i,icon:o,disabled:u},c)=>Te()?e.jsx(C,{ref:c,variant:"flat",color:"primary",className:"flex-shrink-0",size:"sm",to:a,href:l,download:i,elementType:t,onClick:n,disabled:u,children:o||e.jsx(Ne,{})}):e.jsx(j,{ref:c,startIcon:o||e.jsx(Ne,{}),variant:"flat",color:"primary",size:"sm",to:a,href:l,download:i,elementType:t,onClick:n,disabled:u,children:s}));function Ki(s){return M({mutationFn:a=>Wi(s,a),onError:a=>se(a)})}function Wi(s,a){return $.post(s,a).then(t=>t.data)}function Gi(){const{close:s}=G();return e.jsxs(Z,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Csv export"})}),e.jsx(ee,{children:e.jsx(r,{message:`Your request is being processed. We'll email you when the report is ready to download. In
            certain cases, it might take a little longer, depending on the number of items beings
            exported and the volume of activity.`})}),e.jsx(ge,{children:e.jsx(j,{variant:"flat",color:"primary",onClick:s,children:e.jsx(r,{message:"Got it"})})})]})}function bn({endpoint:s,payload:a}){const[t,n]=m.useState(!1),l=Ki(s);return e.jsxs(m.Fragment,{children:[e.jsx(C,{variant:"outline",color:"primary",size:"sm",className:"flex-shrink-0",disabled:l.isPending,onClick:()=>{l.mutate(a,{onSuccess:i=>{i.downloadPath?oa(i.downloadPath):n(!0)}})},children:e.jsx(ei,{})}),e.jsx(_,{type:"modal",isOpen:t,onOpenChange:n,children:e.jsx(Gi,{})})]})}function as({image:s,label:a,description:t,labelClassName:n,avatarSize:l="md"}){return e.jsxs("div",{className:"flex items-center gap-12",children:[s&&e.jsx(hn,{size:l,className:"flex-shrink-0",src:s}),e.jsxs("div",{className:"min-w-0 overflow-hidden",children:[e.jsx("div",{className:v(n,"overflow-hidden overflow-ellipsis"),children:a}),t&&e.jsx("div",{className:"overflow-hidden overflow-ellipsis text-xs text-muted",children:t})]})]})}const vn=B(e.jsx("path",{d:"m20 17.17-3.37-3.38c.64.22 1.23.48 1.77.76.97.51 1.58 1.52 1.6 2.62zm1.19 4.02-1.41 1.41-2.61-2.6H4v-2.78c0-1.12.61-2.15 1.61-2.66 1.29-.66 2.87-1.22 4.67-1.45L1.39 4.22 2.8 2.81l18.39 18.38zM15.17 18l-3-3H12c-2.37 0-4.29.73-5.48 1.34-.32.16-.52.5-.52.88V18h9.17zM12 6c1.1 0 2 .9 2 2 0 .86-.54 1.59-1.3 1.87l1.48 1.48C15.28 10.64 16 9.4 16 8c0-2.21-1.79-4-4-4-1.4 0-2.64.72-3.35 1.82l1.48 1.48C10.41 6.54 11.14 6 12 6z"}),"PersonOffOutlined");function Qi(s,a){return M({mutationFn:t=>Yi(a,t),onSuccess:async()=>{R(h("User suspended")),await T.invalidateQueries({queryKey:["users"]})},onError:t=>ke(t,s)})}function Yi(s,a){return $.post(`users/${s}/ban`,a).then(t=>t.data)}function Ji({user:s}){const{trans:a}=L(),{close:t,formId:n}=G(),l=W({defaultValues:{permanent:!0}}),i=l.watch("permanent"),o=Qi(l,s.id);return e.jsxs(Z,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Suspend “:name“",values:{name:s.display_name}})}),e.jsx(ee,{children:e.jsxs(ce,{id:n,form:l,onSubmit:u=>o.mutate(u,{onSuccess:()=>t()}),children:[e.jsx(Fa,{name:"ban_until",label:e.jsx(r,{message:"Suspend until"}),disabled:i}),e.jsx(P,{name:"permanent",className:"mt-12",children:e.jsx(r,{message:"Permanent"})}),e.jsx(p,{className:"mt-24",name:"comment",inputElementType:"textarea",maxLength:250,label:e.jsx(r,{message:"Reason"}),placeholder:a(h("Optional"))})]})}),e.jsxs(ge,{children:[e.jsx(j,{onClick:()=>t(),children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{form:n,variant:"flat",color:"primary",type:"submit",disabled:o.isPending,children:e.jsx(r,{message:"Suspend"})})]})]})}function Zi(s){return M({mutationFn:()=>Xi(s),onSuccess:()=>{R(h("User unsuspended")),T.invalidateQueries({queryKey:["users"]})},onError:a=>se(a)})}function Xi(s){return $.delete(`users/${s}/unban`).then(a=>a.data)}function eo(){return M({mutationFn:s=>so(s),onSuccess:async s=>{R(h(`Impersonating User "${s.user.display_name}"`)),window.location.href="/"},onError:s=>se(s)})}function so(s){return $.post(`admin/users/impersonate/${s.userId}`,s).then(a=>a.data)}const wt=[{key:"name",allowsSorting:!0,sortingKey:"email",width:"flex-3 min-w-200",visibleInMode:"all",header:()=>e.jsx(r,{message:"User"}),body:s=>e.jsx(as,{image:s.avatar,label:s.display_name,description:s.email})},{key:"subscribed",header:()=>e.jsx(r,{message:"Subscribed"}),width:"w-96",body:s=>{var a;return(a=s.subscriptions)!=null&&a.length?e.jsx(Ra,{className:"text-positive icon-md"}):e.jsx(Oe,{className:"text-danger icon-md"})}},{key:"roles",header:()=>e.jsx(r,{message:"Roles"}),body:s=>{var a;return e.jsx(si,{radius:"rounded",size:"xs",children:(a=s==null?void 0:s.roles)==null?void 0:a.map(t=>e.jsx(Va,{selectable:!0,children:e.jsx(q,{className:v("capitalize"),target:"_blank",to:`/admin/roles/${t.id}/edit`,children:e.jsx(r,{message:t.name})})},t.id))})}},{key:"firstName",allowsSorting:!0,header:()=>e.jsx(r,{message:"First name"}),body:s=>s.first_name},{key:"lastName",allowsSorting:!0,header:()=>e.jsx(r,{message:"Last name"}),body:s=>s.last_name},{key:"createdAt",allowsSorting:!0,width:"w-96",header:()=>e.jsx(r,{message:"Created at"}),body:s=>e.jsx("time",{children:e.jsx(ve,{date:s.created_at})})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),width:"w-128 flex-shrink-0",hideHeader:!0,align:"end",visibleInMode:"all",body:s=>e.jsxs("div",{className:"text-muted",children:[e.jsx(q,{to:`${s.id}/edit`,children:e.jsx(J,{label:e.jsx(r,{message:"Edit user"}),children:e.jsx(C,{size:"md",children:e.jsx(es,{})})})}),s.banned_at?e.jsx(ao,{user:s}):e.jsxs(_,{type:"modal",children:[e.jsx(J,{label:e.jsx(r,{message:"Suspend user"}),children:e.jsx(C,{size:"md",children:e.jsx(vn,{})})}),e.jsx(Ji,{user:s})]}),e.jsx(to,{user:s})]})}];function ao({user:s}){const a=Zi(s.id);return e.jsxs(_,{type:"modal",onClose:t=>{t&&a.mutate()},children:[e.jsx(J,{label:e.jsx(r,{message:"Remove suspension"}),children:e.jsx(C,{size:"md",color:"danger",children:e.jsx(vn,{})})}),e.jsx(Ee,{isDanger:!0,title:e.jsx(r,{message:"Suspend “:name“",values:{name:s.display_name}}),body:e.jsx(r,{message:"Are you sure you want to remove suspension from this user?"}),confirm:e.jsx(r,{message:"Unsuspend"})})]})}function to({user:s}){const a=eo();return e.jsxs(_,{type:"modal",children:[e.jsx(J,{label:e.jsx(r,{message:"Login as user"}),children:e.jsx(C,{size:"md",children:e.jsx(tl,{})})}),e.jsx(Ee,{title:e.jsx(r,{message:"Login as “:name“",values:{name:s.display_name}}),isLoading:a.isPending,body:e.jsx(r,{message:"Are you sure you want to login as this user?"}),confirm:e.jsx(r,{message:"Login"}),onConfirm:()=>{a.mutate({userId:s.id})}})]})}function no(){const{billing:s}=we(),a=s.enable?wt:wt.filter(t=>t.key!=="subscribed");return e.jsx(m.Fragment,{children:e.jsx(Be,{endpoint:"users",title:e.jsx(r,{message:"Users"}),filters:Ni,columns:a,actions:e.jsx(ro,{}),queryParams:{with:"subscriptions,bans"},selectedActions:e.jsx(gs,{}),emptyStateMessage:e.jsx(ye,{image:_s,title:e.jsx(r,{message:"No users have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching users"})})})})}function ro(){return e.jsxs(m.Fragment,{children:[e.jsx(bn,{endpoint:"users/csv/export"}),e.jsx(Pe,{elementType:q,to:"new",children:e.jsx(r,{message:"Add new user"})})]})}const lo=s=>(a,t,n)=>{const l=n.subscribe;return n.subscribe=(o,u,c)=>{let d=o;if(u){const g=(c==null?void 0:c.equalityFn)||Object.is;let f=o(n.getState());d=b=>{const y=o(b);if(!g(f,y)){const w=f;u(f=y,w)}},c!=null&&c.fireImmediately&&u(f,f)}return l(d)},s(a,t,n)},io=lo;function yn(s,a){return s.reduce((t,n,l)=>{const i=Math.floor(l/a);return t[i]||(t[i]=[]),t[i].push(n),t},[])}const oo={preview:{defaultRoute:"/",navigationRoutes:[]},sections:{general:{label:h("General"),position:1,buildBreadcrumb:()=>[{label:h("General"),location:"general"}]},themes:{label:h("Themes"),position:2,buildBreadcrumb:(s,a)=>{var i;const t=s.split("/").filter(o=>!!o),[,,,n]=t,l=[{label:h("Themes"),location:"themes"}];return n!=null&&l.push({label:(i=a.appearance.themes.all[+n])==null?void 0:i.name,location:`themes/${n}`}),t.at(-1)==="font"&&l.push({label:h("Font"),location:`themes/${n}/font`}),t.at(-1)==="radius"&&l.push({label:h("Rounding"),location:`themes/${n}/radius`}),l}},menus:{label:h("Menus"),position:3,buildBreadcrumb:(s,a)=>{const t=s.split("/").filter(o=>!!o),[,,...n]=t,l=[{label:h("Menus"),location:"menus"}],i=yn(n,2);return i.forEach(([o,u],c)=>{var d,g;if(o==="menus"&&u!=null)l.push({label:(d=a.settings.menus[+u])==null?void 0:d.name,location:`menus/${u}`});else if(o==="items"&&u!=null){const[,f]=i[c-1];l.push({label:(g=a.settings.menus[+f].items[+u])==null?void 0:g.label,location:`menus/${f}/${u}`})}}),l},config:{availableRoutes:["/","/login","/register","/contact","/pricing","/account-settings","/admin","/admin/appearance","/admin/settings","/admin/plans","/admin/subscriptions","/admin/users","/admin/roles","/admin/pages","/admin/tags","/admin/files","/admin/localizations","/admin/ads","/admin/settings/authentication","/admin/settings/branding","/admin/settings/cache","/admin/settings/providers","/api-docs"],positions:["admin-navbar","admin-sidebar","custom-page-navbar","auth-page-footer","auth-dropdown","account-settings-page","billing-page","checkout-page-navbar","checkout-page-footer","pricing-table-page","contact-us-page","notifications-page","footer","footer-secondary"]}},"custom-code":{label:h("Custom Code"),position:4,buildBreadcrumb:()=>[{label:h("Custom code"),location:"custom-code"}]},"seo-settings":{label:h("SEO Settings"),position:5,buildBreadcrumb:()=>[{label:h("SEO"),location:"seo"}]}}};function uo(s){const{size:a="md",inline:t,label:n,showValueLabel:l=!!n,className:i,width:o="w-full",slider:u,children:c,trackColor:d="primary",fillColor:g="primary"}=s,{domProps:f,trackRef:b,getThumbPercent:y,getThumbValueLabel:w,labelId:k,groupId:N,thumbIds:F,isDisabled:A,numberFormatter:S,minValue:Y,maxValue:z,step:X,values:ie,getValueLabel:H}=u;let re="",me=Math.max([...S.format(Y)].length,[...S.format(z)].length,[...S.format(X)].length);H?re=H(ie[0]):ie.length===1?re=w(0):ie.length===2&&(re=`${w(0)} – ${w(1)}`,me=3+2*Math.max(me,[...S.format(Y)].length,[...S.format(z)].length));const he=Oa({size:a,disabled:A,labelDisplay:"flex"}),Le=v("touch-none",i,o,{"flex items-center":t});return e.jsxs("div",{className:Le,role:"group",id:N,children:[(n||l)&&e.jsxs("div",{className:v(he.label,"select-none"),children:[n&&e.jsx("label",{onClick:()=>{var Me;(Me=document.getElementById(F[0]))==null||Me.focus()},id:k,htmlFor:N,children:n}),l&&e.jsx("output",{htmlFor:F[0],className:"ml-auto text-right","aria-live":"off",style:me?{width:`${me}ch`,minWidth:`${me}ch`}:void 0,children:re})]}),e.jsxs("div",{ref:b,className:v("relative",co(s)),...f,role:"presentation",children:[e.jsx("div",{className:v("absolute inset-0 m-auto rounded",mo(d,A),kt(a))}),e.jsx("div",{className:v("absolute inset-0 my-auto rounded",ho(g,A),kt(a)),style:{width:`${Math.max(y(0)*100,0)}%`}}),c]})]})}function co({size:s,wrapperHeight:a}){if(a)return a;switch(s){case"xs":return"h-14";case"sm":return"h-20";default:return"h-30"}}function kt(s){switch(s){case"xs":return"h-2";case"sm":return"h-3";default:return"h-4"}}function mo(s,a){switch(a&&(s="disabled"),s){case"disabled":return"bg-slider-disabled/60";case"primary":return"bg-primary-light";case"neutral":return"bg-divider";default:return s}}function ho(s,a){switch(a&&(s="disabled"),s){case"disabled":return"bg-slider-disabled";case"primary":return"bg-primary";default:return s}}function go({minValue:s=0,maxValue:a=100,isDisabled:t=!1,step:n=1,formatOptions:l,onChangeEnd:i,onPointerDown:o,label:u,getValueLabel:c,showThumbOnHoverOnly:d,thumbSize:g,onPointerMove:f,...b}){const[y,w]=m.useState(!1),k=Yt(l),{addGlobalListener:N,removeGlobalListener:F}=gn(),A=m.useRef(null),[S,Y]=Ts(b.value?b.value:void 0,b.defaultValue??[s],b.onChange),z=m.useRef(null);z.current=S;const[X,ie]=m.useState(new Array(S.length).fill(!1)),H=m.useRef(null);H.current=X;function re(D){return k.format(D)}const me=D=>{var K;return((K=H.current)==null?void 0:K[D])||!1},he=D=>re(S[D]),Le=D=>D===0?s:S[D-1],Me=D=>D===S.length-1?a:S[D+1],$e=(D,K)=>{if(t||!pa(D)||!z.current)return;const _e=Le(D),He=Me(D);K=vi(K,_e,He,n),z.current=Ct(z.current,D,K),Y(z.current)},xe=(D,K)=>{var He;if(t||!pa(D))return;const _e=(He=H.current)==null?void 0:He[D];H.current=Ct(H.current||[],D,K),ie(H.current),i&&_e&&!H.current.some(Boolean)&&i(z.current||[])},[ts,Es]=m.useState(void 0),Hs=D=>{const K=Math.min(1,(D-s)/(a-s));return isNaN(K)?0:K},qs=D=>Hs(z.current[D]),be=(D,K)=>{$e(D,gt(K))},Or=D=>Math.round((D-s)/n)*n+s,gt=D=>{const K=D*(a-s)+s;return Ys(Or(K),s,a)},xt=m.useRef(new Array(S.length).fill(!0)),pa=D=>xt.current[D],Hr=(D,K)=>{xt.current[D]=K},Se=m.useRef(null),pt=m.useRef(void 0),qr=D=>{if(!(D.pointerType==="mouse"&&(D.button!==0||D.altKey||D.ctrlKey||D.metaKey))&&(o==null||o(),A.current&&!t&&S.every((K,_e)=>!X[_e]))){const K=A.current.offsetWidth,_e=A.current.getBoundingClientRect().left,ja=(D.clientX-_e)/K,Us=gt(ja);let Re;const ns=S.findIndex(ba=>Us-ba<0);if(ns===0)Re=ns;else if(ns===-1)Re=S.length-1;else{const ba=S[ns-1],Yr=S[ns];Math.abs(ba-Us)<Math.abs(Yr-Us)?Re=ns-1:Re=ns}Re>=0&&pa(Re)?(D.preventDefault(),Se.current=Re,Es(Re),pt.current=D.pointerId,xe(Se.current,!0),$e(Re,Us),N(window,"pointerup",ft,!1)):Se.current=null}},Fs=m.useRef(null),{domProps:Ur}=ai({onPointerDown:qr,onMoveStart(){Fs.current=null},onMove(D,K){var He;const _e=((He=A.current)==null?void 0:He.offsetWidth)||0;if(Fs.current==null&&(Fs.current=qs(Se.current||0)*_e),Fs.current+=K,Se.current!=null&&A.current){const ja=Ys(Fs.current/_e,0,1);be(Se.current,ja)}},onMoveEnd(){Se.current!=null&&(xe(Se.current,!1),Se.current=null)}}),Kr=us(Ur,{onPointerEnter:()=>{w(!0)},onPointerLeave:()=>{w(!1)},onPointerMove:D=>{f==null||f(D)}}),ft=D=>{D.pointerId===pt.current&&(Se.current!=null&&(xe(Se.current,!1),Se.current=null),F(window,"pointerup",ft,!1))},fa=m.useId(),Wr=u?`${fa}-label`:void 0,Gr=`${fa}-group`,Qr=[...Array(S.length)].map((D,K)=>`${fa}-thumb-${K}`);return{domProps:Kr,trackRef:A,isDisabled:t,step:n,values:S,minValue:s,maxValue:a,focusedThumb:ts,labelId:Wr,groupId:Gr,thumbIds:Qr,numberFormatter:k,getThumbPercent:qs,getThumbMinValue:Le,getThumbMaxValue:Me,getThumbValueLabel:he,isThumbDragging:me,setThumbValue:$e,updateDraggedThumbs:xe,setThumbEditable:Hr,setFocusedThumb:Es,getValueLabel:c,isPointerOver:y,showThumbOnHoverOnly:d,thumbSize:g}}function Ct(s,a,t){return s[a]===t?s:[...s.slice(0,a),t,...s.slice(a+1)]}function xo({index:s,slider:a,isDisabled:t,ariaLabel:n,inputRef:l,onBlur:i,fillColor:o="primary"}){const u=en(l),{addGlobalListener:c,removeGlobalListener:d}=gn(),{step:g,values:f,focusedThumb:b,labelId:y,thumbIds:w,isDisabled:k,getThumbPercent:N,getThumbMinValue:F,getThumbMaxValue:A,getThumbValueLabel:S,setThumbValue:Y,updateDraggedThumbs:z,isThumbDragging:X,setThumbEditable:ie,setFocusedThumb:H,isPointerOver:re,showThumbOnHoverOnly:me,thumbSize:he="w-18 h-18"}=a,Le=X(s),Me=f[s];ie(s,!t);const $e=t||k,xe=m.useCallback(()=>{u.current&&u.current.focus({preventScroll:!0})},[u]),ts=b===s;m.useEffect(()=>{ts&&xe()},[ts,xe]);const Es=m.useRef(void 0),Hs=be=>{be.pointerId===Es.current&&(xe(),z(s,!1),d(window,"pointerup",Hs,!1))},qs=v("outline-none rounded-full top-1/2 -translate-y-1/2 -translate-x-1/2 absolute inset-0 transition-button duration-200",he,!$e&&"shadow-md",po({fillColor:o,isDisabled:$e,isDragging:Le}),!me||me&&Le||re?"visible":"invisible");return e.jsx("div",{role:"presentation",className:qs,style:{left:`${Math.max(N(s)*100,0)}%`},onPointerDown:be=>{be.button!==0||be.altKey||be.ctrlKey||be.metaKey||(xe(),Es.current=be.pointerId,z(s,!0),c(window,"pointerup",Hs,!1))},children:e.jsx("input",{id:w[s],onKeyDown:jt(()=>{z(s,!0)}),onKeyUp:jt(()=>{z(s,!1)}),ref:u,tabIndex:$e?void 0:0,min:F(s),max:A(s),step:g,value:Me,disabled:$e,"aria-label":n,"aria-labelledby":y,"aria-orientation":"horizontal","aria-valuetext":S(s),onFocus:()=>{H(s)},onBlur:be=>{H(void 0),z(s,!1),i==null||i(be)},onChange:be=>{Y(s,parseFloat(be.target.value))},type:"range",className:"sr-only"})})}function po({isDisabled:s,isDragging:a,fillColor:t}){return s?"bg-slider-disabled cursor-default":t&&t!=="primary"?t:v("hover:bg-primary-dark",a?"bg-primary-dark":"bg-primary")}function fo({inputRef:s,onBlur:a,...t}){const{onChange:n,onChangeEnd:l,value:i,defaultValue:o,...u}=t,c={...u,value:i!=null?[i]:void 0,defaultValue:o!=null?[o]:void 0,onChange:g=>{n==null||n(g[0])},onChangeEnd:g=>{l==null||l(g[0])}},d=go(c);return e.jsx(uo,{...c,slider:d,children:e.jsx(xo,{fillColor:t.fillColor,index:0,slider:d,inputRef:s,onBlur:a})})}function jo({name:s,...a}){const{field:{onChange:t,onBlur:n,value:l="",ref:i}}=Cs({name:s}),o={onChange:t,onBlur:n,value:l||""};return e.jsx(fo,{inputRef:i,...us(o,a)})}const pe=m.forwardRef(({startIcon:s,children:a,className:t,description:n,...l},i)=>e.jsxs(na,{ref:i,display:"flex",className:v("relative mb-10 h-54 w-full items-center gap-10 rounded-input border bg px-14 text-sm hover:bg-hover",t),variant:null,...l,children:[s,e.jsxs("span",{className:"block min-w-0",children:[e.jsx("span",{className:"block",children:a}),n&&e.jsx("span",{className:"block overflow-hidden overflow-ellipsis whitespace-nowrap text-xs text-muted",children:n})]}),e.jsx(Ms,{"aria-hidden":!0,className:"ml-auto text-muted icon-sm"})]})),Xa=B(e.jsx("path",{stroke:"#E0E0E0",d:"M24,44c-7.168,0-13-5.816-13-12.971C11,24,24,4,24,4s13,20,13,27.029C37,38.184,31.168,44,24,44z"}));function Ns(){return(Ns=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s}).apply(this,arguments)}function ha(s,a){if(s==null)return{};var t,n,l={},i=Object.keys(s);for(n=0;n<i.length;n++)a.indexOf(t=i[n])>=0||(l[t]=s[t]);return l}function zs(s){var a=m.useRef(s),t=m.useRef(function(n){a.current&&a.current(n)});return a.current=s,t.current}var Is=function(s,a,t){return a===void 0&&(a=0),t===void 0&&(t=1),s>t?t:s<a?a:s},As=function(s){return"touches"in s},Aa=function(s){return s&&s.ownerDocument.defaultView||self},St=function(s,a,t){var n=s.getBoundingClientRect(),l=As(a)?function(i,o){for(var u=0;u<i.length;u++)if(i[u].identifier===o)return i[u];return i[0]}(a.touches,t):a;return{left:Is((l.pageX-(n.left+Aa(s).pageXOffset))/n.width),top:Is((l.pageY-(n.top+Aa(s).pageYOffset))/n.height)}},Dt=function(s){!As(s)&&s.preventDefault()},wn=I.memo(function(s){var a=s.onMove,t=s.onKey,n=ha(s,["onMove","onKey"]),l=m.useRef(null),i=zs(a),o=zs(t),u=m.useRef(null),c=m.useRef(!1),d=m.useMemo(function(){var y=function(N){Dt(N),(As(N)?N.touches.length>0:N.buttons>0)&&l.current?i(St(l.current,N,u.current)):k(!1)},w=function(){return k(!1)};function k(N){var F=c.current,A=Aa(l.current),S=N?A.addEventListener:A.removeEventListener;S(F?"touchmove":"mousemove",y),S(F?"touchend":"mouseup",w)}return[function(N){var F=N.nativeEvent,A=l.current;if(A&&(Dt(F),!function(Y,z){return z&&!As(Y)}(F,c.current)&&A)){if(As(F)){c.current=!0;var S=F.changedTouches||[];S.length&&(u.current=S[0].identifier)}A.focus(),i(St(A,F,u.current)),k(!0)}},function(N){var F=N.which||N.keyCode;F<37||F>40||(N.preventDefault(),o({left:F===39?.05:F===37?-.05:0,top:F===40?.05:F===38?-.05:0}))},k]},[o,i]),g=d[0],f=d[1],b=d[2];return m.useEffect(function(){return b},[b]),I.createElement("div",Ns({},n,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:l,onKeyDown:f,tabIndex:0,role:"slider"}))}),et=function(s){return s.filter(Boolean).join(" ")},kn=function(s){var a=s.color,t=s.left,n=s.top,l=n===void 0?.5:n,i=et(["react-colorful__pointer",s.className]);return I.createElement("div",{className:i,style:{top:100*l+"%",left:100*t+"%"}},I.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:a}}))},ue=function(s,a,t){return a===void 0&&(a=0),t===void 0&&(t=Math.pow(10,a)),Math.round(t*s)/t},bo=function(s){return Co(Ba(s))},Ba=function(s){return s[0]==="#"&&(s=s.substring(1)),s.length<6?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?ue(parseInt(s[3]+s[3],16)/255,2):1}:{r:parseInt(s.substring(0,2),16),g:parseInt(s.substring(2,4),16),b:parseInt(s.substring(4,6),16),a:s.length===8?ue(parseInt(s.substring(6,8),16)/255,2):1}},vo=function(s){return ko(wo(s))},yo=function(s){var a=s.s,t=s.v,n=s.a,l=(200-a)*t/100;return{h:ue(s.h),s:ue(l>0&&l<200?a*t/100/(l<=100?l:200-l)*100:0),l:ue(l/2),a:ue(n,2)}},_a=function(s){var a=yo(s);return"hsl("+a.h+", "+a.s+"%, "+a.l+"%)"},wo=function(s){var a=s.h,t=s.s,n=s.v,l=s.a;a=a/360*6,t/=100,n/=100;var i=Math.floor(a),o=n*(1-t),u=n*(1-(a-i)*t),c=n*(1-(1-a+i)*t),d=i%6;return{r:ue(255*[n,u,o,o,c,n][d]),g:ue(255*[c,n,n,u,o,o][d]),b:ue(255*[o,o,c,n,n,u][d]),a:ue(l,2)}},Ws=function(s){var a=s.toString(16);return a.length<2?"0"+a:a},ko=function(s){var a=s.r,t=s.g,n=s.b,l=s.a,i=l<1?Ws(ue(255*l)):"";return"#"+Ws(a)+Ws(t)+Ws(n)+i},Co=function(s){var a=s.r,t=s.g,n=s.b,l=s.a,i=Math.max(a,t,n),o=i-Math.min(a,t,n),u=o?i===a?(t-n)/o:i===t?2+(n-a)/o:4+(a-t)/o:0;return{h:ue(60*(u<0?u+6:u)),s:ue(i?o/i*100:0),v:ue(i/255*100),a:l}},So=I.memo(function(s){var a=s.hue,t=s.onChange,n=et(["react-colorful__hue",s.className]);return I.createElement("div",{className:n},I.createElement(wn,{onMove:function(l){t({h:360*l.left})},onKey:function(l){t({h:Is(a+360*l.left,0,360)})},"aria-label":"Hue","aria-valuenow":ue(a),"aria-valuemax":"360","aria-valuemin":"0"},I.createElement(kn,{className:"react-colorful__hue-pointer",left:a/360,color:_a({h:a,s:100,v:100,a:1})})))}),Do=I.memo(function(s){var a=s.hsva,t=s.onChange,n={backgroundColor:_a({h:a.h,s:100,v:100,a:1})};return I.createElement("div",{className:"react-colorful__saturation",style:n},I.createElement(wn,{onMove:function(l){t({s:100*l.left,v:100-100*l.top})},onKey:function(l){t({s:Is(a.s+100*l.left,0,100),v:Is(a.v-100*l.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ue(a.s)+"%, Brightness "+ue(a.v)+"%"},I.createElement(kn,{className:"react-colorful__saturation-pointer",top:1-a.v/100,left:a.s/100,color:_a(a)})))}),Cn=function(s,a){if(s===a)return!0;for(var t in s)if(s[t]!==a[t])return!1;return!0},No=function(s,a){return s.toLowerCase()===a.toLowerCase()||Cn(Ba(s),Ba(a))};function Eo(s,a,t){var n=zs(t),l=m.useState(function(){return s.toHsva(a)}),i=l[0],o=l[1],u=m.useRef({color:a,hsva:i});m.useEffect(function(){if(!s.equal(a,u.current.color)){var d=s.toHsva(a);u.current={hsva:d,color:a},o(d)}},[a,s]),m.useEffect(function(){var d;Cn(i,u.current.hsva)||s.equal(d=s.fromHsva(i),u.current.color)||(u.current={hsva:i,color:d},n(d))},[i,s,n]);var c=m.useCallback(function(d){o(function(g){return Object.assign({},g,d)})},[]);return[i,c]}var Fo=typeof window<"u"?m.useLayoutEffect:m.useEffect,$o=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Nt=new Map,Ao=function(s){Fo(function(){var a=s.current?s.current.ownerDocument:document;if(a!==void 0&&!Nt.has(a)){var t=a.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Nt.set(a,t);var n=$o();n&&t.setAttribute("nonce",n),a.head.appendChild(t)}},[])},Bo=function(s){var a=s.className,t=s.colorModel,n=s.color,l=n===void 0?t.defaultColor:n,i=s.onChange,o=ha(s,["className","colorModel","color","onChange"]),u=m.useRef(null);Ao(u);var c=Eo(t,l,i),d=c[0],g=c[1],f=et(["react-colorful",a]);return I.createElement("div",Ns({},o,{ref:u,className:f}),I.createElement(Do,{hsva:d,onChange:g}),I.createElement(So,{hue:d.h,onChange:g,className:"react-colorful__last-control"}))},_o={defaultColor:"000",toHsva:bo,fromHsva:function(s){return vo({h:s.h,s:s.s,v:s.v,a:1})},equal:No},zo=function(s){return I.createElement(Bo,Ns({},s,{colorModel:_o}))},Io=/^#?([0-9A-F]{3,8})$/i,To=function(s){var a=s.color,t=a===void 0?"":a,n=s.onChange,l=s.onBlur,i=s.escape,o=s.validate,u=s.format,c=s.process,d=ha(s,["color","onChange","onBlur","escape","validate","format","process"]),g=m.useState(function(){return i(t)}),f=g[0],b=g[1],y=zs(n),w=zs(l),k=m.useCallback(function(F){var A=i(F.target.value);b(A),o(A)&&y(c?c(A):A)},[i,c,o,y]),N=m.useCallback(function(F){o(F.target.value)||b(i(t)),w(F)},[t,i,o,w]);return m.useEffect(function(){b(i(t))},[t,i]),I.createElement("input",Ns({},d,{value:u?u(f):f,spellCheck:"false",onChange:k,onBlur:N}))},Et=function(s){return"#"+s},Po=function(s){var a=s.prefixed,t=s.alpha,n=ha(s,["prefixed","alpha"]),l=m.useCallback(function(o){return o.replace(/([^0-9A-F]+)/gi,"").substring(0,t?8:6)},[t]),i=m.useCallback(function(o){return function(u,c){var d=Io.exec(u),g=d?d[1].length:0;return g===3||g===6||!!c&&g===4||!!c&&g===8}(o,t)},[t]);return I.createElement(To,Ns({},n,{escape:l,format:a?Et:void 0,process:Et,validate:i}))},Sn={};Sn={alpha:"ألفا",black:"أسود",blue:"أزرق","blue purple":"أرجواني مزرق",brightness:"السطوع",brown:"بني","brown yellow":"أصفر بني",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"سماوي","cyan blue":"أزرق سماوي",dark:"داكن",gray:"رمادي",grayish:"مائل للرمادي",green:"أخضر","green cyan":"سماوي مخضر",hue:"درجة اللون",light:"فاتح",lightness:"الإضاءة",magenta:"أرجواني","magenta pink":"أرجواني وردي",orange:"برتقالي","orange yellow":"أصفر برتقالي",pale:"باهت",pink:"وردي","pink red":"أحمر وردي",purple:"أرجواني","purple magenta":"بنفسجي",red:"أحمر","red orange":"برتقالي محمر",saturation:"التشبع",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} شفاف`,"very dark":"داكن جدًا","very light":"فاتح جدًا",vibrant:"ساطع",white:"أبيض",yellow:"أصفر","yellow green":"أخضر مصفر"};var Dn={};Dn={alpha:"Алфа",black:"черно",blue:"Синьо","blue purple":"синьо лилаво",brightness:"Яркост",brown:"кафяво","brown yellow":"кафяво жълто",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"циан","cyan blue":"циан синьо",dark:"тъмно",gray:"сиво",grayish:"сивкав",green:"Зелено","green cyan":"зелен циан",hue:"Оттенък",light:"светло",lightness:"Лекота",magenta:"магента","magenta pink":"магента розово",orange:"оранжево","orange yellow":"оранжево жълто",pale:"бледо",pink:"розово","pink red":"розово червено",purple:"лилаво","purple magenta":"лилаво магента",red:"Червено","red orange":"червен портокал",saturation:"Наситеност",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} прозрачен`,"very dark":"много тъмно","very light":"много светло",vibrant:" ярко",white:"бяло",yellow:"жълто","yellow green":"жълто зелен"};var Nn={};Nn={alpha:"Alfa",black:"černá",blue:"Modrá","blue purple":"modrofialová",brightness:"Jas",brown:"hnědá","brown yellow":"hnědožlutá",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"tyrkysová","cyan blue":"tyrkysovomodrá",dark:"tmavá",gray:"šedá",grayish:"našedlá",green:"Zelená","green cyan":"zelenotyrkysová",hue:"Odstín",light:"světlá",lightness:"Světlost",magenta:"purpurová","magenta pink":"purpurově růžová",orange:"oranžová","orange yellow":"oranžovožlutá",pale:"bledá",pink:"růžová","pink red":"růžovočervená",purple:"fialová","purple magenta":"fialově purpurová",red:"Červená","red orange":"červenooranžová",saturation:"Sytost",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} průhledné`,"very dark":"velmi tmavá","very light":"velmi světlá",vibrant:"zářivá",white:"bílá",yellow:"žlutá","yellow green":"žlutozelená"};var En={};En={alpha:"Alfa",black:"sort",blue:"Blå","blue purple":"blålilla",brightness:"Lysstyrke",brown:"brun","brown yellow":"brungul",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"cyan","cyan blue":"cyan blå",dark:"mørk",gray:"grå",grayish:"grålig",green:"Grøn","green cyan":"grøn cyan",hue:"Tone",light:"lys",lightness:"Lyshed",magenta:"magenta","magenta pink":"magenta pink",orange:"orange","orange yellow":"orangegul",pale:"bleg",pink:"lyserød","pink red":"lyserødlig rød",purple:"lilla","purple magenta":"lilla magenta",red:"Rød","red orange":"rødorange",saturation:"Farvemætning",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} gennemsigtig`,"very dark":"meget mørk","very light":"meget lys",vibrant:"klar",white:"hvid",yellow:"gul","yellow green":"gulgrøn"};var Fn={};Fn={alpha:"Alpha",black:"Schwarz",blue:"Blau","blue purple":"Blaulila",brightness:"Helligkeit",brown:"Braun","brown yellow":"Braungelb",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"Cyan","cyan blue":"Cyanblau",dark:"dunkles",gray:"Grau",grayish:"gräuliches",green:"Grün","green cyan":"Grüncyan",hue:"Farbton",light:"helles",lightness:"Leuchtkraft",magenta:"Magenta","magenta pink":"Magentarosa",orange:"Orange","orange yellow":"Orangegelb",pale:"blasses",pink:"Rosa","pink red":"Rosarot",purple:"Lila","purple magenta":"Lilamagenta",red:"Rot","red orange":"Rotorange",saturation:"Sättigung",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, zu ${s.percentTransparent} transparent`,"very dark":"sehr dunkles","very light":"sehr helles",vibrant:"lebhaftes",white:"Weiß",yellow:"Gelb","yellow green":"Gelbgrün"};var $n={};$n={alpha:"Άλφα",black:"μαύρο",blue:"Μπλε","blue purple":"μπλε μωβ",brightness:"Φωτεινότητα",brown:"καφέ","brown yellow":"καφέ κίτρινο",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"κυανό","cyan blue":"κυανό μπλε",dark:"σκούρο",gray:"γκρι",grayish:"γκριζωπό",green:"Πράσινο","green cyan":"πράσινο κυανό",hue:"Τόνος",light:"ανοιχτό",lightness:"Φωτεινότητα",magenta:"ματζέντα","magenta pink":"ματζέντα ροζ",orange:"πορτοκαλί","orange yellow":"πορτοκαλί κίτρινο",pale:"ανοιχτό",pink:"ροζ","pink red":"ροζ κόκκινο",purple:"μωβ","purple magenta":"μωβ ματζέντα",red:"Κόκκινο","red orange":"κόκκινο πορτοκαλί",saturation:"Κορεσμός",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} διαφανές`,"very dark":"πολύ σκούρο","very light":"πολύ ανοιχτό",vibrant:"έντονο",white:"λευκό",yellow:"κίτρινο","yellow green":"κίτρινο πράσινο"};var An={};An={hue:"Hue",saturation:"Saturation",lightness:"Lightness",brightness:"Brightness",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} transparent`,"very dark":"very dark",dark:"dark",light:"light","very light":"very light",pale:"pale",grayish:"grayish",vibrant:"vibrant",black:"black",white:"white",gray:"gray",pink:"pink","pink red":"pink red","red orange":"red orange",brown:"brown",orange:"orange","orange yellow":"orange yellow","brown yellow":"brown yellow",yellow:"yellow","yellow green":"yellow green","green cyan":"green cyan",cyan:"cyan","cyan blue":"cyan blue","blue purple":"blue purple",purple:"purple","purple magenta":"purple magenta",magenta:"magenta","magenta pink":"magenta pink"};var Bn={};Bn={alpha:"Alpha",black:"negro",blue:"Azul","blue purple":"púrpura azulado",brightness:"Brillo",brown:"marrón","brown yellow":"amarillo amarronado",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"cian","cyan blue":"azul cian",dark:"oscuro",gray:"gris",grayish:"grisáceo",green:"Verde","green cyan":"cian verdoso",hue:"Tono",light:"claro",lightness:"Luminosidad",magenta:"magenta","magenta pink":"rosa magenta",orange:"naranja","orange yellow":"amarillo anaranjado",pale:"pálido",pink:"rosa","pink red":"rojo rosado",purple:"morado","purple magenta":"magenta violáceo",red:"Rojo","red orange":"naranja rojizo",saturation:"Saturación",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} transparente`,"very dark":"muy oscuro","very light":"muy claro",vibrant:"intenso",white:"blanco",yellow:"amarillo","yellow green":"verde amarillento"};var _n={};_n={alpha:"Alfa",black:"must",blue:"Sinine","blue purple":"sinakaslilla",brightness:"Heledus",brown:"pruun","brown yellow":"pruunikaskollane",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"tsüaan","cyan blue":"tsüaansinine",dark:"tume",gray:"hall",grayish:"hallikas",green:"Roheline","green cyan":"tsüaanroheline",hue:"Värv",light:"valgus",lightness:"Valgus",magenta:"magentapunane","magenta pink":"magentaroosa",orange:"oranž","orange yellow":"oranžikaskollane",pale:"kahvatu",pink:"roosa","pink red":"vaarikapunane",purple:"lilla","purple magenta":"purpurne magenta",red:"Punane","red orange":"punakasoranž",saturation:"Küllastus",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} läbipaistev`,"very dark":"väga tume","very light":"väga hele",vibrant:"ere",white:"valge",yellow:"kollane","yellow green":"kollakasroheline"};var zn={};zn={alpha:"Alpha",black:"musta",blue:"Sininen","blue purple":"sinivioletti",brightness:"Kirkkaus",brown:"ruskea","brown yellow":"ruskeankeltainen",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"syaani","cyan blue":"syaaninsininen",dark:"tumma",gray:"harmaa",grayish:"harmahtava",green:"Vihreä","green cyan":"vihreänsyaani",hue:"Sävy",light:"vaalea",lightness:"Valomäärä",magenta:"magenta","magenta pink":"magentapinkki",orange:"oranssi","orange yellow":"oranssinkeltainen",pale:"vaalea",pink:"pinkki","pink red":"vaaleanpunainen",purple:"violetti","purple magenta":"violettimagenta",red:"Punainen","red orange":"punaoranssi",saturation:"Värikylläisyys",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} läpinäkyvä`,"very dark":"hyvin tumma","very light":"erittäin vaalea",vibrant:"eloisa",white:"valkea",yellow:"keltainen","yellow green":"keltavihreä"};var In={};In={alpha:"Alpha",black:"Noir",blue:"Bleu","blue purple":"Violet bleu",brightness:"Luminosité",brown:"Brun","brown yellow":"Jaune brun",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"Cyan","cyan blue":"Bleu cyan",dark:"Sombre",gray:"Gris",grayish:"Grisâtre",green:"Vert","green cyan":"Cyan vert",hue:"Teinte",light:"Clair",lightness:"Luminosité",magenta:"Magenta","magenta pink":"Rose magenta",orange:"Orange","orange yellow":"Jaune orangé",pale:"Pâle",pink:"Rose","pink red":"Rouge rosé",purple:"Violet","purple magenta":"Magenta violet",red:"Rouge","red orange":"Orange rouge",saturation:"Saturation",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} transparent`,"very dark":"Très sombre","very light":"Très clair",vibrant:"Vif",white:"Blanc",yellow:"Jaune","yellow green":"Vert jaune"};var Tn={};Tn={alpha:"אלפא",black:"שחור",blue:"כחול","blue purple":"כחול סגול",brightness:"בהירות",brown:"חום","brown yellow":"חום צהוב",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"טורקיז","cyan blue":"כחול ציאן",dark:"כהה",gray:"אפור",grayish:"אפרפר",green:"ירוק","green cyan":"ציאן ירוק",hue:"גוון",light:"אור",lightness:"כמות אור",magenta:"מג'נטה","magenta pink":"ורוד מג'נטה",orange:"כתום","orange yellow":"כתום צהוב",pale:"חיוור",pink:"ורוד","pink red":"ורוד אדום",purple:"סגול","purple magenta":"מג'נטה סגול",red:"אדום","red orange":"כתום אדום",saturation:"רוויה",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} שקוף`,"very dark":"כהה מאוד","very light":"בהיר מאוד",vibrant:"תוסס",white:"לבן",yellow:"צהוב","yellow green":"צהוב ירוק"};var Pn={};Pn={alpha:"Alfa",black:"crno",blue:"Plava","blue purple":"plavo ljubičasta",brightness:"Svjetlina",brown:"smeđa","brown yellow":"smeđe žuta",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"cijan","cyan blue":"cijan plava",dark:"tamno",gray:"siva",grayish:"sivkasto",green:"Zelena","green cyan":"zelena cijan",hue:"Nijansa",light:"svjetlo",lightness:"Osvijetljenost",magenta:"magenta","magenta pink":"magentno ružičasta",orange:"narančasta","orange yellow":"narančasto žuta",pale:"blijeda",pink:"ružičasta","pink red":"ružičasto crvena",purple:"ljubičasta","purple magenta":"ljubičasta magenta",red:"Crvena","red orange":"crveno narančasta",saturation:"Zasićenost",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} prozirnosti`,"very dark":"jako tamna","very light":"vrlo svijetlo",vibrant:"vibrantna",white:"bijela",yellow:"žuto","yellow green":"žuto zelena"};var Ln={};Ln={alpha:"Alfa",black:"fekete",blue:"Kék","blue purple":"kék lila",brightness:"Fényesség",brown:"barna","brown yellow":"barna sárga",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"ciánkék","cyan blue":"ciánkék",dark:"sötét",gray:"szürke",grayish:"szürkés",green:"Zöld","green cyan":"zöld ciánkék",hue:"Színárnyalat",light:"világos",lightness:"Világosság",magenta:"bíbor","magenta pink":"bíbor rózsaszín",orange:"narancs","orange yellow":"narancssárga",pale:"halvány",pink:"rózsaszín","pink red":"rózsaszín piros",purple:"lila","purple magenta":"lila bíbor",red:"Piros","red orange":"piros narancs",saturation:"Telítettség",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} átlátszó`,"very dark":"nagyon sötét","very light":"nagyon világos",vibrant:"élénk",white:"fehér",yellow:"sárga","yellow green":"sárga zöld"};var Mn={};Mn={alpha:"Alfa",black:"nero",blue:"Blu","blue purple":"blu viola",brightness:"Luminosità",brown:"marrone","brown yellow":"giallo bruno",colorName:s=>`${s.hue} ${s.chroma} ${s.lightness}`,cyan:"ciano","cyan blue":"blu ciano",dark:"scuro",gray:"grigio",grayish:"grigiastro",green:"Verde","green cyan":"verde ciano",hue:"Tonalità",light:"chiaro",lightness:"Luminosità",magenta:"magenta","magenta pink":"rosa magenta",orange:"arancio","orange yellow":"giallo arancio",pale:"tenue",pink:"rosa","pink red":"rosa rosso",purple:"viola","purple magenta":"viola magenta",red:"Rosso","red orange":"rosso arancio",saturation:"Saturazione",transparentColorName:s=>`${s.hue} ${s.chroma} ${s.lightness}, trasparenza ${s.percentTransparent}`,"very dark":"molto scuro","very light":"molto chiaro",vibrant:"vivace",white:"bianco",yellow:"giallo","yellow green":"giallo verde"};var Rn={};Rn={alpha:"アルファ",black:"ブラック",blue:"青","blue purple":"ブルーパープル",brightness:"明るさ",brown:"ブラウン","brown yellow":"ブラウンイエロー",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"シアン","cyan blue":"シアンブルー",dark:"ダーク",gray:"グレー",grayish:"グレイッシュ",green:"緑","green cyan":"グリーンシアン",hue:"色相",light:"ライト",lightness:"明度",magenta:"マゼンタ","magenta pink":"マゼンタピンク",orange:"オレンジ","orange yellow":"オレンジイエロー",pale:"ペール",pink:"ピンク","pink red":"ピンクレッド",purple:"パープル","purple magenta":"パープルマゼンタ",red:"赤","red orange":"レッドオレンジ",saturation:"彩度",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} 透明`,"very dark":"最も暗い","very light":"ベリーライト",vibrant:"鮮やか",white:"ホワイト",yellow:"イエロー","yellow green":"イエローグリーン"};var Vn={};Vn={alpha:"알파",black:"검은색",blue:"파랑","blue purple":"청자색",brightness:"명도",brown:"갈색","brown yellow":"황갈색",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"청록색","cyan blue":"청록색",dark:"다크",gray:"회색",grayish:"회갈색",green:"초록","green cyan":"청록색",hue:"색조",light:"라이트",lightness:"밝기",magenta:"자홍색","magenta pink":"마젠타 핑크",orange:"주황색","orange yellow":"불그스름한 노랑",pale:"흙색",pink:"분홍색","pink red":"핑크 레드",purple:"자주색","purple magenta":"보라빛 자홍색",red:"빨강","red orange":"붉은 주황색",saturation:"채도",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} 투명도`,"very dark":"매우 어두운","very light":"매우 연함",vibrant:"강렬한",white:"흰색",yellow:"노란색","yellow green":"연두색"};var On={};On={alpha:"Alfa",black:"juoda",blue:"Mėlyna","blue purple":"melsvai violetinė",brightness:"Ryškumas",brown:"ruda","brown yellow":"rusvai geltona",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"žalsvai mėlyna","cyan blue":"žalsvai mėlyna",dark:"tamsi",gray:"pilka",grayish:"pilkšva",green:"Žalia","green cyan":"žalsvai mėlyna",hue:"Atspalvis",light:"šviesi",lightness:"Šviesumas",magenta:"rausvai raudona","magenta pink":"purpurinė",orange:"oranžinė","orange yellow":"oranžinio atspalvio geltona",pale:"blyški",pink:"rožinė","pink red":"rožinė raudona",purple:"violetinė","purple magenta":"purpurinė rausvai raudona",red:"Raudona","red orange":"rausvai oranžinė",saturation:"Įsotinimas",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} skaidri`,"very dark":"labai tamsi","very light":"labai šviesi",vibrant:"ryški",white:"balta",yellow:"geltona","yellow green":"gelsvai žalia"};var Hn={};Hn={alpha:"Alfa",black:"melns",blue:"Zila","blue purple":"zili violets",brightness:"Spilgtums",brown:"brūns","brown yellow":"brūni dzeltens",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"ciāns","cyan blue":"ciāna zils",dark:"tumšs",gray:"pelēks",grayish:"pelēcīgs",green:"Zaļa","green cyan":"zaļš ciāns",hue:"Nokrāsa",light:"gaišs",lightness:"Gaišums",magenta:"fuksiju","magenta pink":"fuksiju rozā",orange:"oranžs","orange yellow":"oranži dzeltens",pale:"bāls",pink:"rozā","pink red":"rozīgi sarkans",purple:"violets","purple magenta":"violets fuksiju",red:"Sarkana","red orange":"sarkanīgi oranžs",saturation:"Piesātinājums",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} caurspīdīgs`,"very dark":"ļoti tumšs","very light":"ļoti gaišs",vibrant:"košs",white:"balts",yellow:"dzeltens","yellow green":"dzelteni zaļš"};var qn={};qn={alpha:"Alfa",black:"svart",blue:"Blå","blue purple":"blålilla",brightness:"Lysstyrke",brown:"brun","brown yellow":"brungul",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"cyan","cyan blue":"cyanblå",dark:"mørk",gray:"grå",grayish:"gråaktig",green:"Grønn","green cyan":"grønncyan",hue:"Fargetone",light:"lys",lightness:"Lyshet",magenta:"magenta","magenta pink":"magentarosa",orange:"oransje","orange yellow":"oransjegul",pale:"blek",pink:"rosa","pink red":"rosarød",purple:"lilla","purple magenta":"lillamagenta",red:"Rød","red orange":"rødoransje",saturation:"Metning",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} gjennomsiktig`,"very dark":"svært mørk","very light":"svært lys",vibrant:"levende",white:"hvit",yellow:"gul","yellow green":"gulgrønn"};var Un={};Un={alpha:"Alfa",black:"zwart",blue:"Blauw","blue purple":"paarsblauw",brightness:"Helderheid",brown:"bruin","brown yellow":"bruingeel",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"cyaan","cyan blue":"cyaanblauw",dark:"donker",gray:"grijs",grayish:"grijsachtig",green:"Groen","green cyan":"cyaangroen",hue:"Kleurtoon",light:"licht",lightness:"Lichtsterkte",magenta:"magenta","magenta pink":"magentaroze",orange:"oranje","orange yellow":"oranjegeel",pale:"bleek",pink:"roze","pink red":"rozerood",purple:"paars","purple magenta":"magentapaars",red:"Rood","red orange":"roodoranje",saturation:"Verzadiging",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} transparant`,"very dark":"heel donker","very light":"heel licht",vibrant:"levendig",white:"wit",yellow:"geel","yellow green":"geelgroen"};var Kn={};Kn={alpha:"Alfa",black:"czarny",blue:"Niebieski","blue purple":"niebiesko-fioletowy",brightness:"Jasność",brown:"brązowy","brown yellow":"brązowo-żółty",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"cyjanowy","cyan blue":"cyjanowo-niebieski",dark:"ciemny",gray:"szary",grayish:"szarawy",green:"Zielony","green cyan":"zielono-cyjanowy",hue:"Odcień",light:"jasny",lightness:"Jaskrawość",magenta:"purpurowy","magenta pink":"purpurowo-różowy",orange:"pomarańczowy","orange yellow":"pomarańczowo-żółty",pale:"blady",pink:"różowy","pink red":"różowo-czerwony",purple:"fioletowy","purple magenta":"fioletowo-purpurowy",red:"Czerwony","red orange":"czerwono-pomarańczowy",saturation:"Nasycenie",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} przezroczystości`,"very dark":"bardzo ciemny","very light":"bardzo jasny",vibrant:"intensywny",white:"biały",yellow:"żółty","yellow green":"żółto-zielony"};var Wn={};Wn={alpha:"Alfa",black:"preto",blue:"Azul","blue purple":"roxo azulado",brightness:"Brilho",brown:"marrom","brown yellow":"marrom amarelado",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"ciano","cyan blue":"azul-ciano",dark:"escuro",gray:"cinza",grayish:"acinzentado",green:"Verde","green cyan":"verde-ciano",hue:"Matiz",light:"claro",lightness:"Luminosidade",magenta:"magenta","magenta pink":"rosa-magenta",orange:"laranja","orange yellow":"amarelo alaranjado",pale:"pálido",pink:"rosa","pink red":"rosa avermelhado",purple:"roxo","purple magenta":"roxo-magenta",red:"Vermelho","red orange":"laranja avermelhado",saturation:"Saturação",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} transparente`,"very dark":"muito escuro","very light":"muito claro",vibrant:"vibrante",white:"branco",yellow:"amarelo","yellow green":"verde amarelado"};var Gn={};Gn={alpha:"Alfa",black:"preto",blue:"Azul","blue purple":"azul-púrpura",brightness:"Luminosidade",brown:"castanho","brown yellow":"amarelo-castanho",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"ciano","cyan blue":"azul-ciano",dark:"escuro",gray:"cinzento",grayish:"acinzentado",green:"Verde","green cyan":"verde-ciano",hue:"Tonalidade",light:"claro",lightness:"Claridade",magenta:"magenta","magenta pink":"rosa-magenta",orange:"laranja","orange yellow":"amarelo-laranja",pale:"pálido",pink:"cor-de-rosa","pink red":"vermelho-rosa",purple:"púrpura","purple magenta":"púrpura-magenta",red:"Vermelho","red orange":"laranja-vermelho",saturation:"Saturação",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} transparente`,"very dark":"muito escuro","very light":"muito claro",vibrant:"vibrante",white:"branco",yellow:"amarelo","yellow green":"verde-amarelo"};var Qn={};Qn={alpha:"Alfa",black:"negru",blue:"Albastru","blue purple":"albastru-violet",brightness:"Luminozitate",brown:"maro","brown yellow":"galben maro",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"bleu","cyan blue":"albastru-bleu",dark:"închis",gray:"gri",grayish:"cenușiu",green:"Verde","green cyan":"verde bleu",hue:"Nuanță",light:"deschis",lightness:"Luminozitate",magenta:"fucsia","magenta pink":"roz-fucsia",orange:"portocaliu","orange yellow":"galben-portocaliu",pale:"pal",pink:"roz","pink red":"roz-roșu",purple:"violet","purple magenta":"violet-fucsia",red:"Roșu","red orange":"portocaliu-roșu",saturation:"Saturație",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} transparent`,"very dark":"foarte închis","very light":"foarte deschis",vibrant:"plin de viață",white:"alb",yellow:"galben","yellow green":"galben-verde"};var Yn={};Yn={alpha:"Альфа",black:"черный",blue:"Синий","blue purple":"сине-фиолетовый",brightness:"Яркость",brown:"коричневый","brown yellow":"коричнево-желтый",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"голубой","cyan blue":"цвет морской волны",dark:"темный",gray:"серый",grayish:"сероватый",green:"Зеленый","green cyan":"сине-зеленый",hue:"Оттенок",light:"светлый",lightness:"Освещенность",magenta:"пурпурный","magenta pink":"пурпурно-розовый",orange:"оранжевый","orange yellow":"оранжево-желтый",pale:"бледный",pink:"розовый","pink red":"розово-красный",purple:"фиолетовый","purple magenta":"фиолетово-пурпурный",red:"Красный","red orange":"красно-оранжевый",saturation:"Насыщенность",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, прозрачный на ${s.percentTransparent}`,"very dark":"очень темный","very light":"очень светлый",vibrant:"яркий",white:"белый",yellow:"желтый","yellow green":"желто-зеленый"};var Jn={};Jn={alpha:"Alfa",black:"čierna",blue:"Modrá","blue purple":"modrofialová",brightness:"Jas",brown:"hnedá","brown yellow":"hnedožltá",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"azúrová","cyan blue":"azúrová modrá",dark:"tmavá",gray:"sivá",grayish:"sivastá",green:"Zelená","green cyan":"zelená azúrová",hue:"Odtieň",light:"svetlá",lightness:"Svetlosť",magenta:"purpurová","magenta pink":"ružová purpurová",orange:"oranžová","orange yellow":"oranžovožltá",pale:"bledá",pink:"ružová","pink red":"ružovočervená",purple:"fialová","purple magenta":"fialová purpurová",red:"Červená","red orange":"červenooranžová",saturation:"Sýtosť",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} priehľadná`,"very dark":"veľmi tmavá","very light":"veľmi svetlá",vibrant:"energická",white:"biela",yellow:"žltá","yellow green":"žltozelená"};var Zn={};Zn={alpha:"Alfa",black:"črna",blue:"Modra","blue purple":"modro vijolična",brightness:"Svetlost",brown:"rjava","brown yellow":"rjavo rumena",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"cian","cyan blue":"cian modra",dark:"temna",gray:"siva",grayish:"sivkasta",green:"Zelena","green cyan":"zelena cian",hue:"Barva",light:"svetla",lightness:"Lahkost",magenta:"škrlatna","magenta pink":"škrlatno roza",orange:"oranžna","orange yellow":"oranžno rumena",pale:"bleda",pink:"roza","pink red":"roza rdeča",purple:"vijolična","purple magenta":"vijolično škrlatna",red:"Rdeča","red orange":"rdeče oranžna",saturation:"Nasičenost",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} prozorna`,"very dark":"zelo temna","very light":"zelo svetla",vibrant:"živahna",white:"bela",yellow:"rumena","yellow green":"rumeno zelena"};var Xn={};Xn={alpha:"Alfa",black:"crno",blue:"Plava","blue purple":"plavoljubičasta",brightness:"Osvetljenost",brown:"smeđa","brown yellow":"smeđežuta",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"cijan","cyan blue":"cijan plava",dark:"tamno",gray:"siva",grayish:"sivkasta",green:"Zelena","green cyan":"zeleno cijan",hue:"Nijansa",light:"svetla",lightness:"Osvetljenje",magenta:"purpurnocrvena","magenta pink":"magenta ružičasta",orange:"narandžasta","orange yellow":"narandžastožuta",pale:"bledo",pink:"ružičasta","pink red":"ružičastocrvena",purple:"ljubičasta","purple magenta":"ljubičasta magenta",red:"Crvena","red orange":"crvenonarandžasta",saturation:"Zasićenje",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} prozirna`,"very dark":"veoma tamno","very light":"vrlo svetlo",vibrant:"živopisna",white:"bela",yellow:"žuto","yellow green":"žutozelena"};var er={};er={alpha:"Alfa",black:"svart",blue:"Blått","blue purple":"blålila",brightness:"Ljusstyrka",brown:"brun","brown yellow":"brungul",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"cyan","cyan blue":"cyanblå",dark:"mörk",gray:"grå",grayish:"gråaktig",green:"Grönt","green cyan":"grön cyan",hue:"Nyans",light:"ljus",lightness:"Ljushet",magenta:"magenta","magenta pink":"magentarosa",orange:"orange","orange yellow":"orangegul",pale:"blek",pink:"rosa","pink red":"rosaröd",purple:"lila","purple magenta":"lila magenta",red:"Rött","red orange":"rödorange",saturation:"Mättnad",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} genomskinlig`,"very dark":"mycket mörk","very light":"mycket ljus",vibrant:"livfull",white:"vit",yellow:"gul","yellow green":"gulgrön"};var sr={};sr={alpha:"Alfa",black:"siyah",blue:"Mavi","blue purple":"mavi mor",brightness:"Parlaklık",brown:"kahverengi","brown yellow":"kahverengi sarı",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"camgöbeği","cyan blue":"camgöbeği mavi",dark:"koyu",gray:"gri",grayish:"grimsi",green:"Yeşil","green cyan":"yeşil camgöbeği",hue:"Ton",light:"açık",lightness:"Canlılık",magenta:"eflatun","magenta pink":"eflatun pembe",orange:"turuncu","orange yellow":"turuncu sarı",pale:"solgun",pink:"pembe","pink red":"pembe kırmızı",purple:"mor","purple magenta":"mor eflatun",red:"Kırmızı","red orange":"kırmızı portakal",saturation:"Doygunluk",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} saydam`,"very dark":"çok koyu","very light":"çok açık",vibrant:"canlı",white:"beyaz",yellow:"sarı","yellow green":"sarı yeşil"};var ar={};ar={alpha:"Альфа",black:"чорний",blue:"Синій","blue purple":"синьо-фіолетовий",brightness:"Яскравість",brown:"коричневий","brown yellow":"коричнево-жовтий",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"блакитний","cyan blue":"синьо-блакитний",dark:"темний",gray:"сірий",grayish:"сіруватий",green:"Зелений","green cyan":"зелено-блакитний",hue:"Тон",light:"світлий",lightness:"Освітленість",magenta:"пурпуровий","magenta pink":"пурпурово-рожевий",orange:"помаранчевий","orange yellow":"помаранчево-жовтий",pale:"блідий",pink:"рожевий","pink red":"рожево-червоний",purple:"фіолетовий","purple magenta":"фіолетово-пурпуровий",red:"Червоний","red orange":"червоно-помаранчевий",saturation:"Насиченість",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, прозорий на ${s.percentTransparent}`,"very dark":"дуже темний","very light":"дуже світлий",vibrant:"яскравий",white:"білий",yellow:"жовтий","yellow green":"жовто-зелений"};var tr={};tr={alpha:"Alpha",black:"黑色",blue:"蓝色","blue purple":"蓝紫色",brightness:"亮度",brown:"棕色的","brown yellow":"棕黄色",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"蓝绿色","cyan blue":"青蓝色",dark:"深色",gray:"灰色",grayish:"浅灰色的",green:"绿色","green cyan":"绿青色",hue:"色相",light:"浅色",lightness:"明亮度",magenta:"紫红色","magenta pink":"紫粉色",orange:"橙色","orange yellow":"橙黄色",pale:"苍白的",pink:"粉色","pink red":"粉红色",purple:"紫色","purple magenta":"紫洋红色",red:"红色","red orange":"红橙色",saturation:"饱和度",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} 透明`,"very dark":"很暗","very light":"很浅",vibrant:"生机勃勃",white:"白色",yellow:"黄色","yellow green":"黄色/绿色"};var nr={};nr={alpha:"Alpha",black:"黑",blue:"藍色","blue purple":"藍紫",brightness:"亮度",brown:"棕","brown yellow":"棕黃",colorName:s=>`${s.lightness} ${s.chroma} ${s.hue}`,cyan:"青","cyan blue":"青藍",dark:"暗",gray:"灰",grayish:"偏灰",green:"綠色","green cyan":"青綠",hue:"色相",light:"淺",lightness:"明亮",magenta:"洋紅","magenta pink":"淺洋紅",orange:"橙","orange yellow":"橙黃",pale:"淡",pink:"粉紅","pink red":"粉紅",purple:"紫","purple magenta":"紫洋紅",red:"紅色","red orange":"橙紅",saturation:"飽和度",transparentColorName:s=>`${s.lightness} ${s.chroma} ${s.hue}, ${s.percentTransparent} 透明`,"very dark":"很暗","very light":"很淺",vibrant:"鮮豔",white:"白",yellow:"黃","yellow green":"黃綠"};var rr={};rr={"ar-AE":Sn,"bg-BG":Dn,"cs-CZ":Nn,"da-DK":En,"de-DE":Fn,"el-GR":$n,"en-US":An,"es-ES":Bn,"et-EE":_n,"fi-FI":zn,"fr-FR":In,"he-IL":Tn,"hr-HR":Pn,"hu-HU":Ln,"it-IT":Mn,"ja-JP":Rn,"ko-KR":Vn,"lt-LT":On,"lv-LV":Hn,"nb-NO":qn,"nl-NL":Un,"pl-PL":Kn,"pt-BR":Wn,"pt-PT":Gn,"ro-RO":Qn,"ru-RU":Yn,"sk-SK":Jn,"sl-SI":Zn,"sr-SP":Xn,"sv-SE":er,"tr-TR":sr,"uk-UA":ar,"zh-CN":tr,"zh-TW":nr};const Lo=Symbol.for("react-aria.i18n.locale"),Mo=Symbol.for("react-aria.i18n.strings");let ps;class js{getStringForLocale(a,t){let l=this.getStringsForLocale(t)[a];if(!l)throw new Error(`Could not find intl message ${a} in ${t} locale`);return l}getStringsForLocale(a){let t=this.strings[a];return t||(t=Ro(a,this.strings,this.defaultLocale),this.strings[a]=t),t}static getGlobalDictionaryForPackage(a){if(typeof window>"u")return null;let t=window[Lo];if(ps===void 0){let l=window[Mo];if(!l)return null;ps={};for(let i in l)ps[i]=new js({[t]:l[i]},t)}let n=ps==null?void 0:ps[a];if(!n)throw new Error(`Strings for package "${a}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return n}constructor(a,t="en-US"){this.strings=Object.fromEntries(Object.entries(a).filter(([,n])=>n)),this.defaultLocale=t}}function Ro(s,a,t="en-US"){if(a[s])return a[s];let n=Vo(s);if(a[n])return a[n];for(let l in a)if(l.startsWith(n+"-"))return a[l];return a[t]}function Vo(s){return Intl.Locale?new Intl.Locale(s).language:s.split("-")[0]}const Ft=new Map,$t=new Map;class Oo{format(a,t){let n=this.strings.getStringForLocale(a,this.locale);return typeof n=="function"?n(t,this):n}plural(a,t,n="cardinal"){let l=t["="+a];if(l)return typeof l=="function"?l():l;let i=this.locale+":"+n,o=Ft.get(i);o||(o=new Intl.PluralRules(this.locale,{type:n}),Ft.set(i,o));let u=o.select(a);return l=t[u]||t.other,typeof l=="function"?l():l}number(a){let t=$t.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),$t.set(this.locale,t)),t.format(a)}select(a,t){let n=a[t]||a.other;return typeof n=="function"?n():n}constructor(a,t){this.locale=a,this.strings=t}}function Ho(s){return s&&s.__esModule?s.default:s}let va=new js(Ho(rr));function st(s){let a=Ue.parse(s)||Ke.parse(s)||We.parse(s);if(a)return a;throw new Error("Invalid color value: "+s)}const At=.68,qo=.85,Bt=.55,_t=.001,ya=[[0,"pink"],[15,"red"],[48,"orange"],[94,"yellow"],[135,"green"],[175,"cyan"],[264,"blue"],[284,"purple"],[320,"magenta"],[349,"pink"]];class at{toHexInt(){return this.toFormat("rgb").toHexInt()}getChannelValue(a){if(a in this)return this[a];throw new Error("Unsupported color channel: "+a)}withChannelValue(a,t){if(a in this){let n=this.clone();return n[a]=t,n}throw new Error("Unsupported color channel: "+a)}getChannelName(a,t){return(js.getGlobalDictionaryForPackage("@react-stately/color")||va).getStringForLocale(a,t)}getColorSpaceAxes(a){let{xChannel:t,yChannel:n}=a,l=t||this.getColorChannels().find(u=>u!==n),i=n||this.getColorChannels().find(u=>u!==l),o=this.getColorChannels().find(u=>u!==l&&u!==i);return{xChannel:l,yChannel:i,zChannel:o}}getColorName(a){let[t,n,l]=zt(this),i=js.getGlobalDictionaryForPackage("@react-stately/color")||va;if(t>.999)return i.getStringForLocale("white",a);if(t<.001)return i.getStringForLocale("black",a);let o;[o,t]=this.getOklchHue(t,n,l,a);let u="",c="";n<=.1&&n>=_t?t>=.7?c="pale":c="grayish":n>=.15&&(c="vibrant"),t<.3?u="very dark":t<Bt?u="dark":t<.7||(t<.85?u="light":u="very light"),c&&(c=i.getStringForLocale(c,a)),u&&(u=i.getStringForLocale(u,a));let d=this.getChannelValue("alpha"),g=new Oo(a,i);if(d<1){let f=new ra(a,{style:"percent"}).format(1-d);return g.format("transparentColorName",{lightness:u,chroma:c,hue:o,percentTransparent:f}).replace(/\s+/g," ").trim()}else return g.format("colorName",{lightness:u,chroma:c,hue:o}).replace(/\s+/g," ").trim()}getOklchHue(a,t,n,l){let i=js.getGlobalDictionaryForPackage("@react-stately/color")||va;if(t<_t)return[i.getStringForLocale("gray",l),a];for(let o=0;o<ya.length;o++){let[u,c]=ya[o],[d,g]=ya[o+1]||[360,"pink"];if(n>=u&&n<d)return c==="orange"&&(a<At?c="brown":a=a-At+Bt),n>u+(d-u)/2&&c!==g?c=`${c} ${g}`:c==="yellow"&&a<qo&&(c="yellow green"),[i.getStringForLocale(c,l).toLocaleLowerCase(l),a]}throw new Error("Unexpected hue")}getHueName(a){let[t,n,l]=zt(this),[i]=this.getOklchHue(t,n,l,a);return i}}class Ue extends at{static parse(a){let t=[];if(/^#[\da-f]+$/i.test(a)&&[4,5,7,9].includes(a.length)){const i=(a.length<6?a.replace(/[^#]/gi,"$&$&"):a).slice(1).split("");for(;i.length>0;)t.push(parseInt(i.splice(0,2).join(""),16));t[3]=t[3]!==void 0?t[3]/255:void 0}const n=a.match(/^rgba?\((.*)\)$/);n!=null&&n[1]&&(t=n[1].split(",").map(i=>Number(i.trim())),t=t.map((i,o)=>is(i,0,o<3?255:1)));var l;return t.length<3?void 0:new Ue(t[0],t[1],t[2],(l=t[3])!==null&&l!==void 0?l:1)}toString(a="css"){switch(a){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;default:return this.toFormat(a).toString(a)}}toFormat(a){switch(a){case"hex":case"hexa":case"rgb":case"rgba":return this;case"hsb":case"hsba":return this.toHSB();case"hsl":case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+a)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const a=this.red/255,t=this.green/255,n=this.blue/255,l=Math.min(a,t,n),i=Math.max(a,t,n),o=i-l,u=i===0?0:o/i;let c=0;if(o!==0){switch(i){case a:c=(t-n)/o+(t<n?6:0);break;case t:c=(n-a)/o+2;break;case n:c=(a-t)/o+4;break}c/=6}return new Ke(te(c*360,2),te(u*100,2),te(i*100,2),this.alpha)}toHSL(){const a=this.red/255,t=this.green/255,n=this.blue/255,l=Math.min(a,t,n),i=Math.max(a,t,n),o=(i+l)/2,u=i-l;let c,d;if(u===0)c=d=0;else{switch(d=u/(o<.5?i+l:2-i-l),i){case a:c=(t-n)/u+(t<n?6:0);break;case t:c=(n-a)/u+2;break;case n:c=(a-t)/u+4;break}c/=6}return new We(te(c*360,2),te(d*100,2),te(o*100,2),this.alpha)}clone(){return new Ue(this.red,this.green,this.blue,this.alpha)}getChannelRange(a){switch(a){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+a)}}getChannelFormatOptions(a){switch(a){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+a)}}formatChannelValue(a,t){let n=this.getChannelFormatOptions(a),l=this.getChannelValue(a);return new ra(t,n).format(l)}getColorSpace(){return"rgb"}getColorChannels(){return Ue.colorChannels}constructor(a,t,n,l){super(),this.red=a,this.green=t,this.blue=n,this.alpha=l}}Ue.colorChannels=["red","green","blue"];const Uo=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/;class Ke extends at{static parse(a){let t;if(t=a.match(Uo)){var n;const[l,i,o,u]=((n=t[1])!==null&&n!==void 0?n:t[2]).split(",").map(c=>Number(c.trim().replace("%","")));return new Ke(lr(l,360),is(i,0,100),is(o,0,100),is(u??1,0,1))}}toString(a="css"){switch(a){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${te(this.saturation,2)}%, ${te(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${te(this.saturation,2)}%, ${te(this.brightness,2)}%, ${this.alpha})`;default:return this.toFormat(a).toString(a)}}toFormat(a){switch(a){case"hsb":case"hsba":return this;case"hsl":case"hsla":return this.toHSL();case"rgb":case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+a)}}toHSL(){let a=this.saturation/100,t=this.brightness/100,n=t*(1-a/2);return a=n===0||n===1?0:(t-n)/Math.min(n,1-n),new We(te(this.hue,2),te(a*100,2),te(n*100,2),this.alpha)}toRGB(){let a=this.hue,t=this.saturation/100,n=this.brightness/100,l=(i,o=(i+a/60)%6)=>n-t*n*Math.max(Math.min(o,4-o,1),0);return new Ue(Math.round(l(5)*255),Math.round(l(3)*255),Math.round(l(1)*255),this.alpha)}clone(){return new Ke(this.hue,this.saturation,this.brightness,this.alpha)}getChannelRange(a){switch(a){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+a)}}getChannelFormatOptions(a){switch(a){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+a)}}formatChannelValue(a,t){let n=this.getChannelFormatOptions(a),l=this.getChannelValue(a);return(a==="saturation"||a==="brightness")&&(l/=100),new ra(t,n).format(l)}getColorSpace(){return"hsb"}getColorChannels(){return Ke.colorChannels}constructor(a,t,n,l){super(),this.hue=a,this.saturation=t,this.brightness=n,this.alpha=l}}Ke.colorChannels=["hue","saturation","brightness"];const Ko=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/;function lr(s,a){return(s%a+a)%a}class We extends at{static parse(a){let t;if(t=a.match(Ko)){var n;const[l,i,o,u]=((n=t[1])!==null&&n!==void 0?n:t[2]).split(",").map(c=>Number(c.trim().replace("%","")));return new We(lr(l,360),is(i,0,100),is(o,0,100),is(u??1,0,1))}}toString(a="css"){switch(a){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${te(this.saturation,2)}%, ${te(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${te(this.saturation,2)}%, ${te(this.lightness,2)}%, ${this.alpha})`;default:return this.toFormat(a).toString(a)}}toFormat(a){switch(a){case"hsl":case"hsla":return this;case"hsb":case"hsba":return this.toHSB();case"rgb":case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+a)}}toHSB(){let a=this.saturation/100,t=this.lightness/100,n=t+a*Math.min(t,1-t);return a=n===0?0:2*(1-t/n),new Ke(te(this.hue,2),te(a*100,2),te(n*100,2),this.alpha)}toRGB(){let a=this.hue,t=this.saturation/100,n=this.lightness/100,l=t*Math.min(n,1-n),i=(o,u=(o+a/30)%12)=>n-l*Math.max(Math.min(u-3,9-u,1),-1);return new Ue(Math.round(i(0)*255),Math.round(i(8)*255),Math.round(i(4)*255),this.alpha)}clone(){return new We(this.hue,this.saturation,this.lightness,this.alpha)}getChannelRange(a){switch(a){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+a)}}getChannelFormatOptions(a){switch(a){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+a)}}formatChannelValue(a,t){let n=this.getChannelFormatOptions(a),l=this.getChannelValue(a);return(a==="saturation"||a==="lightness")&&(l/=100),new ra(t,n).format(l)}getColorSpace(){return"hsl"}getColorChannels(){return We.colorChannels}constructor(a,t,n,l){super(),this.hue=a,this.saturation=t,this.lightness=n,this.alpha=l}}We.colorChannels=["hue","saturation","lightness"];function zt(s){let a=s.toFormat("rgb"),t=a.getChannelValue("red")/255,n=a.getChannelValue("green")/255,l=a.getChannelValue("blue")/255;[t,n,l]=Go(t,n,l);let[i,o,u]=Qo(t,n,l),[c,d,g]=Yo(i,o,u);return Wo(c,d,g)}function Wo(s,a,t){var n=Math.atan2(t,a)*180/Math.PI;return[s,Math.sqrt(a**2+t**2),n>=0?n:n+360]}function Go(s,a,t){return[wa(s),wa(a),wa(t)]}function wa(s){let a=s<0?-1:1,t=Math.abs(s);return t<=.04045?s/12.92:a*Math.pow((t+.055)/1.055,2.4)}function Qo(s,a,t){return za([.4123907992659595,.35758433938387796,.1804807884018343,.21263900587151036,.7151686787677559,.07219231536073371,.01933081871559185,.11919477979462599,.9505321522496606],s,a,t)}function Yo(s,a,t){const n=[.819022437996703,.3619062600528904,-.1288737815209879,.0329836539323885,.9292868615863434,.0361446663506424,.0481771893596242,.2642395317527308,.6335478284694309],l=[.210454268309314,.7936177747023054,-.0040720430116193,1.9779985324311684,-2.42859224204858,.450593709617411,.0259040424655478,.7827717124575296,-.8086757549230774];let[i,o,u]=za(n,s,a,t);return za(l,Math.cbrt(i),Math.cbrt(o),Math.cbrt(u))}function za(s,a,t,n){let l=s[0]*a+s[1]*t+s[2]*n,i=s[3]*a+s[4]*t+s[5]*n,o=s[6]*a+s[7]*t+s[8]*n;return[l,i,o]}function Jo({onChange:s,value:a,colors:t}){const n=t.map(l=>{const i=a===l;return e.jsx(na,{onClick:()=>{s==null||s(l)},className:v("relative block flex-shrink-0 w-26 h-26 border rounded",i&&"shadow-md"),style:{backgroundColor:l},children:i&&e.jsx("span",{className:"absolute inset-0 m-auto rounded-full w-8 h-8 bg-white"})},l)});return e.jsx("div",{className:"flex flex-wrap gap-6",children:n})}const Zo=[{color:"rgb(255, 255, 255)",name:h("White")},{color:"rgb(239,245,245)",name:h("Solitude")},{color:"rgb(245,213,174)",name:h("Wheat")},{color:"rgb(253,227,167)",name:h("Cape Honey")},{color:"rgb(242,222,186)",name:h("Milk punch")},{color:"rgb(97,118,75)",name:h("Dingy"),foreground:"rgb(255, 255, 255)"},{color:"rgb(4, 147, 114)",name:h("Aquamarine"),foreground:"rgb(255, 255, 255)"},{color:"rgb(222,245,229)",name:h("Cosmic Latte")},{color:"rgb(233,119,119)",name:h("Geraldine"),foreground:"rgb(90,14,14)"},{color:"rgb(247,164,164)",name:h("Sundown")},{color:"rgb(30,139,195)",name:h("Pelorous"),foreground:"rgb(255, 255, 255)"},{color:"rgb(142,68,173)",name:h("Deep Lilac"),foreground:"rgb(255, 255, 255)"},{color:"rgb(108,74,182)",name:h("Blue marguerite"),foreground:"rgb(255, 255, 255)"},{color:"rgb(139,126,116)",name:h("Americano"),foreground:"rgb(255, 255, 255)"},{color:"rgb(0,0,0)",name:h("Black"),foreground:"rgb(255, 255, 255)"},{color:"rgb(64,66,88)",name:h("Blue zodiac"),foreground:"rgb(255, 255, 255)"},{color:"rgb(101,100,124)",name:h("Comet"),foreground:"rgb(255, 255, 255)"}],Xo=Zo.map(({color:s})=>s).slice(0,14);function eu({defaultValue:s,onChange:a,colorPresets:t,showInput:n}){const[l,i]=m.useState(s),o=t||Xo,u=Oa({size:"sm"});return e.jsxs("div",{children:[e.jsx(zo,{className:"!w-auto",color:l,onChange:c=>{a==null||a(c),i(c)}}),e.jsxs("div",{className:"py-20 px-12",children:[o&&e.jsx(Jo,{colors:o,onChange:c=>{if(c){const d=st(c).toString("hex");a==null||a(d),i(d)}},value:l}),n&&e.jsx("div",{className:"pt-20",children:e.jsx(Po,{autoComplete:"off",role:"textbox",autoCorrect:"off",spellCheck:"false",required:!0,"aria-label":"Hex color",prefixed:!0,className:u.input,color:l,onChange:c=>{a==null||a(c),i(c)}})})]})]})}function tt({hideFooter:s=!1,showInput:a=!0}){const{close:t,value:n,setValue:l,initialValue:i}=G();return e.jsxs(Z,{size:"2xs",children:[e.jsx(eu,{showInput:a,defaultValue:i||"",onChange:o=>l(o)}),!s&&e.jsxs(ge,{dividerTop:!0,children:[e.jsx(j,{variant:"text",size:"xs",onClick:()=>t(),children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{variant:"flat",color:"primary",size:"xs",onClick:()=>t(n),children:e.jsx(r,{message:"Apply"})})]})]})}function su(){return e.jsxs(m.Fragment,{children:[e.jsx(au,{}),e.jsxs("div",{className:"my-24 border-y py-24",children:[e.jsx(pe,{to:"action-buttons",elementType:q,className:"mb-20",children:e.jsx(r,{message:"Action buttons"})}),e.jsx(pe,{to:"primary-features",elementType:q,children:e.jsx(r,{message:"Primary features"})}),e.jsx(pe,{to:"secondary-features",elementType:q,children:e.jsx(r,{message:"Secondary features"})})]}),e.jsx(tu,{})]})}function au(){const s=xs(a=>{var t,n;return(n=(t=a.defaults)==null?void 0:t.settings.homepage.appearance)==null?void 0:n.headerImage});return e.jsxs(e.Fragment,{children:[e.jsx(p,{label:e.jsx(r,{message:"Header title"}),className:"mb-20",name:"settings.homepage.appearance.headerTitle",onFocus:()=>{V().preview.setHighlight('[data-testid="headerTitle"]')}}),e.jsx(p,{label:e.jsx(r,{message:"Header subtitle"}),className:"mb-30",inputElementType:"textarea",rows:4,name:"settings.homepage.appearance.headerSubtitle",onFocus:()=>{V().preview.setHighlight('[data-testid="headerSubtitle"]')}}),e.jsx(cs,{name:"settings.homepage.appearance.headerImage",className:"mb-30",label:e.jsx(r,{message:"Header image"}),defaultValue:s,diskPrefix:"homepage"}),e.jsx(jo,{name:"settings.homepage.appearance.headerImageOpacity",label:e.jsx(r,{message:"Header image opacity"}),minValue:0,step:.1,maxValue:1,formatOptions:{style:"percent"}}),e.jsx("div",{className:"mb-20 text-xs text-muted",children:e.jsx(r,{message:"In order for overlay colors to appear, header image opacity will need to be less then 100%"})}),e.jsx(It,{formKey:"settings.homepage.appearance.headerOverlayColor1",label:e.jsx(r,{message:"Header overlay color 1"})}),e.jsx(It,{formKey:"settings.homepage.appearance.headerOverlayColor2",label:e.jsx(r,{message:"Header overlay color 2"})})]})}function tu(){const s=xs(a=>{var t,n;return(n=(t=a.defaults)==null?void 0:t.settings.homepage.appearance)==null?void 0:n.footerImage});return e.jsxs(m.Fragment,{children:[e.jsx(p,{label:e.jsx(r,{message:"Footer title"}),className:"mb-20",name:"settings.homepage.appearance.footerTitle",onFocus:()=>{V().preview.setHighlight('[data-testid="footerTitle"]')}}),e.jsx(p,{label:e.jsx(r,{message:"Footer subtitle"}),className:"mb-20",name:"settings.homepage.appearance.footerSubtitle",onFocus:()=>{V().preview.setHighlight('[data-testid="footerSubtitle"]')}}),e.jsx(cs,{name:"settings.homepage.appearance.footerImage",className:"mb-30",label:e.jsx(r,{message:"Footer background image"}),defaultValue:s,diskPrefix:"homepage"})]})}function It({label:s,formKey:a}){const t=a,{watch:n,setValue:l}=E(),i=n(t),o=u=>{l(a,u,{shouldDirty:!0})};return e.jsxs(_,{type:"popover",value:i,alwaysReturnCurrentValueOnClose:!0,onValueChange:u=>o(u),onClose:u=>o(u),children:[e.jsx(pe,{className:"capitalize",startIcon:e.jsx(Xa,{viewBox:"0 0 48 48",className:"icon-lg",style:{fill:i}}),children:s}),e.jsx(tt,{})]})}function ir(s){return s&&s.charAt(0).toUpperCase()+s.slice(1)}const nu=I.forwardRef(({valueListKey:s="permissions",...a},t)=>{const{data:n}=Fe([s]),l=(n==null?void 0:n.permissions)||(n==null?void 0:n.workspacePermissions),[i,o]=Ts(a.value,[],a.onChange),[u,c]=m.useState(!1);if(!l)return null;const d=or(l,i,u),g=f=>{const b=[...i],y=b.findIndex(w=>w.id===f.id);y>-1&&b.splice(y,1,f),o(b)};return e.jsxs(m.Fragment,{children:[e.jsx(ss,{variant:"outline",ref:t,children:d.map(({groupName:f,items:b,anyChecked:y})=>e.jsx(De,{label:e.jsx(r,{message:rt(f)}),startIcon:y?e.jsx(nl,{size:"sm"}):void 0,children:e.jsx(sn,{children:b.map(w=>{const k=i.findIndex(F=>F.id===w.id),N=k>-1;return e.jsxs("div",{children:[e.jsx(an,{onSelected:()=>{if(N){const F=[...i];F.splice(k,1),o(F)}else o([...i,w])},endSection:e.jsx($a,{tabIndex:-1,checked:N,onChange:()=>{}}),description:e.jsx(r,{message:w.description}),children:e.jsx(r,{message:w.display_name||w.name})}),N&&e.jsx(ru,{permission:w,onChange:g})]},w.id)})})},f))}),e.jsx($a,{className:"mt-30",checked:u,onChange:f=>{c(f.target.checked)},children:e.jsx(r,{message:"Show advanced permissions"})})]})});function ru({permission:s,onChange:a}){var n;if(!((n=s==null?void 0:s.restrictions)!=null&&n.length))return null;const t=(l,i)=>{const o=rl(s,u=>{const c=u.restrictions.find(d=>d.name===l);c&&(c.value=i)});a==null||a(o)};return e.jsx("div",{className:"px-40 py-20",children:s.restrictions.map((l,i)=>{const o=i===s.restrictions.length-1,u=e.jsx(r,{message:rt(l.name)}),c=l.description?e.jsx(r,{message:l.description}):void 0;return l.type==="bool"?e.jsx($a,{description:c,className:v(!o&&"mb-30"),checked:!!l.value,onChange:d=>{t(l.name,d.target.checked)},children:u},l.name):e.jsx(Ye,{size:"sm",label:u,description:c,type:"number",className:v(!o&&"mb-30"),value:l.value||"",onChange:d=>{t(l.name,d.target.value===""?void 0:parseInt(d.target.value))}},l.name)})})}function nt(s){const{field:{onChange:a,value:t=[],ref:n}}=Cs({name:s.name}),l={onChange:a,value:t};return e.jsx(nu,{ref:n,...us(l,s)})}const rt=s=>ir(s.replace("_"," "));function or(s,a,t){const n=[];return s.forEach(l=>{const i=a.findIndex(u=>u.id===l.id);if(!t&&l.advanced)return;let o=n.find(u=>u.groupName===l.group);if(o||(o={groupName:l.group,anyChecked:!1,items:[]},n.push(o)),i>-1){const u={...l,restrictions:lu(l.restrictions,a[i].restrictions)};o.anyChecked=!0,o.items.push(u)}else o.items.push(l)}),n}function lu(s,a){return s==null?void 0:s.map(t=>{const n=a.find(l=>l.name===t.name);return n?{...t,value:n.value}:t})}function ur(){const s=lt.sections.menus.config;return s?s.availableRoutes.map(a=>({id:a,label:a,action:a,type:"route",target:"_self"})):[]}const ka={grid:"flex flex-wrap gap-24",button:"flex flex-col items-center rounded hover:bg-hover h-90 aspect-square"},iu=[...Array(60).keys()],ou=I.lazy(()=>Ps(()=>import("./icon-list-7829fef4.js"),["./icon-list-7829fef4.js","./main-1b1452ea.js","./main-f697cf3d.css","./Info-4ec284bb.js","./Edit-e3a87656.js","./ViewModule-ea3c5e8e.js","./OpenInNew-ece49f72.js","./TaskAlt-d36bbe80.js","./TrendingUp-184198eb.js","./formatted-price-ac7bb881.js","./use-resume-subscription-8975e7f7.js"],import.meta.url));function uu({onIconSelected:s}){const{trans:a}=L(),[t,n]=I.useState("");return e.jsxs("div",{className:"py-4",children:[e.jsx(Ye,{className:"mb-20",value:t,onChange:l=>{n(l.target.value)},placeholder:a({message:"Search icons..."})}),e.jsx(ys,{mode:"wait",children:e.jsx(m.Suspense,{fallback:e.jsx(Ge.div,{...ws,className:ka.grid,children:iu.map((l,i)=>e.jsx("div",{className:ka.button,children:e.jsx(rs,{variant:"rect"})},i))}),children:e.jsx(Ge.div,{...ws,className:ka.grid,children:e.jsx(ou,{searchQuery:t,onIconSelected:s})})})})]})}function cu(){return e.jsxs(Z,{size:"w-850",className:"min-h-dialog",children:[e.jsx(ne,{children:e.jsx(r,{message:"Select icon"})}),e.jsx(ee,{children:e.jsx(du,{})})]})}function du(){const{close:s}=G();return e.jsx(uu,{onIconSelected:a=>{s(a)}})}function mu(s){const a=m.useRef();return m.useEffect(()=>{a.current=s},[s]),a.current}function bs({formPathPrefix:s,hideRoleAndPermissionFields:a}){const{trans:t}=L(),n=l=>s?`${s}.${l}`:l;return e.jsxs(m.Fragment,{children:[e.jsx(p,{className:"mb-20",name:n("label"),label:e.jsx(r,{message:"Label"}),placeholder:t(h("No label...")),startAppend:e.jsx(hu,{prefixName:n})}),e.jsx(gu,{prefixName:n}),!a&&e.jsxs(m.Fragment,{children:[e.jsx(xu,{prefixName:n}),e.jsx(pu,{prefixName:n})]}),e.jsx(fu,{prefixName:n})]})}function hu({prefixName:s,...a}){const{watch:t,setValue:n}=E(),l=s("icon"),i=t(l),o=i&&tn(i);return e.jsxs(_,{type:"modal",onClose:u=>{(u||u===null)&&n(l,u,{shouldDirty:!0})},children:[e.jsx(C,{className:"text-muted icon-sm",variant:"outline",size:"md",...a,children:o?e.jsx(o,{}):e.jsx(es,{})}),e.jsx(cu,{})]})}function gu({prefixName:s}){const a=E(),t=a.watch(s("type")),n=mu(t),{data:l}=Fe(["menuItemCategories"]),i=(l==null?void 0:l.menuItemCategories)||[],o=i.find(d=>d.type===t),{trans:u}=L(),c=ur();return m.useEffect(()=>{n&&n!==t&&a.setValue(s("action"),"")},[t,n,a,s]),e.jsxs(m.Fragment,{children:[e.jsxs(U,{className:"mb-20",name:s("type"),selectionMode:"single",label:e.jsx(r,{message:"Type"}),children:[e.jsx(x,{value:"link",children:e.jsx(r,{message:"Custom link"})}),e.jsx(x,{value:"route",children:e.jsx(r,{message:"Site page"})}),i.map(d=>e.jsx(x,{value:d.type,children:d.name},d.type))]}),t==="link"&&e.jsx(p,{className:"mb-20",required:!0,type:"url",name:s("action"),placeholder:u({message:"Enter a url..."}),label:e.jsx(r,{message:"Url"})}),t==="route"&&e.jsx(U,{className:"mb-20",required:!0,items:c,name:s("action"),label:e.jsx(r,{message:"Page"}),searchPlaceholder:u(h("Search pages")),showSearchField:!0,selectionMode:"single",children:d=>e.jsx(x,{value:d.id,children:d.label},d.id)}),o&&e.jsx(U,{className:"mb-20",required:!0,items:o.items,name:s("action"),showSearchField:!0,searchPlaceholder:u(h("Search...")),selectionMode:"single",label:e.jsx(r,{message:o.name}),children:d=>e.jsx(x,{value:d.action,children:e.jsx(r,{message:d.label})})})]})}function xu({prefixName:s}){const{data:a}=Fe(["roles","permissions"]),t=(a==null?void 0:a.roles)||[],{trans:n}=L();return e.jsx(ua,{className:"mb-20",placeholder:n({message:"Add role..."}),label:e.jsx(r,{message:"Only show if user has role"}),name:s("roles"),chipSize:"sm",suggestions:t,valueKey:"id",displayWith:l=>{var i;return(i=t.find(o=>o.id===l.id))==null?void 0:i.name},children:l=>e.jsx(x,{value:l.id,capitalizeFirst:!0,children:e.jsx(r,{message:l.name})},l.id)})}function pu({prefixName:s}){const{data:a}=Fe(["roles","permissions"]),{trans:t}=L(),n=m.useMemo(()=>or((a==null?void 0:a.permissions)||[],[],!1),[a==null?void 0:a.permissions]);return e.jsx(ua,{label:e.jsx(r,{message:"Only show if user has permissions"}),placeholder:t({message:"Add permission..."}),chipSize:"sm",suggestions:n,name:s("permissions"),valueKey:"name",children:({groupName:l,items:i})=>e.jsx(nn,{label:rt(l),children:i.map(o=>e.jsx(x,{value:o.name,description:e.jsx(r,{message:o.description}),children:e.jsx(r,{message:o.display_name||o.name})},o.name))},l)})}function fu({prefixName:s}){return e.jsxs(U,{className:"mt-20",selectionMode:"single",name:s("target"),label:e.jsx(r,{message:"Open link in"}),children:[e.jsx(x,{value:"_self",children:e.jsx(r,{message:"Same window"})}),e.jsx(x,{value:"_blank",children:e.jsx(r,{message:"New window"})})]})}function ju(){const[s,a]=m.useState(["cta1"]);return e.jsxs(ss,{variant:"outline",expandedValues:s,onExpandedChange:t=>{a(t),t.length&&V().preview.setHighlight(`[data-testid="${t[0]}"]`)},children:[e.jsx(De,{value:"cta1",label:e.jsx(r,{message:"Header button 1"}),children:e.jsx(bs,{formPathPrefix:"settings.homepage.appearance.actions.cta1"})}),e.jsx(De,{value:"ct2",label:e.jsx(r,{message:"Header button 2"}),children:e.jsx(bs,{formPathPrefix:"settings.homepage.appearance.actions.cta2"})}),e.jsx(De,{value:"cta3",label:e.jsx(r,{message:"Footer button"}),children:e.jsx(bs,{formPathPrefix:"settings.homepage.appearance.actions.cta3"})})]})}function bu(){const{fields:s,remove:a,append:t}=Ae({name:"settings.homepage.appearance.primaryFeatures"}),[n,l]=m.useState([0]);return e.jsxs("div",{children:[e.jsx(ss,{variant:"outline",expandedValues:n,onExpandedChange:i=>{l(i),i.length&&V().preview.setHighlight(`[data-testid="primary-root-${i[0]}"]`)},children:s.map((i,o)=>e.jsxs(De,{value:o,label:e.jsx(r,{message:`Primary feature ${o+1}`}),children:[e.jsx(vu,{index:o}),e.jsx("div",{className:"text-right",children:e.jsx(j,{size:"xs",variant:"outline",color:"danger",onClick:()=>{a(o)},children:e.jsx(r,{message:"Remove"})})})]},i.id))}),e.jsx("div",{className:"mt-20 text-right",children:e.jsx(j,{size:"xs",variant:"outline",color:"primary",startIcon:e.jsx(Ne,{}),onClick:()=>{t({}),l([s.length])},children:e.jsx(r,{message:"Add feature"})})})]})}function vu({index:s}){const a=xs(t=>{var n,l,i;return(i=(l=(n=t.defaults)==null?void 0:n.settings.homepage.appearance)==null?void 0:l.primaryFeatures[s])==null?void 0:i.image});return e.jsxs(e.Fragment,{children:[e.jsx(cs,{name:`settings.homepage.appearance.primaryFeatures.${s}.image`,className:"mb-30",label:e.jsx(r,{message:"Image"}),defaultValue:a,diskPrefix:"homepage"}),e.jsx(p,{name:`settings.homepage.appearance.primaryFeatures.${s}.title`,label:e.jsx(r,{message:"Title"}),className:"mb-20",onFocus:()=>{V().preview.setHighlight(`[data-testid="primary-title-${s}"]`)}}),e.jsx(p,{name:`settings.homepage.appearance.primaryFeatures.${s}.subtitle`,label:e.jsx(r,{message:"Subtitle"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{V().preview.setHighlight(`[data-testid="primary-subtitle-${s}"]`)}})]})}function yu(){const{fields:s,remove:a,append:t}=Ae({name:"settings.homepage.appearance.secondaryFeatures"}),[n,l]=m.useState([0]);return e.jsxs("div",{children:[e.jsx(ss,{variant:"outline",expandedValues:n,onExpandedChange:i=>{l(i),i.length&&V().preview.setHighlight(`[data-testid="secondary-root-${i[0]}"]`)},children:s.map((i,o)=>e.jsxs(De,{value:o,label:e.jsx(r,{message:`Secondary feature ${o+1}`}),children:[e.jsx(wu,{index:o}),e.jsx("div",{className:"text-right",children:e.jsx(j,{size:"xs",variant:"outline",color:"danger",onClick:()=>{a(o)},children:e.jsx(r,{message:"Remove"})})})]},i.id))}),e.jsx("div",{className:"mt-20 text-right",children:e.jsx(j,{size:"xs",variant:"outline",color:"primary",startIcon:e.jsx(Ne,{}),onClick:()=>{t({}),l([s.length])},children:e.jsx(r,{message:"Add feature"})})})]})}function wu({index:s}){return e.jsxs(e.Fragment,{children:[e.jsx(cs,{name:`settings.homepage.appearance.secondaryFeatures.${s}.image`,className:"mb-30",label:e.jsx(r,{message:"Image"}),defaultValue:ku(s),diskPrefix:"homepage"}),e.jsx(p,{name:`settings.homepage.appearance.secondaryFeatures.${s}.title`,label:e.jsx(r,{message:"Title"}),className:"mb-20",onFocus:()=>{V().preview.setHighlight(`[data-testid="secondary-title-${s}"]`)}}),e.jsx(p,{name:`settings.homepage.appearance.secondaryFeatures.${s}.subtitle`,label:e.jsx(r,{message:"Subtitle"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{V().preview.setHighlight(`[data-testid="secondary-subtitle-${s}"]`)}}),e.jsx(p,{name:`settings.homepage.appearance.secondaryFeatures.${s}.description`,label:e.jsx(r,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4,onFocus:()=>{V().preview.setHighlight(`[data-testid="secondary-description-${s}"]`)}})]})}function ku(s){var a,t;return(t=((a=V().defaults)==null?void 0:a.settings.homepage.appearance).secondaryFeatures[s])==null?void 0:t.image}const cr={preview:{defaultRoute:"drive",navigationRoutes:["s","drive"]},sections:{"landing-page":{label:h("Landing Page"),position:1,previewRoute:"/",routes:[{path:"landing-page",element:e.jsx(su,{})},{path:"landing-page/action-buttons",element:e.jsx(ju,{})},{path:"landing-page/primary-features",element:e.jsx(bu,{})},{path:"landing-page/secondary-features",element:e.jsx(yu,{})}],buildBreadcrumb:(s,a)=>{const n=s.split("/").filter(i=>!!i).pop(),l=[{label:h("Landing page"),location:"landing-page"}];return n==="action-buttons"&&l.push({label:h("Action buttons"),location:"landing-page/action-buttons"}),n==="primary-features"&&l.push({label:h("Primary features"),location:"landing-page/primary-features"}),n==="secondary-features"&&l.push({label:h("Secondary features"),location:"landing-page/secondary-features"}),l}},menus:{config:{positions:["drive-navbar","drive-sidebar","homepage-navbar","shareable-link-page","footer","footer-secondary"],availableRoutes:["/drive","/drive/shares","/drive/recent","/drive/starred","/drive/trash"]}},"seo-settings":{config:{pages:[{key:"landing-page",label:h("Landing page")},{key:"shareable-link-page",label:h("Shareable link page")}]}}}},lt=ll.all([oo,cr]),xs=il()(io(ol((s,a)=>({defaults:null,iframeWindow:null,config:lt,setDefaults:t=>{s(n=>{n.defaults={...t}})},setIframeWindow:t=>{s(()=>({iframeWindow:t}))},preview:{navigate:t=>{var o;const n=(o=a().config)==null?void 0:o.sections[t],l=(n==null?void 0:n.previewRoute)||"/",i=a().iframeWindow;l&&fs(i,{type:"navigate",to:l})},setValues:t=>{const n=a().iframeWindow;fs(n,{type:"setValues",values:t})},setThemeFont:t=>{const n=a().iframeWindow;fs(n,{type:"setThemeFont",value:t})},setThemeValue:(t,n)=>{const l=a().iframeWindow;fs(l,{type:"setThemeValue",name:t,value:n})},setActiveTheme:t=>{const n=a().iframeWindow;fs(n,{type:"setActiveTheme",themeId:t})},setCustomCode:(t,n)=>{const l=a().iframeWindow;fs(l,{type:"setCustomCode",mode:t,value:n})},setHighlight:t=>{s(()=>{var i;let n=null;const l=(i=a().iframeWindow)==null?void 0:i.document;l&&t&&(n=l.querySelector(t)),n&&requestAnimationFrame(()=>{n&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})})}}}))));function fs(s,a){s&&s.postMessage({source:"be-appearance-editor",...a},"*")}function V(){return xs.getState()}function Cu(){return M({mutationFn:s=>Su(s),onSuccess:async()=>{await T.invalidateQueries({queryKey:["admin/appearance/values"]}),R(h("Changes saved"))},onError:s=>se(s)})}function Su(s){return $.post("admin/appearance",{changes:s}).then(a=>a.data)}function Du(){return Ie({queryKey:["admin/appearance/values"],queryFn:()=>Nu(),staleTime:1/0})}function Nu(){return $.get("admin/appearance/values").then(s=>s.data)}function Eu(){const{pathname:s}=la(),{getValues:a}=E(),[t,n]=m.useState(null);return m.useEffect(()=>{var i;const[,,l]=s.split("/").filter(o=>!!o);if(l){const o=(i=V().config)==null?void 0:i.sections[l];if(o){n([{label:h("Appearance"),location:""},...o.buildBreadcrumb(s,a())]);return}}n(null)},[s,a]),!t||t.length<2?null:e.jsxs("div",{className:"flex items-center border-b h-60 flex-shrink-0",children:[e.jsx(C,{iconSize:"md",radius:"rounded-none",className:"text-muted h-full w-50 flex-shrink-0",elementType:q,to:`/admin/appearance/${t[t.length-2].location}`,children:e.jsx(Xs,{})}),e.jsxs("div",{className:"border-l p-10 min-w-0",children:[e.jsx("div",{className:"text-xs text-muted",children:e.jsx(r,{message:"Customizing"})}),e.jsx("div",{className:"flex items-center gap-4 text-sm mt-2",children:t.map((l,i)=>{const o=t.length-1===i,u=i===0,c=e.jsx(ul,{value:l.label});return u?null:e.jsxs(m.Fragment,{children:[e.jsx("div",{className:v("whitespace-nowrap overflow-hidden overflow-ellipsis min-w-0",o&&"text-primary",o?"flex-shrink-0":"flex-auto"),children:c}),!o&&e.jsx(Ms,{className:"icon-sm text-muted flex-shrink-0"})]},i)})})]})]})}function Fu(){const{isAppearanceEditorActive:s}=cl(),{data:a}=Du(),{base_url:t}=we(),n=m.useRef(null),{pathname:l}=la();return m.useEffect(()=>{a!=null&&a.defaults&&!V().defaults&&V().setDefaults(a.defaults)},[a]),m.useEffect(()=>{n.current&&V().setIframeWindow(n.current.contentWindow)},[]),m.useEffect(()=>{const i=l.split("/")[3];V().preview.navigate(i)},[l]),s?e.jsx(rn,{to:"/admin"}):e.jsxs("div",{className:"h-screen items-center md:flex",children:[e.jsx(sa,{children:e.jsx(r,{message:"Appearance"})}),e.jsx($u,{values:a==null?void 0:a.values}),e.jsx("div",{className:"relative h-full flex-auto",children:e.jsx("iframe",{ref:n,className:"h-full w-full max-md:hidden",src:`${t}?appearanceEditor=true`})})]})}function $u({values:s}){const a=e.jsx("div",{className:"flex h-full flex-auto items-center justify-center",children:e.jsx(Ls,{isIndeterminate:!0,"aria-label":"Loading editor"})});return e.jsx("div",{className:"relative z-10 h-full w-full border-r bg shadow-lg @container md:w-320",children:s?e.jsx(Au,{defaultValues:s}):a})}function Au({defaultValues:s}){const a=W({defaultValues:s}),{watch:t,reset:n}=a,l=Cu();return m.useEffect(()=>{const i=t(o=>{V().preview.setValues(o)});return()=>i.unsubscribe()},[t]),e.jsxs(ce,{className:"flex h-full flex-col",form:a,onSubmit:i=>{l.mutate(i,{onSuccess:()=>n(i)})},children:[e.jsx(Bu,{isLoading:l.isPending}),e.jsx(Eu,{}),e.jsx("div",{className:"flex-auto overflow-y-auto px-14 py-20",children:e.jsx(Ss,{children:e.jsx(Zs,{})})})]})}function Bu({isLoading:s}){const{formState:{dirtyFields:a}}=E(),t=Object.keys(a).length;return e.jsxs("div",{className:"flex h-50 flex-shrink-0 items-center border-b pr-10",children:[e.jsx(C,{border:"border-r",className:"text-muted",elementType:q,to:"..",children:e.jsx(Oe,{})}),e.jsx("div",{className:"pl-10",children:e.jsx(r,{message:"Appearance editor"})}),e.jsx(j,{variant:"flat",color:"primary",className:"ml-auto block",disabled:!t||s,type:"submit",children:t?e.jsx(r,{message:"Save"}):e.jsx(r,{message:"Saved"})})]})}function _u(){const s=ds(),{trans:a}=L(),{fields:t,append:n}=Ae({name:"settings.menus",keyName:"key"});return e.jsxs(m.Fragment,{children:[e.jsx("div",{children:t.map((l,i)=>e.jsx(pe,{to:`${i}`,elementType:q,children:l.name},l.key))}),e.jsx("div",{className:"text-right",children:e.jsx(j,{variant:"outline",color:"primary",startIcon:e.jsx(Ne,{}),size:"xs",onClick:()=>{const l=Ha(10);n({name:a(h("New menu :number",{values:{number:t.length+1}})),id:l,positions:[],items:[]}),s(`${t.length}`)},children:e.jsx(r,{message:"Create menu"})})})]})}function dr({title:s=e.jsx(r,{message:"Add menu item"})}){const{data:a}=Fe(["menuItemCategories"]),t=(a==null?void 0:a.menuItemCategories)||[],n=ur();return e.jsxs(Z,{size:"sm",children:[e.jsx(ne,{children:s}),e.jsx(ee,{children:e.jsxs(ss,{variant:"outline",children:[e.jsx(De,{label:e.jsx(r,{message:"Link"}),bodyClassName:"max-h-240 overflow-y-auto",children:e.jsx(zu,{})}),e.jsx(De,{label:e.jsx(r,{message:"Route"}),bodyClassName:"max-h-240 overflow-y-auto",children:e.jsx(Tt,{items:n})}),t.map(l=>e.jsx(De,{label:e.jsx(r,{message:l.name}),children:e.jsx(Tt,{items:l.items})},l.name))]})})]})}function zu(){const s=W({defaultValues:{id:Ha(6),type:"link",target:"_blank"}}),{close:a}=G();return e.jsxs(ce,{form:s,onSubmit:t=>{a(t)},children:[e.jsx(p,{required:!0,name:"label",label:e.jsx(r,{message:"Label"}),className:"mb-20"}),e.jsx(p,{required:!0,type:"url",name:"action",placeholder:"https://",label:e.jsx(r,{message:"Url"}),className:"mb-20"}),e.jsx("div",{className:"text-right",children:e.jsx(j,{type:"submit",variant:"flat",color:"primary",size:"xs",children:e.jsx(r,{message:"Add to menu"})})})]})}function Tt({items:s}){const{close:a}=G();return e.jsx(sn,{children:s.map(t=>e.jsx(an,{startIcon:e.jsx(Ne,{size:"sm"}),onSelected:()=>{if(t.label){const n=t.label.split("/").pop();t.label=n?ir(n):t.label,t.id=Ha(6)}a(t)},children:t.label},t.id))})}const Iu=B(e.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"DragIndicatorOutlined"),Tu=""+new URL("dropdown-menu-c9b3bd6a.svg",import.meta.url).href,Pu={onDragStart:()=>{},onDragEnter:()=>{},onDragOver:({e:s,ref:a,item:t,sortSession:n,onDropPositionChange:l})=>{var c;const i=n.dropPosition;let o=null;const u=(c=qe.get(t))==null?void 0:c.rect;if(u){const d=u.top+u.height/2;s.clientY<=d?o="before":s.clientY>=d&&(o="after")}if(o!==i){const d=n.sortables.indexOf(t);if(n.dropPosition=o,l==null||l(n.dropPosition),Pt(n),a.current)if(n.dropPosition==="after")Ca(a.current,"bottom",n);else if(d===0)Ca(a.current,"top",n);else{const b=n.sortables[d-1],y=qe.get(b);y!=null&&y.ref.current&&Ca(y.ref.current,"bottom",n)}const g=n.sortables.indexOf(t);if(n.activeIndex===g){n.finalIndex=n.activeIndex;return}(d>n.activeIndex?"after":"before")==="after"?n.finalIndex=n.dropPosition==="before"?g-1:g:n.finalIndex=n.dropPosition==="after"?g+1:g}},onDragEnd:s=>{Pt(s)}};function Pt(s){s!=null&&s.linePreviewEl&&(s.linePreviewEl.style.borderBottomColor="",s.linePreviewEl.style.borderTopColor="",s.linePreviewEl=void 0)}function Ca(s,a,t){const n="rgb(var(--be-primary))";a==="top"?s.style.borderTopColor=n:s.style.borderBottomColor=n,t&&(t.linePreviewEl=s)}function mr(s,a,t){const n=Ys(a,0,s.length-1),l=Ys(t,0,s.length-1);if(n===l)return s;const i=s[n],o=l<n?-1:1;for(let u=n;u!==l;u+=o)s[u]=s[u+o];return s[l]=i,s}function Lu(s,a,t){const n=s.slice();return n.splice(t<0?n.length+t:t,0,n.splice(a,1)[0]),n}const Mu="transform 0.2s cubic-bezier(0.2, 0, 0, 1)",Ru={onDragStart:s=>{s.sortables.forEach((a,t)=>{const n=qe.get(a);n!=null&&n.ref.current&&(n.ref.current.style.transition=Mu,(s==null?void 0:s.activeIndex)===t&&(n.ref.current.style.opacity="0.4"))})},onDragEnter:(s,a,t)=>{mr(s.sortables,t,a);const n=s.sortables.map(l=>{var i;return(i=qe.get(l))==null?void 0:i.rect});s.sortables.forEach((l,i)=>{if(!s)return;const o=Lu(n,a,s.activeIndex),u=n[i],c=o[i],d=qe.get(l);if(d!=null&&d.ref.current&&c&&u){const g=c.left-u.left,f=c.top-u.top;d.ref.current.style.transform=`translate3d(${g}px, ${f}px, 0)`}}),s.finalIndex=a},onDragOver:()=>{},onDragEnd:s=>{s.sortables.forEach(a=>{const t=qe.get(a);t!=null&&t.ref.current&&(t.ref.current.style.transform="",t.ref.current.style.transition="",t.ref.current.style.opacity="",t.ref.current.style.zIndex="")})}},Vu={onDragStart:()=>{},onDragOver:()=>{},onDragEnter:(s,a,t)=>{var l;const n=(l=qe.get(s.sortables[t]))==null?void 0:l.ref.current;n&&(Ou(n,t,a),mr(s.sortables,t,a),s.finalIndex=a)},onDragEnd:()=>{}};function Ou(s,a,t){const n=s.parentElement;if(t<0)n.prepend(s);else{a>-1&&a<=t&&t++;const l=n.children.item(t);l?l.before(s):n.append(s)}}let O=null;const Gs={line:Pu,liveSort:Ru,moveNode:Vu};function Hu({item:s,items:a,type:t,ref:n,onSortEnd:l,onSortStart:i,onDragEnd:o,preview:u,disabled:c,onDropPositionChange:d,strategy:g="liveSort"}){m.useEffect(()=>{O&&O.sortables.length!==a.length&&(O.sortables=[...a],O.activeIndex=a.indexOf(s))},[a,s]);const{draggableProps:f,dragHandleRef:b}=ti({id:s,ref:n,type:t,preview:u,disabled:c,onDragStart:()=>{var w;O={sortables:[...a],activeSortable:s,activeIndex:a.indexOf(s),finalIndex:a.indexOf(s),dropPosition:null,ref:n,scrollParent:n.current?dl(n.current):void 0,scrollListener:()=>{ri(qe)}},Gs[g].onDragStart(O),i==null||i(),(w=O.scrollParent)==null||w.addEventListener("scroll",O.scrollListener)},onDragEnd:()=>{var w;O&&(O.dropPosition=null,d==null||d(O.dropPosition),O.activeIndex!==O.finalIndex&&(l==null||l(O.activeIndex,O.finalIndex)),(w=O.scrollParent)==null||w.removeEventListener("scroll",O.scrollListener),Gs[g].onDragEnd(O),o==null||o(),O=null)},getData:()=>{}}),{droppableProps:y}=ni({id:s,ref:n,types:[t],disabled:c,allowDragEventsFromItself:!0,onDragOver:(w,k)=>{O&&Gs[g].onDragOver({e:k,ref:n,item:s,sortSession:O,onDropPositionChange:d})},onDragEnter:()=>{if(!O)return;const w=O.sortables.indexOf(s),k=O.sortables.indexOf(O.activeSortable);Gs[g].onDragEnter(O,w,k)},onDragLeave:()=>{O&&(O.dropPosition=null,d==null||d(O.dropPosition))}});return{sortableProps:{...us(f,y)},dragHandleRef:b}}function qu(){const{menuIndex:s}=de(),a=ds(),{getValues:t}=E(),n=`settings.menus.${s}`,l=t(n);return m.useEffect(()=>{l?V().preview.setHighlight(`[data-menu-id="${l.id}"]`):a("/admin/appearance/menus")},[a,l]),l?e.jsx(Uu,{formPath:n}):null}function Uu({formPath:s}){const{site:{has_mobile_app:a}}=we(),t=xs(i=>{var o;return(o=i.config)==null?void 0:o.sections.menus.config}),n=m.useMemo(()=>{const i=[...t==null?void 0:t.positions];return a&&i.push("mobile-app-about"),i.map(o=>({key:o,name:o.replaceAll("-"," ")}))},[t,a]),l=Ae({name:`${s}.items`,keyName:"key"});return e.jsxs(m.Fragment,{children:[e.jsxs("div",{className:"mb-30 border-b pb-30",children:[e.jsx(p,{name:`${s}.name`,label:e.jsx(r,{message:"Menu name"}),className:"mb-20",autoFocus:!0}),e.jsx(ua,{chipSize:"sm",name:`${s}.positions`,valueKey:"id",label:e.jsx(r,{message:"Menu positions"}),description:e.jsx(r,{message:"Where should this menu appear on the site"}),children:n.map(i=>e.jsx(x,{value:i.key,capitalizeFirst:!0,children:i.name},i.key))})]}),e.jsx(Ku,{fieldArray:l}),e.jsx("div",{className:"text-right",children:e.jsx(Wu,{})})]})}function Ku({fieldArray:{append:s,fields:a,move:t}}){const n=ds();return e.jsxs(m.Fragment,{children:[e.jsxs("div",{className:"flex flex-shrink-0 items-center justify-between gap-16",children:[e.jsx(r,{message:"Menu items"}),e.jsxs(_,{type:"popover",placement:"right",offset:20,onClose:l=>{l&&(s({...l}),n(`items/${a.length}`))},children:[e.jsx(j,{variant:"outline",color:"primary",size:"xs",startIcon:e.jsx(Ne,{}),children:e.jsx(r,{message:"Add"})}),e.jsx(dr,{})]})]}),e.jsxs("div",{className:"mt-20 flex-shrink-0",children:[a.map((l,i)=>e.jsx(Gu,{item:l,items:a,index:i,onSortEnd:(o,u)=>{t(o,u)}},l.key)),a.length?null:e.jsx(aa,{size:"xs",className:"my-40",image:e.jsx(ta,{src:Tu}),title:e.jsx(r,{message:"No menu items yet"}),description:e.jsx(r,{message:"Click “add“ button to start adding links, pages, routes and other items to this menu. "})})]})]})}function Wu(){const s=ds(),{menuIndex:a}=de(),{fields:t,remove:n}=Ae({name:"settings.menus",keyName:"key"});if(!a)return null;const l=t[+a];return e.jsxs(_,{type:"modal",onClose:i=>{if(i){const o=t.findIndex(u=>u.id===l.id);n(o),s("/admin/appearance/menus")}},children:[e.jsx(j,{variant:"outline",color:"danger",size:"xs",startIcon:e.jsx(ca,{}),children:e.jsx(r,{message:"Delete menu"})}),e.jsx(Ee,{isDanger:!0,title:e.jsx(r,{message:"Delete menu"}),body:e.jsx(r,{message:"Are you sure you want to delete “:name“?",values:{name:l.name}}),confirm:e.jsx(r,{message:"Delete"})})]})}function Gu({item:s,items:a,index:t,onSortEnd:n}){const l=m.useRef(null),{sortableProps:i,dragHandleRef:o}=Hu({item:s,items:a,type:"menuEditorSortable",ref:l,onSortEnd:n,strategy:"liveSort"}),u=s.icon&&tn(s.icon),c=e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted",children:[u&&e.jsx(u,{size:"sm"}),"(",e.jsx(r,{message:"No label..."}),")"]});return e.jsx(m.Fragment,{children:e.jsx(pe,{elementType:q,to:`items/${t}`,ref:l,...i,children:e.jsxs("div",{className:"flex items-center gap-10",children:[e.jsx(C,{ref:o,size:"sm",children:e.jsx(Iu,{className:"text-muted hover:cursor-move"})}),e.jsx("div",{children:s.label||c})]})})})}function Qu(){const{menuIndex:s,menuItemIndex:a}=de(),t=fe(),{getValues:n}=E(),l=`settings.menus.${s}.items.${a}`,i=n(l);return m.useEffect(()=>{i&&V().preview.setHighlight(`[data-menu-item-id="${i.id}"]`)},[t,i]),!i||a==null?null:e.jsx(Yu,{formPath:l})}function Yu({formPath:s}){return e.jsxs(m.Fragment,{children:[e.jsx(bs,{formPathPrefix:s}),e.jsx("div",{className:"text-right mt-40",children:e.jsx(Ju,{})})]})}function Ju(){const s=fe(),{menuIndex:a,menuItemIndex:t}=de(),{fields:n,remove:l}=Ae({name:`settings.menus.${+a}.items`});if(!t)return null;const i=n[+t];return e.jsxs(_,{type:"modal",onClose:o=>{o&&t&&(l(+t),s(`/admin/appearance/menus/${a}`))},children:[e.jsx(j,{variant:"outline",color:"danger",size:"xs",startIcon:e.jsx(ca,{}),children:e.jsx(r,{message:"Delete this item"})}),e.jsx(Ee,{isDanger:!0,title:e.jsx(r,{message:"Delete menu item"}),body:e.jsx(r,{message:"Are you sure you want to delete “:name“?",values:{name:i.label}}),confirm:e.jsx(r,{message:"Delete"})})]})}function Zu(){return e.jsxs(m.Fragment,{children:[e.jsx($s,{label:e.jsx(r,{message:"Favicon"}),description:e.jsx(r,{message:"This will generate different size favicons. Image should be at least 512x512 in size."}),type:"favicon"}),e.jsx($s,{label:e.jsx(r,{message:"Light logo"}),description:e.jsx(r,{message:"Will be used on dark backgrounds."}),type:"logo_light"}),e.jsx($s,{label:e.jsx(r,{message:"Dark logo"}),description:e.jsx(r,{message:"Will be used on light backgrounds. Will default to light logo if left empty."}),type:"logo_dark"}),e.jsx($s,{label:e.jsx(r,{message:"Mobile light logo"}),description:e.jsx(r,{message:"Will be used on light backgrounds on mobile. Will default to desktop logo if left empty."}),type:"logo_light_mobile"}),e.jsx($s,{label:e.jsx(r,{message:"Mobile dark logo"}),description:e.jsx(r,{message:"Will be used on dark backgrounds on mobile. Will default to desktop if left empty."}),type:"logo_dark_mobile"}),e.jsx(Xu,{}),e.jsx(ec,{})]})}function $s({label:s,description:a,type:t}){const n=xs(l=>{var i;return(i=l.defaults)==null?void 0:i.settings.branding[t]});return e.jsx(cs,{name:`settings.branding.${t}`,className:"border-b pb-30 mb-30",label:s,description:a,diskPrefix:"branding_media",defaultValue:n,onChange:()=>{V().preview.setHighlight('[data-logo="navbar"]')}})}function Xu(){return e.jsx(p,{name:"appearance.env.app_name",required:!0,className:"mt-20",label:e.jsx(r,{message:"Site name"})})}function ec(){return e.jsx(p,{name:"settings.branding.site_description",className:"mt-20",inputElementType:"textarea",rows:4,label:e.jsx(r,{message:"Site description"})})}function sc(s=1,a=1e4){const t=new Uint32Array(1);window.crypto.getRandomValues(t);const n=t[0]/(4294967295+1);return s=Math.ceil(s),a=Math.floor(a),Math.floor(n*(a-s+1))+s}function ac(){const{trans:s}=L(),a=ds(),{data:{themes:t}}=ln(),{fields:n,append:l}=Ae({name:"appearance.themes.all",keyName:"key"});return m.useEffect(()=>{t.selectedThemeId&&V().preview.setActiveTheme(t.selectedThemeId)},[t.selectedThemeId]),e.jsxs(m.Fragment,{children:[e.jsx("div",{className:"mb-20",children:e.jsx(j,{size:"xs",variant:"outline",color:"primary",startIcon:e.jsx(Ne,{}),onClick:()=>{var o;const i=(o=V().defaults)==null?void 0:o.appearance.themes.light;l({id:sc(),name:s(h("New theme")),values:i}),a(`${n.length+1}`)},children:e.jsx(r,{message:"New theme"})})}),n.map((i,o)=>e.jsx(pe,{to:`${o}`,elementType:qa,children:i.name},i.key))]})}const tc=I.lazy(()=>Ps(()=>import("./ace-editor-4da64720.js"),["./ace-editor-4da64720.js","./main-1b1452ea.js","./main-f697cf3d.css","./index-e25ca8d1.js"],import.meta.url));function it({defaultValue:s,mode:a="html",title:t,onSave:n,isSaving:l,footerStartAction:i,beautify:o,editorRef:u}){const[c,d]=m.useState(s),[g,f]=m.useState(!0);return e.jsxs(Z,{size:"fullscreen",className:"h-full w-full",children:[e.jsx(ne,{children:t}),e.jsx(ee,{className:"relative flex-auto",padding:"p-0",children:e.jsx(m.Suspense,{fallback:e.jsx("div",{className:"flex h-400 w-full items-center justify-center",children:e.jsx(Ls,{"aria-label":"Loading editor...",isIndeterminate:!0,size:"md"})}),children:e.jsx(tc,{beautify:o,mode:a,onChange:b=>d(b),defaultValue:c||"",onIsValidChange:f,editorRef:u})})}),e.jsx(nc,{disabled:!g||l,value:c,onSave:n,startAction:i})]})}function nc({disabled:s,value:a,onSave:t,startAction:n}){const{close:l}=G();return e.jsxs(ge,{dividerTop:!0,startAction:n,children:[e.jsx(j,{onClick:()=>l(),children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{disabled:s,variant:"flat",color:"primary",onClick:()=>{t?t(a):l(a)},children:e.jsx(r,{message:"Save"})})]})}function hr(s){return Ie({queryKey:["admin","seo-tags",s],queryFn:()=>rc(s)})}function rc(s){return $.get(`admin/appearance/seo-tags/${s}`).then(a=>a.data)}function lc(s){const a=on();return M({mutationFn:t=>ic(s,t.tags),onSuccess:async()=>{await a.invalidateQueries({queryKey:["admin","seo-tags",s]}),R(h("Updated SEO tags"))},onError:t=>se(t)})}function ic(s,a){return $.put(`admin/appearance/seo-tags/${s}`,{tags:a}).then(t=>t.data)}var Gt;const gr=((Gt=lt.sections["seo-settings"].config)==null?void 0:Gt.pages)||[],xr=gr.map(s=>s.key);function oc(){const{isLoading:s}=hr(xr);return s?e.jsx(Je,{}):e.jsx(m.Fragment,{children:gr.map(a=>e.jsx(uc,{label:a.label,name:a.key},a.key))})}function uc({label:s,name:a}){const{data:t,isLoading:n}=hr(xr);return e.jsxs(_,{type:"modal",children:[e.jsx(pe,{disabled:n,children:e.jsx(r,{...s})}),t?e.jsx(cc,{name:a,value:t[a]}):null]})}function cc({name:s,value:a}){const{close:t}=G(),n=lc(s),l=m.useRef(null),i=e.jsx(j,{variant:"outline",color:"primary",onClick:()=>{l.current&&l.current.editor.setValue(a.original)},children:e.jsx(r,{message:"Reset to original"})});return e.jsx(it,{mode:"php_laravel_blade",title:e.jsx(r,{message:"Edit SEO meta tags"}),footerStartAction:i,editorRef:l,defaultValue:a.custom||a.original,isSaving:n.isPending,beautify:!1,onSave:o=>{o!=null&&n.mutate({tags:o},{onSuccess:()=>t()})}})}function dc(){return e.jsxs(m.Fragment,{children:[e.jsx(Lt,{mode:"css"}),e.jsx(Lt,{mode:"html"})]})}function Lt({mode:s}){const{getValues:a}=E(),{setValue:t}=E(),n=s==="html"?e.jsx(r,{message:"Custom HTML & JavaScript"}):e.jsx(r,{message:"Custom CSS"});return e.jsxs(_,{type:"modal",onClose:l=>{l!=null&&(t(`appearance.custom_code.${s}`,l,{shouldDirty:!0}),V().preview.setCustomCode(s,l))},children:[e.jsx(pe,{children:n}),e.jsx(it,{title:n,defaultValue:a(`appearance.custom_code.${s}`)||"",mode:s})]})}const mc=""+new URL("articles-8bfd9f17.svg",import.meta.url).href,hc=s=>{const a=s.customPages.types.length>1?[{control:{type:oe.Select,defaultValue:"default",options:s.customPages.types.map(t=>({value:t.type,label:t.label,key:t.type}))},key:"type",label:h("Type"),description:h("Type of the page"),defaultOperator:le.eq}]:[];return[{key:"user_id",label:h("User"),description:h("User page was created by"),defaultOperator:le.eq,control:{type:oe.SelectModel,model:li}},...a,hs({description:h("Date page was created")}),Ds({description:h("Date page was last updated")})]},gc=[{key:"slug",allowsSorting:!0,width:"flex-2 min-w-200",visibleInMode:"all",header:()=>e.jsx(r,{message:"Slug"}),body:s=>e.jsx(q,{target:"_blank",to:`/pages/${s.slug}`,className:Ua,children:s.slug})},{key:"user_id",allowsSorting:!0,width:"flex-2 min-w-140",header:()=>e.jsx(r,{message:"Owner"}),body:s=>s.user&&e.jsx(as,{image:s.user.avatar,label:s.user.display_name,description:s.user.email})},{key:"type",maxWidth:"max-w-100",header:()=>e.jsx(r,{message:"Type"}),body:s=>e.jsx(r,{message:s.type})},{key:"updated_at",allowsSorting:!0,width:"w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(ve,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-84 flex-shrink-0",visibleInMode:"all",body:s=>e.jsx(C,{size:"md",className:"text-muted",elementType:q,to:`${s.id}/edit`,children:e.jsx(es,{})})}];function xc(){const s=m.useContext(ms),a=m.useMemo(()=>hc(s),[s]);return e.jsx(Be,{endpoint:"custom-pages",title:e.jsx(r,{message:"Custom pages"}),filters:a,columns:gc,queryParams:{with:"user"},actions:e.jsx(pc,{}),selectedActions:e.jsx(gs,{}),emptyStateMessage:e.jsx(ye,{image:mc,title:e.jsx(r,{message:"No pages have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching pages"})})})}function pc(){return e.jsx(Pe,{elementType:q,to:"new",children:e.jsx(r,{message:"New page"})})}const fc=[{label:h("Drive"),to:"drive"}],jc=[{label:h("General"),to:"general"},...fc,ml().settings.billing.integrated&&{label:h("Subscriptions"),to:"subscriptions"},{label:h("Localization"),to:"localization"},{label:h("Authentication"),to:"authentication"},{label:h("Uploading"),to:"uploading"},{label:h("Outgoing email"),to:"outgoing-email"},{label:h("Cache"),to:"cache"},{label:h("Analytics"),to:"analytics"},{label:h("Logging"),to:"logging"},{label:h("Queue"),to:"queue"},{label:h("Recaptcha"),to:"recaptcha"},{label:h("GDPR"),to:"gdpr"},{label:h("Menus"),to:"/admin/appearance/menus"},{label:h("Seo"),to:"/admin/appearance/seo-settings"},{label:h("Themes"),to:"/admin/appearance/themes"}].filter(Boolean),pr=jc;function bc({className:s}){const a=Te();return e.jsxs("div",{className:v(s,"container mx-auto min-h-full items-start gap-30 p-24 md:flex"),children:[e.jsx(sa,{children:e.jsx(r,{message:"Settings"})}),a?e.jsx(vc,{}):e.jsx(yc,{}),e.jsx("div",{className:"relative max-w-500 flex-auto md:px-30",children:e.jsx(Zs,{})})]})}function vc(){const{pathname:s}=la(),a=ds(),t=s.split("/").pop();return e.jsx(ks,{minWidth:"min-w-none",className:"mb-24 w-full bg",selectionMode:"single",selectedValue:t,onSelectionChange:n=>{a(n)},children:pr.map(n=>e.jsx(x,{value:n.to,children:e.jsx(r,{...n.label})},n.to))})}function yc(){return e.jsx("div",{className:"sticky top-24 w-240 flex-shrink-0",children:pr.map(s=>e.jsx(qa,{to:s.to,className:({isActive:a})=>v("mb-8 block whitespace-nowrap rounded-button p-14 text-sm transition-bg-color",a?"bg-primary/6 font-semibold text-primary":"hover:bg-hover"),children:e.jsx(r,{...s.label})},s.to))})}function Rs(){return Ie({queryKey:["fetchAdminSettings"],queryFn:()=>wc(),staleTime:1/0})}function wc(){return $.get("settings").then(s=>s.data)}function kc(){return $.post("sitemap/generate").then(s=>s.data)}function Cc(){return M({mutationFn:()=>kc(),onSuccess:()=>{R(h("Sitemap generated"))},onError:s=>se(s)})}const Sa=s=>s instanceof Date,Sc=s=>Object.keys(s).length===0,Ia=s=>s!=null&&typeof s=="object",Mt=(s,...a)=>Object.prototype.hasOwnProperty.call(s,...a),Da=s=>Ia(s)&&Sc(s),Dc=()=>Object.create(null),Ta=(s,a)=>{if(s===a)return{};if(!Ia(s)||!Ia(a))return a;const t=Object.keys(s).reduce((n,l)=>(Mt(a,l)||(n[l]=void 0),n),Dc());return Sa(s)||Sa(a)?s.valueOf()==a.valueOf()?{}:a:Object.keys(a).reduce((n,l)=>{if(!Mt(s,l))return n[l]=a[l],n;const i=Ta(s[l],a[l]);return Da(i)&&!Sa(i)&&(Da(s[l])||!Da(a[l]))||(n[l]=i),n},t)};function fr(s){const{data:a}=Rs();return M({mutationFn:t=>{var i,o,u,c,d,g,f,b,y,w,k;(o=(i=t.client)==null?void 0:i.cookie_notice)!=null&&o.button&&(t.client.cookie_notice.button=JSON.stringify(t.client.cookie_notice.button)),(c=(u=t.client)==null?void 0:u.registration)!=null&&c.policies&&(t.client.registration.policies=JSON.stringify(t.client.registration.policies)),(g=(d=t.client)==null?void 0:d.artistPage)!=null&&g.tabs&&(t.client.artistPage.tabs=JSON.stringify(t.client.artistPage.tabs)),(b=(f=t.client)==null?void 0:f.title_page)!=null&&b.sections&&(t.client.title_page.sections=JSON.stringify(t.client.title_page.sections)),(y=t.client)!=null&&y.incoming_email&&(t.client.incoming_email=JSON.stringify(t.client.incoming_email)),(k=(w=t.client)==null?void 0:w.publish)!=null&&k.default_credentials&&(t.client.publish.default_credentials=JSON.stringify(t.client.publish.default_credentials));const n=t.client?Ta(a.client,t.client):null,l=t.server?Ta(a.server,t.server):null;return Nc({client:n,server:l,files:t.files})},onSuccess:()=>{R(h("Settings updated"),{position:"bottom-right"}),T.invalidateQueries({queryKey:["fetchAdminSettings"]})},onError:t=>ke(t,s)})}function Nc({client:s,server:a,files:t}){const n=new FormData;return s&&n.set("client",JSON.stringify(bt.dot(s))),a&&n.set("server",JSON.stringify(bt.dot(a))),Object.entries(t||{}).forEach(([l,i])=>{n.set(l,i)}),$.post("settings",n,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>l.data)}function Ce({title:s,description:a,children:t,transformValues:n}){const{data:l}=Rs();return e.jsxs("section",{children:[e.jsxs("div",{className:"mb-40",children:[e.jsx("h2",{className:"mb-4 text-xl",children:s}),e.jsx("div",{className:"text-sm text-muted",children:a})]}),l?e.jsx(Ec,{defaultValues:l,transformValues:n,children:t}):e.jsx(Ls,{isIndeterminate:!0,"aria-label":"Loading settings..."})]})}function Ec({children:s,defaultValues:a,transformValues:t}){const n=W({defaultValues:a}),l=fr(n);return e.jsxs(m.Fragment,{children:[e.jsxs(ce,{form:n,onBeforeSubmit:()=>{const i=n.formState.errors,o=Object.keys(i).filter(u=>u.endsWith("_group"));n.clearErrors(o)},onSubmit:i=>{i=t?t(i):i,l.mutate(i)},children:[s,e.jsx("div",{className:"mt-40",children:e.jsx(j,{type:"submit",variant:"flat",color:"primary",disabled:l.isPending,children:e.jsx(r,{message:"Update"})})})]}),l.isPending&&e.jsx(Xt,{size:"xs",className:"absolute -bottom-14 left-30 w-full",isIndeterminate:!0,"aria-label":"Saving settings..."})]})}function Ve(){return e.jsx("div",{className:"h-1 bg-divider my-30"})}function ga({link:s,className:a}){const{site:t}=we();return t.hide_docs_button?null:e.jsxs("div",{className:v("flex items-center gap-8",a),children:[e.jsx(Ja,{size:"sm"}),e.jsx(ia,{href:s,children:e.jsx(r,{message:"Learn more"})})]})}function Fc(){return e.jsxs(Ce,{title:e.jsx(r,{message:"General"}),description:e.jsx(r,{message:"Configure site url, homepage, theme and other general settings."}),children:[e.jsx($c,{}),e.jsx(Ve,{}),e.jsx(Ac,{}),e.jsx(Ve,{}),e.jsx(Bc,{}),e.jsx(Ve,{}),e.jsx(_c,{})]})}function $c(){const{data:s}=Rs();if(!s)return null;let a=null;const t=s.server,n=t.newAppUrl&&t.newAppUrl!==t.app_url;return n&&(a=e.jsx("div",{className:"mt-20 text-sm text-danger",children:e.jsx(r,{values:{baseUrl:t.app_url,currentUrl:t.newAppUrl,b:l=>e.jsx("b",{children:l})},message:"Base site url is set as <b>:baseUrl</b> in configuration, but current url is <b>:currentUrl</b>. It is recommended to set the primary url you want to use in configuration file and then redirect all other url versions to this primary version via cpanel or .htaccess file."})})),e.jsxs(m.Fragment,{children:[e.jsx(p,{invalid:!!n,name:"server.app_url",label:e.jsx(r,{message:"Primary site url"}),description:e.jsx(ga,{link:"https://support.vebto.com/help-center/articles/35/primary-site-url"})}),a]})}function Ac(){var l,i;const{watch:s}=E(),{homepage:a}=m.useContext(ms),{data:t}=Fe(["menuItemCategories"]),n=s("client.homepage.type");return e.jsxs("div",{children:[e.jsxs(U,{name:"client.homepage.type",selectionMode:"single",label:e.jsx(r,{message:"Site home page"}),description:e.jsx(r,{message:"Which page should be used as site homepage."}),children:[a.options.map(o=>e.jsx(x,{value:o.value,children:e.jsx(r,{...o.label})},o.value)),(l=t==null?void 0:t.menuItemCategories)==null?void 0:l.map(o=>e.jsx(x,{value:o.type,children:o.name},o.type))]}),(i=t==null?void 0:t.menuItemCategories)==null?void 0:i.map(o=>n===o.type?e.jsx(U,{className:"mt-24",name:"client.homepage.value",selectionMode:"single",label:e.jsx(r,{message:"Homepage :name",values:{name:o.name}}),children:o.items.map(u=>e.jsx(x,{value:u.model_id,children:u.label},u.label))},o.name):null)]})}function Bc(){const{data:{themes:s}}=ln();return e.jsxs(m.Fragment,{children:[e.jsxs(U,{className:"mb-20",name:"client.themes.default_id",selectionMode:"single",label:e.jsx(r,{message:"Default site theme"}),description:e.jsx(r,{message:"Which theme to use for users that have not chosen a theme manually."}),children:[e.jsx(x,{value:0,children:e.jsx(r,{message:"System"})}),s.all.map(a=>e.jsx(x,{value:a.id,children:a.name},a.id))]}),e.jsx(P,{name:"client.themes.user_change",description:e.jsx(r,{message:"Allow users to manually change site theme."}),children:e.jsx(r,{message:"Allow theme change"})})]})}function _c(){const s=Cc(),{base_url:a}=we(),t=`${a}/storage/sitemaps/sitemap-index.xml`,n=e.jsx(ia,{href:t,children:t});return e.jsxs(e.Fragment,{children:[e.jsx(j,{variant:"outline",size:"xs",color:"primary",disabled:s.isPending,onClick:()=>{s.mutate()},children:e.jsx(r,{message:"Generate sitemap"})}),e.jsx("div",{className:"mt-14 text-sm text-muted",children:e.jsx(r,{message:"Once generated, sitemap url will be: :url",values:{url:n}})})]})}function Rt(s){return st(s).toString("rgb").replace("rgb(","").replace(")","").replace(/, ?/g," ")}const zc=B(e.jsx("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"TuneOutlined");function Ic(){const{getValues:s,setValue:a}=E(),{themeIndex:t}=de(),n=s(`appearance.themes.all.${+t}`);return e.jsxs(_,{type:"modal",onClose:l=>{l&&s("appearance.themes.all").forEach((i,o)=>{if(i.id===l.id){a(`appearance.themes.all.${o}`,l,{shouldDirty:!0});return}if(l.default_light){a(`appearance.themes.all.${o}`,{...i,default_light:!1},{shouldDirty:!0});return}if(l.default_dark){a(`appearance.themes.all.${o}`,{...i,default_dark:!1},{shouldDirty:!0});return}})},children:[e.jsx(j,{size:"xs",variant:"outline",color:"primary",startIcon:e.jsx(zc,{}),children:e.jsx(r,{message:"Settings"})}),e.jsx(Tc,{theme:n})]})}function Tc({theme:s}){const a=W({defaultValues:s}),{close:t,formId:n}=G();return m.useEffect(()=>{const l=a.watch((i,{name:o})=>{o==="default_light"&&i.default_light&&a.setValue("default_dark",!1),o==="default_dark"&&i.default_dark&&a.setValue("default_light",!1)});return()=>l.unsubscribe()},[a]),e.jsxs(Z,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Update settings"})}),e.jsx(ee,{children:e.jsxs(ce,{form:a,id:n,onSubmit:l=>{t(l)},children:[e.jsx(p,{name:"name",label:e.jsx(r,{message:"Name"}),className:"mb-30",autoFocus:!0}),e.jsx(P,{name:"is_dark",className:"mb-20 pb-20 border-b",description:e.jsx(r,{message:"Whether this theme has light text on dark background."}),children:e.jsx(r,{message:"Dark theme"})}),e.jsx(P,{name:"default_light",className:"mb-30",description:e.jsx(r,{message:"When light mode is selected, this theme will be used."}),children:e.jsx(r,{message:"Default for light mode"})}),e.jsx(P,{name:"default_dark",description:e.jsx(r,{message:"When dark mode is selected, this theme will be used."}),children:e.jsx(r,{message:"Default for dark mode"})})]})}),e.jsxs(ge,{children:[e.jsx(j,{onClick:()=>{t()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{variant:"flat",color:"primary",type:"submit",form:n,disabled:!a.formState.isDirty,children:e.jsx(r,{message:"Save"})})]})]})}const Pc=B(e.jsx("path",{d:"M6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91zm14 0c0-4.42-3.58-8-8-8-.06 0-.12.01-.18.01l1.09-1.09L11.5 2.5 8 6l3.5 3.5 1.41-1.41-1.08-1.08c.06 0 .12-.01.17-.01 3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93z"}),"RestartAltOutlined");function Lc(){const s=fe(),{themeIndex:a}=de(),[t,n]=m.useState(!1),{setValue:l,getValues:i}=E(),{fields:o,remove:u}=Ae({name:"appearance.themes.all"}),c=()=>{if(o.length<=1){R.danger(h("At least one theme is required"));return}a&&(s("/admin/appearance/themes"),u(+a),l("appearance.themes.selectedThemeId",null))};return e.jsxs(m.Fragment,{children:[e.jsxs(Ze,{onItemSelected:d=>{if(d==="delete")n(!0);else if(d==="reset"){const g=`appearance.themes.all.${+a}`,f=i(`${g}.is_dark`)?V().defaults.appearance.themes.dark:V().defaults.appearance.themes.light;Object.entries(f).forEach(([b,y])=>{V().preview.setThemeValue(b,y)}),V().preview.setThemeFont(null),l(`${g}.values`,f,{shouldDirty:!0}),l(`${g}.font`,void 0,{shouldDirty:!0})}},children:[e.jsx(C,{size:"md",className:"text-muted",children:e.jsx(da,{})}),e.jsxs(Xe,{children:[e.jsx(x,{value:"reset",startIcon:e.jsx(Pc,{}),children:e.jsx(r,{message:"Reset colors"})}),e.jsx(x,{value:"delete",startIcon:e.jsx(ca,{}),children:e.jsx(r,{message:"Delete"})})]})]}),e.jsx(_,{type:"modal",isOpen:t,onClose:d=>{d&&c(),n(!1)},children:e.jsx(Ee,{isDanger:!0,title:e.jsx(r,{message:"Delete theme"}),body:e.jsx(r,{message:"Are you sure you want to delete this theme?"}),confirm:e.jsx(r,{message:"Delete"})})})]})}const Vt=[{label:h("Accent"),value:"primary",bgColor:"bg-primary",previewBgColor:"text-primary"},{label:h("Background"),value:"bg",bgColor:"bg-background",previewBgColor:"text-background"},{label:h("Background alt"),value:"bg-alt",bgColor:"bg-alt",previewBgColor:"text-background-alt"},{label:h("Transparent"),value:"transparent",bgColor:"bg-transparent",previewBgColor:"text-transparent"}];function Mc(){var o;const{themeIndex:s}=de(),{watch:a,setValue:t}=E(),n=`appearance.themes.all.${s}.values.--be-navbar-color`,l=a(n),i=(o=Vt.find(({value:u})=>u===l))==null?void 0:o.previewBgColor;return e.jsxs(Ze,{placement:"right",selectionMode:"single",selectedValue:l,onSelectionChange:u=>{t(n,u,{shouldDirty:!0})},children:[e.jsx(pe,{startIcon:e.jsx(Xa,{viewBox:"0 0 48 48",className:v("icon-lg",i)}),children:e.jsx(r,{message:"Navbar"})}),e.jsx(Xe,{children:Vt.map(({label:u,value:c,bgColor:d})=>e.jsx(x,{value:c,startIcon:e.jsx("div",{className:v("h-20 w-20 rounded border",d)}),children:e.jsx(r,{...u})},c))})]})}function Rc(s){try{return st(`rgb(${s.split(" ").join(",")})`).toString("hex")}catch{return s}}const Vc=[{label:h("Background"),key:"--be-background"},{label:h("Background alt"),key:"--be-background-alt"},{label:h("Foreground"),key:"--be-foreground-base"},{label:h("Accent light"),key:"--be-primary-light"},{label:h("Accent"),key:"--be-primary"},{label:h("Accent dark"),key:"--be-primary-dark"},{label:h("Text on accent"),key:"--be-on-primary"},{label:h("Chip"),key:"--be-background-chip"}];function Oc(){const s=ds(),{themeIndex:a}=de(),{getValues:t,watch:n}=E(),l=t(`appearance.themes.all.${+a}`),i=n(`appearance.themes.all.${+a}.font.family`);return m.useEffect(()=>{l||s("/admin/appearance/themes")},[s,l]),m.useEffect(()=>{l!=null&&l.id&&V().preview.setActiveTheme(l.id)},[l==null?void 0:l.id]),l?e.jsxs(m.Fragment,{children:[e.jsxs("div",{className:"mb-20 flex items-center justify-between gap-10",children:[e.jsx(Ic,{}),e.jsx(Lc,{})]}),e.jsxs("div",{children:[e.jsx(pe,{elementType:q,to:"font",description:i||e.jsx(r,{message:"System"}),children:e.jsx(r,{message:"Font"})}),e.jsx(pe,{elementType:q,to:"radius",children:e.jsx(r,{message:"Rounding"})}),e.jsx("div",{className:"mb-6 mt-22 text-sm font-semibold",children:e.jsx(r,{message:"Colors"})}),e.jsx(Mc,{}),Vc.map(o=>e.jsx(Hc,{colorName:o.key,label:e.jsx(r,{...o.label}),initialThemeValue:l.values[o.key],theme:l},o.key))]})]}):null}function Hc({label:s,theme:a,colorName:t,initialThemeValue:n}){const{setValue:l}=E(),{themeIndex:i}=de(),[o,u]=m.useState(n),c=d=>{u(d),V().preview.setThemeValue(t,d)};return m.useEffect(()=>{u(n)},[n]),e.jsxs(_,{value:Rc(o),type:"popover",placement:"right",offset:10,onValueChange:d=>{c(Rt(d))},onClose:(d,{valueChanged:g,initialValue:f})=>{d&&g?(l(`appearance.themes.all.${+i}.values.${t}`,Rt(d),{shouldDirty:!0}),l("appearance.themes.selectedThemeId",a.id)):c(f)},children:[e.jsx(pe,{className:"capitalize",startIcon:e.jsx(Xa,{viewBox:"0 0 48 48",className:"icon-lg",style:{fill:`rgb(${o})`}}),children:s}),e.jsx(tt,{})]})}function qc(){return e.jsxs(Ce,{title:e.jsx(r,{message:"Drive"}),description:e.jsx(r,{message:"Configure defaults for drive user dashboard."}),children:[e.jsxs(Ka,{required:!0,className:"mb-30",size:"md",name:"client.drive.default_view",orientation:"vertical",label:e.jsx(r,{message:"Default view mode"}),description:e.jsx(r,{message:"Which view mode should user drive use by default."}),children:[e.jsx(ls,{value:"list",children:e.jsx(r,{message:"List"})}),e.jsx(ls,{value:"grid",children:e.jsx(r,{message:"Grid"})})]}),e.jsx(P,{className:"mb-30",name:"client.drive.send_share_notification",description:e.jsx(r,{message:"Send a notification to user when a file or folder is shared with them."}),children:e.jsx(r,{message:"Share notifications"})}),e.jsx(P,{name:"client.share.suggest_emails",description:e.jsx(r,{message:"Suggest email address of existing users when sharing a file or folder."}),children:e.jsx(r,{message:"Suggest emails"})})]})}const Uc=[{path:"drive",element:e.jsx(qc,{})}];function je({children:s,name:a,separatorBottom:t=!0,separatorTop:n=!0}){const{formState:{errors:l}}=E(),i=m.useRef(null),o=l[a];return m.useEffect(()=>{var u;o&&((u=i.current)==null||u.scrollIntoView({behavior:"smooth"}))},[o]),e.jsxs("div",{className:v(t&&"border-b mb-20 pb-20",n&&"border-t mt-20 pt-20",o&&"border-y-error"),ref:i,children:[s(!!o),o&&e.jsx("div",{className:"text-danger text-sm mt-20",dangerouslySetInnerHTML:{__html:o.message}})]})}function Pa({children:s,...a}){const{field:{onChange:t,onBlur:n,value:l=[],ref:i},fieldState:{invalid:o,error:u}}=Cs({name:a.name}),c=m.useMemo(()=>{const g=l;return typeof g=="string"?JSON.parse(g):g},[l]),d={onChange:g=>{const f=JSON.stringify(g.map(b=>b.name));t(f)},onBlur:n,value:c,invalid:o,errorMessage:u==null?void 0:u.message};return e.jsx(ii,{ref:i,...us(d,a)})}const Vs=I.createContext(null);function ot(s){const{size:a="md",children:t,className:n,isLazy:l,overflow:i="overflow-hidden"}=s,o=m.useRef([]),u=m.useId(),[c,d]=Ts(s.selectedTab,s.defaultSelectedTab||0,s.onTabChange),g=m.useMemo(()=>({selectedTab:c,setSelectedTab:d,tabsRef:o,size:a,isLazy:l,id:u}),[c,u,l,d,a]);return e.jsx(Vs.Provider,{value:g,children:e.jsx("div",{className:v(n,i,"max-w-full"),children:t})})}function Kc(){const{tabsRef:s,selectedTab:a}=m.useContext(Vs),[t,n]=m.useState({width:void 0,transform:void 0,className:void 0});return un(()=>{if(a!=null&&s.current){const l=s.current[a];if(!l)return;n(i=>({width:`${l.offsetWidth}px`,transform:`translateX(${l.offsetLeft}px)`,className:i.width===void 0?"":"transition-all"}))}},[n,a,s]),e.jsx("div",{className:v("absolute bottom-0 left-0 h-2 bg-primary",t.className),role:"presentation",style:{width:t.width,transform:t.transform}})}function ut({children:s,center:a,expand:t,className:n}){const l=m.Children.toArray(s);return e.jsx(Jt,{children:e.jsxs("div",{className:v("flex relative max-w-full overflow-auto border-b max-sm:hidden-scrollbar md:compact-scrollbar",n),role:"tablist","aria-orientation":"horizontal",children:[l.map((i,o)=>m.isValidElement(i)?m.cloneElement(i,{index:o,className:v(i.props.className,t&&"flex-auto",a&&o===0&&"ml-auto",a&&o===l.length-1&&"mr-auto")}):null),e.jsx(Kc,{})]})})}function os({index:s,className:a,isDisabled:t,children:n,padding:l,elementType:i="button",to:o,relative:u,width:c="min-w-min"}){const{selectedTab:d,setSelectedTab:g,tabsRef:f,size:b="md",id:y}=m.useContext(Vs),w=s===d,k=Zt(),N=l||(b==="sm"?"px-12":"px-18"),F=v("tracking-wide overflow-hidden capitalize text-sm flex items-center justify-center outline-none transition-colors","focus-visible:ring focus-visible:ring-2 ring-inset rounded whitespace-nowrap cursor-pointer",c,Wc({isDisabled:t,isSelected:w}),a,b==="md"&&`${N} h-48`,b==="sm"&&`${N} h-32`,t&&"pointer-events-none"),A=z=>{switch(z.key){case"ArrowLeft":k==null||k.focusPrevious();break;case"ArrowRight":k==null||k.focusNext();break;case"Home":k==null||k.focusFirst();break;case"End":k==null||k.focusLast();break}},S=w?0:-1,Y=i;return e.jsx(Y,{disabled:t,id:`${y}-${s}-tab`,"aria-controls":`${y}-${s}-tabpanel`,type:"button",role:"tab","aria-selected":w,tabIndex:t?void 0:S,onKeyDown:A,onClick:()=>{g(s)},to:o,relative:u,className:F,ref:z=>{f.current&&z&&(f.current[s]=z)},children:n})}function Wc({isDisabled:s,isSelected:a}){return s?"text-disabled cursor-default":a?"text-primary":"text-muted hover:text-main"}function jr({children:s,className:a}){const{selectedTab:t,isLazy:n}=m.useContext(Vs),l=m.Children.toArray(s).filter(o=>!!o);let i;if(n){const o=l[t];i=m.isValidElement(o)?m.cloneElement(l[t],{index:t}):null}else i=l.map((o,u)=>{if(m.isValidElement(o)){const c=u===t;return m.cloneElement(o,{index:u,"aria-hidden":!c,className:c?o.props.className:v(o.props.className,"hidden")})}return null});return e.jsx("div",{className:a,children:i})}function Js({className:s,children:a,index:t,...n}){const{id:l}=m.useContext(Vs),[i,o]=m.useState(0),u=m.useRef(null);return un(()=>{if(u!=null&&u.current){const c=()=>{const g=hl(u.current,{tabbable:!0});o(g.nextNode()?void 0:0)};c();const d=new MutationObserver(c);return d.observe(u.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{d.disconnect()}}},[u]),e.jsx("div",{tabIndex:i,ref:u,id:`${l}-${t}-tabpanel`,"aria-labelledby":`${l}-${t}-tab`,className:v(s,"focus-visible:outline-primary-light"),role:"tabpanel",...n,children:a})}function Gc(){const{trans:s}=L();return e.jsx(Ce,{title:e.jsx(r,{message:"Subscriptions"}),description:e.jsx(r,{message:"Configure gateway integration, accepted cards, invoices and other related settings."}),children:e.jsxs(ot,{children:[e.jsxs(ut,{children:[e.jsx(os,{children:e.jsx(r,{message:"General"})}),e.jsx(os,{children:e.jsx(r,{message:"Invoices"})})]}),e.jsxs(jr,{className:"pt-30",children:[e.jsxs(Js,{children:[e.jsx(P,{name:"client.billing.enable",description:e.jsx(r,{message:"Enable or disable all subscription related functionality across the site."}),children:e.jsx(r,{message:"Enable subscriptions"})}),e.jsx(Ve,{}),e.jsx(Qc,{}),e.jsx(Yc,{}),e.jsx(Ve,{}),e.jsx(Pa,{label:e.jsx(r,{message:"Accepted cards"}),name:"client.billing.accepted_cards",placeholder:s({message:"Add new card..."})})]}),e.jsxs(Js,{children:[e.jsx(p,{inputElementType:"textarea",rows:5,label:e.jsx(r,{message:"Invoice address"}),name:"client.billing.invoice.address",className:"mb-30"}),e.jsx(p,{inputElementType:"textarea",rows:5,label:e.jsx(r,{message:"Invoice notes"}),description:e.jsx(r,{message:"Default notes to show under `notes` section of user invoice. Optional."}),name:"client.billing.invoice.notes"})]})]})]})})}function Qc(){const{watch:s}=E(),a=s("client.billing.paypal.enable");return e.jsxs("div",{className:"mb-30",children:[e.jsx(P,{name:"client.billing.paypal.enable",description:e.jsxs("div",{children:[e.jsx(r,{message:"Enable PayPal payment gateway integration."}),e.jsx(ga,{className:"mt-6",link:"https://support.vebto.com/help-center/articles/147/configuring-paypal"})]}),children:e.jsx(r,{message:"PayPal gateway"})}),a?e.jsx(je,{name:"paypal_group",children:t=>e.jsxs(m.Fragment,{children:[e.jsx(p,{name:"server.paypal_client_id",label:e.jsx(r,{message:"PayPal Client ID"}),required:!0,invalid:t,className:"mb-20"}),e.jsx(p,{name:"server.paypal_secret",label:e.jsx(r,{message:"PayPal Secret"}),required:!0,invalid:t,className:"mb-20"}),e.jsx(p,{name:"server.paypal_webhook_id",label:e.jsx(r,{message:"PayPal Webhook ID"}),required:!0,invalid:t,className:"mb-20"}),e.jsx(P,{name:"client.billing.paypal_test_mode",invalid:t,description:e.jsx("div",{children:e.jsx(r,{message:"Allows testing PayPal payments with sandbox accounts."})}),children:e.jsx(r,{message:"PayPal test mode"})})]})}):null]})}function Yc(){const{watch:s}=E(),a=s("client.billing.stripe.enable");return e.jsxs(m.Fragment,{children:[e.jsx(P,{name:"client.billing.stripe.enable",description:e.jsxs("div",{children:[e.jsx(r,{message:"Enable Stripe payment gateway integration."}),e.jsx(ga,{className:"mt-6",link:"https://support.vebto.com/help-center/articles/148/configuring-stripe"})]}),children:e.jsx(r,{message:"Stripe gateway"})}),a?e.jsx(je,{name:"stripe_group",separatorBottom:!1,children:t=>e.jsxs(m.Fragment,{children:[e.jsx(p,{name:"server.stripe_key",label:e.jsx(r,{message:"Stripe publishable key"}),required:!0,className:"mb-20",invalid:t}),e.jsx(p,{name:"server.stripe_secret",label:e.jsx(r,{message:"Stripe secret key"}),required:!0,className:"mb-20",invalid:t}),e.jsx(p,{name:"server.stripe_webhook_secret",label:e.jsx(r,{message:"Stripe webhook signing secret"}),className:"mb-20",invalid:t})]})}):null]})}function Jc(){const{data:s}=Fe(["timezones","localizations"]),a=oi(),{trans:t}=L();return e.jsxs(Ce,{title:e.jsx(r,{message:"Localization"}),description:e.jsx(r,{message:"Configure global date, time and language settings."}),children:[e.jsxs(U,{className:"mb-30",required:!0,name:"client.dates.default_timezone",showSearchField:!0,selectionMode:"single",label:e.jsx(r,{message:"Default timezone"}),searchPlaceholder:t(h("Search timezones")),description:e.jsx(r,{message:"Which timezone should be selected by default for new users and guests."}),children:[e.jsx(x,{value:"auto",children:e.jsx(r,{message:"Auto"})},"auto"),Object.entries((s==null?void 0:s.timezones)||{}).map(([n,l])=>e.jsx(nn,{label:n,children:l.map(i=>e.jsx(x,{value:i.value,children:i.text},i.value))},n))]}),e.jsxs(U,{name:"client.locale.default",className:"mb-30",selectionMode:"single",label:e.jsx(r,{message:"Default language"}),description:e.jsx(r,{message:"Which localization should be selected by default for new users and guests."}),children:[e.jsx(x,{value:"auto",children:e.jsx(r,{message:"Auto"})},"auto"),((s==null?void 0:s.localizations)||[]).map(n=>e.jsx(x,{value:n.language,capitalizeFirst:!0,children:n.name},n.language))]}),e.jsxs(Ka,{required:!0,className:"mb-30",size:"sm",name:"client.dates.format",orientation:"vertical",label:e.jsx(r,{message:"Date verbosity"}),description:e.jsx(r,{message:"Default verbosity for all dates displayed across the site. Month/day order and separators will be adjusted automatically, based on user's locale."}),children:[e.jsx(ls,{value:"auto",children:e.jsx(r,{message:"Auto"})},"auto"),Object.entries(gl).map(([n,l])=>e.jsx(ls,{value:n,children:e.jsx(ve,{date:a,options:l})},n))]}),e.jsx(P,{name:"client.i18n.enable",description:e.jsx(r,{message:"If disabled, site will always be shown in default language and user will not be able to change their locale."}),children:e.jsx(r,{message:"Enable translations"})})]})}function Zc(){return e.jsxs(Ce,{title:e.jsx(r,{message:"Authentication"}),description:e.jsx(r,{message:"Configure registration, social login and related 3rd party integrations."}),children:[e.jsx(ed,{}),e.jsx(P,{className:"mb-24",name:"client.registration.disable",description:e.jsx(r,{message:"All registration related functionality (including social login) will be disabled."}),children:e.jsx(r,{message:"Disable registration"})}),e.jsx(P,{className:"mb-24",name:"client.single_device_login",description:e.jsx(r,{message:"Only allow one device to be logged into user account at the same time."}),children:e.jsx(r,{message:"Single device login"})}),e.jsx(P,{name:"client.social.compact_buttons",description:e.jsx(r,{message:"Use compact design for social login buttons."}),children:e.jsx(r,{message:"Compact buttons"})}),e.jsx(sd,{}),e.jsx(ad,{}),e.jsx(td,{}),e.jsx(nd,{}),e.jsx(Ve,{}),e.jsx(p,{inputElementType:"textarea",rows:3,className:"mt-24",name:"client.auth.domain_blacklist",label:e.jsx(r,{message:"Domain blacklist"}),description:e.jsx(r,{message:"Comma separated list of domains. Users will not be able to register or login using any email adress from specified domains."})})]})}function Xc(){const{watch:s}=E();return s("server.mail_setup")?null:e.jsx("p",{className:"mt-10 rounded-panel border p-10 text-sm text-danger",children:e.jsx(r,{message:"Outgoing mail method needs to be setup before enabling this setting. <a>Fix now</a>",values:{a:t=>e.jsx(j,{elementType:q,variant:"outline",size:"xs",display:"flex",className:"mt-10 max-w-max",to:"/admin/settings/outgoing-email",children:t})}})})}function ed(){return e.jsx(P,{className:"mb-30",name:"client.require_email_confirmation",description:e.jsxs(m.Fragment,{children:[e.jsx(r,{message:"Require newly registered users to validate their email address before being able to login."}),e.jsx(Xc,{})]}),children:e.jsx(r,{message:"Require email confirmation"})})}function sd(){var n;const{watch:s}=E(),a=we(),t=s("client.social.envato.enable");return(n=a.envato)!=null&&n.enable?e.jsx(je,{separatorBottom:!1,name:"envato_group",children:l=>e.jsxs(e.Fragment,{children:[e.jsx(P,{invalid:l,name:"client.social.envato.enable",description:e.jsx(r,{message:"Enable logging into the site via envato."}),children:e.jsx(r,{message:"Envato login"})}),!!t&&e.jsxs(e.Fragment,{children:[e.jsx(p,{invalid:l,className:"mt-30",name:"server.envato_id",label:e.jsx(r,{message:"Envato ID"}),required:!0}),e.jsx(p,{invalid:l,className:"mt-30",name:"server.envato_secret",label:e.jsx(r,{message:"Envato secret"}),required:!0}),e.jsx(p,{invalid:l,className:"mt-30",name:"server.envato_personal_token",label:e.jsx(r,{message:"Envato personal token"}),required:!0})]})]})}):null}function ad(){const{watch:s}=E(),a=s("client.social.google.enable");return e.jsx(je,{name:"google_group",children:t=>e.jsxs(e.Fragment,{children:[e.jsx(P,{invalid:t,name:"client.social.google.enable",description:e.jsx(r,{message:"Enable logging into the site via google."}),children:e.jsx(r,{message:"Google login"})}),!!a&&e.jsxs(e.Fragment,{children:[e.jsx(p,{invalid:t,className:"mt-30",name:"server.google_id",label:e.jsx(r,{message:"Google client ID"}),required:!0}),e.jsx(p,{className:"mt-30",name:"server.google_secret",label:e.jsx(r,{message:"Google client secret"}),required:!0})]})]})})}function td(){const{watch:s}=E(),a=s("client.social.facebook.enable");return e.jsx(je,{name:"facebook_group",separatorTop:!1,children:t=>e.jsxs(e.Fragment,{children:[e.jsx(P,{invalid:t,name:"client.social.facebook.enable",description:e.jsx(r,{message:"Enable logging into the site via facebook."}),children:e.jsx(r,{message:"Facebook login"})}),!!a&&e.jsxs(e.Fragment,{children:[e.jsx(p,{invalid:t,className:"mt-30",name:"server.facebook_id",label:e.jsx(r,{message:"Facebook app ID"}),required:!0}),e.jsx(p,{invalid:t,className:"mt-30",name:"server.facebook_secret",label:e.jsx(r,{message:"Facebook app secret"}),required:!0})]})]})})}function nd(){const{watch:s}=E(),a=s("client.social.twitter.enable");return e.jsx(je,{name:"twitter_group",separatorTop:!1,separatorBottom:!1,children:t=>e.jsxs(e.Fragment,{children:[e.jsx(P,{invalid:t,name:"client.social.twitter.enable",description:e.jsx(r,{message:"Enable logging into the site via twitter."}),children:e.jsx(r,{message:"Twitter login"})}),!!a&&e.jsxs(e.Fragment,{children:[e.jsx(p,{invalid:t,className:"mt-30",name:"server.twitter_id",label:e.jsx(r,{message:"Twitter ID"}),required:!0}),e.jsx(p,{invalid:t,className:"mt-30",name:"server.twitter_secret",label:e.jsx(r,{message:"Twitter secret"}),required:!0})]})]})})}function rd(){return $.get("uploads/server-max-file-size").then(s=>s.data)}function ld(){return Ie({queryKey:["MaxServerUploadSize"],queryFn:()=>rd()})}const id=["B","KB","MB","GB","TB","PB"];function Ot(s,a){if(s==null)return 0;switch(a){case"KB":return s*1024;case"MB":return s*1024**2;case"GB":return s*1024**3;case"TB":return s*1024**4;case"PB":return s*1024**5;default:return s}}const od=0x630000000000,Bs=I.forwardRef(({name:s,...a},t)=>{const{field:{onChange:n,onBlur:l,value:i="",ref:o},fieldState:{invalid:u,error:c}}=Cs({name:s}),[d,g]=m.useState(""),[f,b]=m.useState("MB");m.useEffect(()=>{if(i==null||i===""){g("");return}const{amount:k,unit:N}=ud({bytes:Math.min(i,od)});b(N||"MB"),g(Number.isNaN(k)?"":k)},[i,f]);const y={onChange:k=>{const N=parseInt(k.target.value);if(Number.isNaN(N))n(N);else{const F=Ot(parseInt(k.target.value),f);n(F)}},onBlur:l,value:d,invalid:u,errorMessage:c==null?void 0:c.message,inputRef:o},w=e.jsx(ks,{minWidth:"min-w-80",selectionMode:"single",selectedValue:f,disabled:!i,onSelectionChange:k=>{const N=Ot(d||0,k);n(N)},children:id.slice(0,5).map(k=>e.jsx(x,{value:k,children:k==="B"?"Bytes":k},k))});return e.jsx(Ye,{...us(y,a),type:"number",ref:t,endAppend:w})}),ud=xl(({bytes:s})=>{const a=cn(s);if(!a)return{amount:"",unit:"MB"};let t=parseInt(a.split(" ")[0]);return t=Math.round(t),{amount:t,unit:a.split(" ")[1]}});function cd(){const{trans:s}=L();return M({mutationFn:()=>dd(),onSuccess:()=>{R(s(h("CORS file updated")))},onError:a=>se(a)})}function dd(){return $.post("s3/cors/upload").then(s=>s.data)}function md(){return M({mutationFn:s=>hd(s),onError:s=>se(s)})}function hd(s){return $.post("settings/uploading/dropbox-refresh-token",s).then(a=>a.data)}function gd({isInvalid:s}){const{watch:a,setValue:t}=E(),n=a("server.storage_dropbox_app_key"),l=a("server.storage_dropbox_app_secret");return e.jsxs(m.Fragment,{children:[e.jsx(p,{invalid:s,className:"mb-20",name:"server.storage_dropbox_app_key",label:e.jsx(r,{message:"Dropbox application key"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-20",name:"server.storage_dropbox_app_secret",label:e.jsx(r,{message:"Dropbox application secret"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-20",name:"server.storage_dropbox_refresh_token",label:e.jsx(r,{message:"Dropbox refresh token"}),required:!0}),e.jsxs(_,{type:"modal",onClose:i=>{i&&t("server.storage_dropbox_refresh_token",i)},children:[e.jsx(j,{variant:"outline",color:"primary",size:"xs",disabled:!n||!l,children:e.jsx(r,{message:"Get dropbox refresh token"})}),e.jsx(xd,{appKey:n,appSecret:l})]})]})}function xd({appKey:s,appSecret:a}){const t=W(),{formId:n,close:l}=G(),i=md();return e.jsxs(Z,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Connected dropbox account"})}),e.jsx(ee,{children:e.jsxs(ce,{id:n,form:t,onSubmit:o=>{i.mutate({app_key:s,app_secret:a,access_code:o.accessCode},{onSuccess:u=>{l(u.refreshToken)}})},children:[e.jsxs("div",{className:"mb-20 pb-20 border-b",children:[e.jsx("div",{className:"text-muted text-sm mb-10",children:e.jsx(r,{message:"Click the 'get access code' button to get dropbox access code, then paste it into the field below."})}),e.jsx(j,{variant:"outline",color:"primary",size:"xs",elementType:"a",target:"_blank",href:`https://www.dropbox.com/oauth2/authorize?client_id=${s}&token_access_type=offline&response_type=code`,children:e.jsx(r,{message:"Get access code"})})]}),e.jsx(p,{name:"accessCode",label:e.jsx(r,{message:"Dropbox access code"}),required:!0})]})}),e.jsxs(ge,{children:[e.jsx(j,{onClick:()=>{l()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{variant:"flat",color:"primary",form:n,type:"submit",disabled:!s||!a||i.isPending,children:e.jsx(r,{message:"Connect"})})]})]})}function pd(){const{trans:s}=L();return e.jsxs(Ce,{title:e.jsx(r,{message:"Uploading"}),description:e.jsx(r,{message:"Configure size and type of files that users are able to upload. This will affect all uploads across the site."}),children:[e.jsx(jd,{}),e.jsx(bd,{}),e.jsx(vd,{}),e.jsx(je,{name:"static_delivery_group",children:a=>e.jsxs(Ka,{invalid:a,size:"sm",name:"server.static_file_delivery",orientation:"vertical",label:e.jsx(r,{message:"File delivery optimization"}),description:e.jsx(r,{message:"Both X-Sendfile and X-Accel need to be enabled on the server first. When enabled, it will reduce server memory and CPU usage when previewing or downloading files, especially for large files."}),children:[e.jsx(ls,{value:"",children:e.jsx(r,{message:"None"})}),e.jsx(ls,{value:"xsendfile",children:e.jsx(r,{message:"X-Sendfile (Apache)"})}),e.jsx(ls,{value:"xaccel",children:e.jsx(r,{message:"X-Accel (Nginx)"})})]})}),e.jsx(Bs,{className:"mb-30",name:"client.uploads.chunk_size",min:1,label:e.jsx(r,{message:"Chunk size"}),placeholder:"Infinity",description:e.jsx(r,{message:"Size (in bytes) for each file chunk. It should only be changed if there is a maximum upload size on your server or proxy (for example cloudflare). If chunk size is larger then limit on the server, uploads will fail."})}),e.jsx(fd,{}),e.jsx(Ve,{}),e.jsx(Bs,{min:1,name:"client.uploads.max_size",className:"mb-30",label:e.jsx(r,{message:"Maximum file size"}),description:e.jsx(r,{message:"Maximum size (in bytes) for a single file user can upload."})}),e.jsx(Bs,{min:1,name:"client.uploads.available_space",className:"mb-30",label:e.jsx(r,{message:"Available space"}),description:e.jsx(r,{message:"Disk space (in bytes) each user uploads are allowed to take up. This can be overridden per user."})}),e.jsx(Pa,{name:"client.uploads.allowed_extensions",className:"mb-30",label:e.jsx(r,{message:"Allowed extensions"}),placeholder:s(h("Add extension...")),description:e.jsx(r,{message:"List of allowed file types (jpg, mp3, pdf etc.). Leave empty to allow all file types."})}),e.jsx(Pa,{name:"client.uploads.blocked_extensions",label:e.jsx(r,{message:"Blocked extensions"}),placeholder:s(h("Add extension...")),description:e.jsx(r,{message:"Prevent uploading of these file types, even if they are allowed above."})})]})}function fd(){const{data:s}=ld();return e.jsx(Qe,{color:"warning",description:e.jsx(r,{message:"Maximum upload size on your server currently is set to <b>:size</b>",values:{size:s==null?void 0:s.maxSize,b:a=>e.jsx("b",{children:a})}})})}function jd(){const{watch:s,clearErrors:a}=E();return s("server.uploads_disk_driver")?e.jsxs(U,{className:"mb-30",selectionMode:"single",name:"server.uploads_disk_driver",label:e.jsx(r,{message:"User Uploads Storage Method"}),description:e.jsx(r,{message:"Where should user private file uploads be stored."}),onSelectionChange:()=>{a()},children:[e.jsx(x,{value:"local",children:e.jsx(r,{message:"Local Disk (Default)"})}),e.jsx(x,{value:"ftp",children:"FTP"}),e.jsx(x,{value:"digitalocean_s3",children:"DigitalOcean Spaces"}),e.jsx(x,{value:"backblaze_s3",children:"Backblaze"}),e.jsx(x,{value:"s3",children:"Amazon S3 (Or compatible service)"}),e.jsx(x,{value:"dropbox",children:"Dropbox"}),e.jsx(x,{value:"rackspace",children:"Rackspace"})]}):null}function bd(){const{watch:s,clearErrors:a}=E();return s("server.public_disk_driver")?e.jsxs(U,{label:e.jsx(r,{message:"Public Uploads Storage Method"}),selectionMode:"single",name:"server.public_disk_driver",description:e.jsx(r,{message:"Where should user public uploads (like avatars) be stored."}),onSelectionChange:()=>{a()},children:[e.jsx(x,{value:"local",children:e.jsx(r,{message:"Local Disk (Default)"})}),e.jsx(x,{value:"s3",children:"Amazon S3"}),e.jsx(x,{value:"ftp",children:"FTP"}),e.jsx(x,{value:"digitalocean_s3",children:"DigitalOcean Spaces"}),e.jsx(x,{value:"backblaze_s3",children:"Backblaze"})]}):null}function vd(){const{watch:s}=E(),a=[s("server.uploads_disk_driver"),s("server.public_disk_driver")];return a[0]==="local"&&a[1]==="local"?null:e.jsx(je,{separatorBottom:!1,name:"storage_group",children:t=>{if(a.includes("s3"))return e.jsx(yd,{isInvalid:t});if(a.includes("ftp"))return e.jsx(Cd,{isInvalid:t});if(a.includes("dropbox"))return e.jsx(gd,{isInvalid:t});if(a.includes("digitalocean_s3"))return e.jsx(wd,{isInvalid:t});if(a.includes("backblaze_s3"))return e.jsx(kd,{isInvalid:t})}})}function yd({isInvalid:s}){return e.jsxs(m.Fragment,{children:[e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_s3_key",label:e.jsx(r,{message:"Amazon S3 key"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_s3_secret",label:e.jsx(r,{message:"Amazon S3 secret"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_s3_region",label:e.jsx(r,{message:"Amazon S3 region"}),pattern:"[a-z1-9\\-]+",placeholder:"us-east-1"}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_s3_bucket",label:e.jsx(r,{message:"Amazon S3 bucket"}),required:!0}),e.jsx(p,{invalid:s,name:"server.storage_s3_endpoint",label:e.jsx(r,{message:"Amazon S3 endpoint"}),description:e.jsx(r,{message:"Only change endpoint if you are using another S3 compatible storage service."})}),e.jsx(ct,{invalid:s})]})}function wd({isInvalid:s}){return e.jsxs(m.Fragment,{children:[e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_digitalocean_key",label:e.jsx(r,{message:"DigitalOcean key"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_digitalocean_secret",label:e.jsx(r,{message:"DigitalOcean secret"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_digitalocean_region",label:e.jsx(r,{message:"DigitalOcean region"}),pattern:"[a-z0-9\\-]+",placeholder:"us-east-1",required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_digitalocean_bucket",label:e.jsx(r,{message:"DigitalOcean bucket"}),required:!0}),e.jsx(ct,{invalid:s})]})}function kd({isInvalid:s}){return e.jsxs(m.Fragment,{children:[e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_backblaze_key",label:e.jsx(r,{message:"Backblaze KeyID"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_backblaze_secret",label:e.jsx(r,{message:"Backblaze applicationKey"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_backblaze_region",label:e.jsx(r,{message:"Backblaze Region"}),pattern:"[a-z0-9\\-]+",placeholder:"us-west-002",required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_backblaze_bucket",label:e.jsx(r,{message:"Backblaze bucket name"}),required:!0}),e.jsx(ct,{invalid:s})]})}function ct({invalid:s}){var l,i;const a=cd(),{data:t}=Rs(),n=((l=t==null?void 0:t.server.uploads_disk_driver)==null?void 0:l.endsWith("s3"))||((i=t==null?void 0:t.server.public_disk_driver)==null?void 0:i.endsWith("s3"));return e.jsxs(m.Fragment,{children:[e.jsx(P,{className:"mt-30",invalid:s,name:"client.uploads.s3_direct_upload",description:e.jsxs("div",{children:[e.jsx("p",{children:e.jsx(r,{message:"Upload files directly from the browser to s3 without going through the server. It will save on server bandwidth and should result in faster upload times. This should be enabled, unless storage provider does not support multipart uploads."})}),e.jsx("p",{className:"mt-10",children:e.jsx(r,{message:"If s3 provider is not configured to allow uploads from browser, this can be done automatically via CORS button below, when valid credentials are saved."})})]}),children:e.jsx(r,{message:"Direct upload"})}),e.jsx(j,{variant:"flat",color:"primary",size:"xs",className:"mt-20",onClick:()=>{a.mutate()},disabled:!n||a.isPending,children:e.jsx(r,{message:"Configure CORS"})})]})}function Cd({isInvalid:s}){return e.jsxs(e.Fragment,{children:[e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_ftp_host",label:e.jsx(r,{message:"FTP hostname"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_ftp_username",label:e.jsx(r,{message:"FTP username"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_ftp_password",label:e.jsx(r,{message:"FTP password"}),type:"password",required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_ftp_root",label:e.jsx(r,{message:"FTP directory"}),placeholder:"/"}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.storage_ftp_port",label:e.jsx(r,{message:"FTP port"}),type:"number",min:0,placeholder:"21"}),e.jsx(P,{invalid:s,name:"server.storage_ftp_passive",className:"mb-30",children:e.jsx(r,{message:"Passive"})}),e.jsx(P,{invalid:s,name:"server.storage_ftp_ssl",children:e.jsx(r,{message:"SSL"})})]})}function Sd({isInvalid:s}){return e.jsxs(m.Fragment,{children:[e.jsx(p,{invalid:s,className:"mb-30",name:"server.mailgun_domain",label:e.jsx(r,{message:"Mailgun domain"}),description:e.jsx(r,{message:"Usually the domain of your site (site.com)"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.mailgun_secret",label:e.jsx(r,{message:"Mailgun API key"}),description:e.jsx(r,{message:"Should start with `key-`"}),required:!0}),e.jsx(p,{invalid:s,name:"server.mailgun_endpoint",label:e.jsx(r,{message:"Mailgun endpoint"}),description:e.jsx(r,{message:"Can be left empty, if your mailgun account is in the US region."}),placeholder:"api.eu.mailgun.net"})]})}function Dd({isInvalid:s}){return e.jsxs(e.Fragment,{children:[e.jsx(p,{invalid:s,className:"mb-30",name:"server.mail_host",label:e.jsx(r,{message:"SMTP host"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.mail_username",label:e.jsx(r,{message:"SMTP username"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",type:"password",name:"server.mail_password",label:e.jsx(r,{message:"SMTP password"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",type:"number",name:"server.mail_port",label:e.jsx(r,{message:"SMTP port"})}),e.jsxs(U,{selectionMode:"single",invalid:s,className:"mb-30",name:"server.mail_encryption",label:e.jsx(r,{message:"SMTP encryption"}),children:[e.jsx(x,{value:"",children:e.jsx(r,{message:"None"})}),e.jsx(x,{value:"tls",children:e.jsx(r,{message:"TLS"})})]})]})}function Nd({isInvalid:s}){return e.jsxs(m.Fragment,{children:[e.jsx(p,{invalid:s,className:"mb-30",name:"server.ses_key",label:e.jsx(r,{message:"SES key"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.ses_secret",label:e.jsx(r,{message:"SES secret"}),required:!0}),e.jsx(p,{invalid:s,name:"server.ses_region",label:e.jsx(r,{message:"SES region"}),placeholder:"us-east-1",required:!0})]})}function Ed({isInvalid:s}){return e.jsx(p,{invalid:s,name:"server.postmark_token",label:e.jsx(r,{message:"Postmark token"}),required:!0})}const Ht=B([e.jsx("path",{fill:"#4caf50",d:"M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z"},"0"),e.jsx("path",{fill:"#1e88e5",d:"M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z"},"1"),e.jsx("polygon",{fill:"#e53935",points:"35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17"},"2"),e.jsx("path",{fill:"#c62828",d:"M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z"},"3"),e.jsx("path",{fill:"#fbc02d",d:"M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z"},"4")],"Gmail","0 0 48 48");function Fd(){const{watch:s,setValue:a}=E(),{connectSocial:t}=pl(),n=s("server.connectedGmailAccount"),l=async()=>{const u=await t("secure/settings/mail/gmail/connect");if((u==null?void 0:u.status)==="SUCCESS"){const c=u.callbackData.profile.email;a("server.connectedGmailAccount",c),R(h("Connected gmail account: :email",{values:{email:c}}))}},i=e.jsx(j,{variant:"outline",color:"primary",startIcon:e.jsx(Ht,{}),onClick:()=>{l()},children:e.jsx(r,{message:"Connect gmail account"})}),o=e.jsxs("div",{className:"flex items-center gap-14 rounded border bg-alt px-14 py-6 text-sm",children:[e.jsx(Ht,{size:"lg"}),n,e.jsx(j,{variant:"text",color:"primary",className:"ml-auto",onClick:()=>{l()},children:e.jsx(r,{message:"Reconnect"})})]});return e.jsxs(m.Fragment,{children:[e.jsx("div",{className:"mb-6 text-sm",children:e.jsx(r,{message:"Gmail account"})}),n?o:i]})}function $d(){const{watch:s,clearErrors:a}=E(),t=s("server.mail_driver"),n=[];return t==="mailgun"&&n.push(Sd),t==="smtp"&&n.push(Dd),t==="ses"&&n.push(Nd),t==="postmark"&&n.push(Ed),t==="gmailApi"&&n.push(Fd),e.jsx(je,{separatorTop:!1,separatorBottom:!1,name:"mail_group",children:l=>e.jsxs(m.Fragment,{children:[e.jsxs(U,{onSelectionChange:()=>{a()},invalid:l,selectionMode:"single",name:"server.mail_driver",label:e.jsx(r,{message:"Outgoing mail method"}),description:e.jsxs("div",{children:[e.jsx(r,{message:"Which method should be used for sending outgoing application emails (like registration confirmation)"}),e.jsx(ga,{className:"mt-8",link:"https://support.vebto.com/help-center/articles/42/44/155/incoming-emails"})]}),children:[e.jsx(x,{value:"mailgun",children:"Mailgun"}),e.jsx(x,{value:"gmailApi",children:"Gmail Api"}),e.jsx(x,{value:"smtp",children:"SMTP"}),e.jsx(x,{value:"postmark",children:"Postmark"}),e.jsx(x,{value:"ses",children:"Ses (Amazon Simple Email Service)"}),e.jsx(x,{value:"sendmail",children:"SendMail"}),e.jsx(x,{value:"log",children:"Log (Email will be saved to error log)"})]}),n.length?e.jsx("div",{className:"mt-30",children:n.map((i,o)=>e.jsx(i,{isInvalid:l},o))}):null]})})}function Ad(){return e.jsxs(Ce,{title:e.jsx(r,{message:"Outgoing email settings"}),description:e.jsx(r,{message:"Change outgoing email handlers, email credentials and other related settings."}),children:[e.jsx(p,{id:"outgoing-emails",className:"mb-30",type:"email",name:"server.mail_from_address",label:e.jsx(r,{message:"From address"}),description:e.jsx(r,{message:"All outgoing application emails will be sent from this email address."}),required:!0}),e.jsx(Bd,{}),e.jsx(p,{className:"mb-30",name:"server.mail_from_name",label:e.jsx(r,{message:"From name"}),description:e.jsx(r,{message:"All outgoing application emails will be sent using this name."}),required:!0}),e.jsx(Qe,{color:"warning",description:e.jsx(r,{message:"Your selected mail method must be authorized to send emails using this address and name."})}),e.jsx(Ve,{}),e.jsx($d,{})]})}function Bd(){const{base_url:s}=we(),a=`${s}/contact`,t=e.jsx(ia,{href:a,children:a});return e.jsx(p,{className:"mb-30",type:"email",name:"client.mail.contact_page_address",label:e.jsx(r,{message:"Contact page address"}),description:e.jsx(r,{values:{contactPageUrl:t},message:"Where emails from :contactPageUrl page should be sent to."})})}function _d(){return $.post("cache/flush").then(s=>s.data)}function zd(){return M({mutationFn:()=>_d(),onSuccess:()=>{R(h("Cache cleared"))},onError:s=>se(s)})}function Id(){const s=zd();return e.jsxs(Ce,{title:e.jsx(r,{message:"Cache settings"}),description:e.jsx(r,{message:"Select cache provider and manually clear cache."}),children:[e.jsx(Td,{}),e.jsx(j,{type:"button",variant:"outline",size:"xs",color:"primary",disabled:s.isPending,onClick:()=>{s.mutate()},children:e.jsx(r,{message:"Clear cache"})}),e.jsx(Qe,{color:"warning",className:"mt-30",description:e.jsx(r,{message:'"File" is the best option for most cases and should not be changed, unless you are familiar with another cache method and have it set up on the server already.'})})]})}function Td(){const{watch:s,clearErrors:a}=E(),t=s("server.cache_driver");let n=null;return t==="memcached"&&(n=Pd),e.jsx(je,{separatorTop:!1,name:"cache_group",children:l=>e.jsxs(e.Fragment,{children:[e.jsxs(U,{invalid:l,onSelectionChange:()=>{a()},selectionMode:"single",name:"server.cache_driver",label:e.jsx(r,{message:"Cache method"}),description:e.jsx(r,{message:"Which method should be used for storing and retrieving cached items."}),children:[e.jsx(x,{value:"file",children:e.jsx(r,{message:"File (Default)"})}),e.jsx(x,{value:"array",children:e.jsx(r,{message:"None"})}),e.jsx(x,{value:"apc",children:"APC"}),e.jsx(x,{value:"memcached",children:"Memcached"}),e.jsx(x,{value:"redis",children:"Redis"})]}),n&&e.jsx("div",{className:"mt-30",children:e.jsx(n,{isInvalid:l})})]})})}function Pd({isInvalid:s}){return e.jsxs(e.Fragment,{children:[e.jsx(p,{invalid:s,className:"mb-30",name:"server.memcached_host",label:e.jsx(r,{message:"Memcached host"}),required:!0}),e.jsx(p,{invalid:s,type:"number",name:"server.memcached_port",label:e.jsx(r,{message:"Memcached port"}),required:!0})]})}function Ld(){return e.jsxs(Ce,{title:e.jsx(r,{message:"Error logging"}),description:e.jsx(r,{message:"Configure site error logging and related 3rd party integrations."}),children:[e.jsx(Md,{}),e.jsx(Qe,{className:"mt-30",color:"positive",description:e.jsx(r,{values:{a:s=>e.jsx(ia,{href:"https://sentry.io",children:s})},message:"<a>Sentry</a> integration provides real-time error tracking and helps identify and fix issues when site is in production."})})]})}function Md(){const{clearErrors:s}=E();return e.jsx(je,{separatorTop:!1,separatorBottom:!1,name:"logging_group",children:a=>e.jsx(p,{onChange:()=>{s()},invalid:a,name:"server.sentry_dsn",type:"url",minLength:30,label:e.jsx(r,{message:"Sentry DSN"})})})}function Rd(){return e.jsxs(Ce,{title:e.jsx(r,{message:"Queue"}),description:e.jsx(r,{message:"Select active queue method and enter related 3rd party API keys."}),children:[e.jsx(Qe,{color:"positive",className:"mb-30",description:e.jsx(r,{message:"Queues allow to defer time consuming tasks, such as sending an email, until a later time. Deferring these tasks can speed up web requests to the application."})}),e.jsx(Qe,{color:"warning",className:"mb-30",description:e.jsx(r,{message:"All methods except sync require additional setup, which should be performed before changing the queue method. Consult documentation for more information."})}),e.jsx(Vd,{})]})}function Vd(){const{watch:s,clearErrors:a}=E(),t=s("server.queue_driver");let n=null;return t==="sqs"&&(n=Od),e.jsx(je,{separatorTop:!1,separatorBottom:!1,name:"queue_group",children:l=>e.jsxs(e.Fragment,{children:[e.jsxs(U,{invalid:l,onSelectionChange:()=>{a()},selectionMode:"single",name:"server.queue_driver",label:e.jsx(r,{message:"Queue method"}),required:!0,children:[e.jsx(x,{value:"sync",children:e.jsx(r,{message:"Sync (Default)"})}),e.jsx(x,{value:"beanstalkd",children:"Beanstalkd"}),e.jsx(x,{value:"database",children:e.jsx(r,{message:"Database"})}),e.jsx(x,{value:"sqs",children:e.jsx(r,{message:"SQS (Amazon simple queue service)"})}),e.jsx(x,{value:"redis",children:"Redis"})]}),n&&e.jsx("div",{className:"mt-30",children:e.jsx(n,{isInvalid:l})})]})})}function Od({isInvalid:s}){return e.jsxs(e.Fragment,{children:[e.jsx(p,{invalid:s,className:"mb-30",name:"server.sqs_queue_key",label:e.jsx(r,{message:"SQS queue key"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.sqs_queue_secret",label:e.jsx(r,{message:"SQS queue secret"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.sqs_queue_prefix",label:e.jsx(r,{message:"SQS queue prefix"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.sqs_queue_name",label:e.jsx(r,{message:"SQS queue name"}),required:!0}),e.jsx(p,{invalid:s,className:"mb-30",name:"server.sqs_queue_region",label:e.jsx(r,{message:"SQS queue region"}),required:!0})]})}function Hd(){const{settings:s}=m.useContext(ms);return e.jsxs(Ce,{title:e.jsx(r,{message:"Recaptcha"}),description:e.jsx(r,{message:"Configure google recaptcha integration and credentials."}),children:[(s==null?void 0:s.showRecaptchaLinkSwitch)&&e.jsx(P,{className:"mb-30",name:"client.recaptcha.enable.link_creation",description:e.jsx(r,{message:"Enable recaptcha integration when creating links from homepage or user dashboard."}),children:e.jsx(r,{message:"Link creation"})}),e.jsx(P,{className:"mb-30",name:"client.recaptcha.enable.contact",description:e.jsx(r,{message:'Enable recaptcha integration for "contact us" page.'}),children:e.jsx(r,{message:"Contact page"})}),e.jsx(P,{className:"mb-30",name:"client.recaptcha.enable.register",description:e.jsx(r,{message:"Enable recaptcha integration for registration page."}),children:e.jsx(r,{message:"Registration page"})}),e.jsx(qd,{})]})}function qd(){const{clearErrors:s}=E();return e.jsx(je,{separatorTop:!1,separatorBottom:!1,name:"recaptcha_group",children:a=>e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"mb-30",onChange:()=>{s()},invalid:a,name:"client.recaptcha.site_key",label:e.jsx(r,{message:"Recaptcha v3 site key"})}),e.jsx(p,{onChange:()=>{s()},invalid:a,name:"client.recaptcha.secret_key",label:e.jsx(r,{message:"Recaptcha v3 secret key"})})]})})}const Ud=I.forwardRef((s,a)=>{const t=en(a),{fieldProps:n,inputProps:l}=fl({...s,focusRef:t}),i=Oa(s);return e.jsx(jl,{ref:a,fieldClassNames:i,...n,children:e.jsx("input",{type:"file",ref:t,...l,className:v(i.input,"py-8","file:bg-primary file:text-on-primary file:border-none file:rounded file:text-sm file:font-semibold file:px-10 file:h-24 file:mr-10")})})});function Kd({name:s,...a}){const{field:{onChange:t,onBlur:n,ref:l},fieldState:{invalid:i,error:o}}=Cs({name:s}),[u,c]=I.useState(""),d={onChange:g=>{var f;t((f=g.target.files)==null?void 0:f[0]),c(g.target.value)},onBlur:n,value:u,invalid:i,errorMessage:o==null?void 0:o.message};return e.jsx(Ud,{ref:l,...us(d,a)})}function Wd(){return e.jsx(Ce,{title:e.jsx(r,{message:"Analytics"}),description:e.jsx(r,{message:"Configure google analytics integration and credentials."}),children:e.jsx(Gd,{})})}function Gd(){const{clearErrors:s}=E();return e.jsx(je,{separatorTop:!1,separatorBottom:!1,name:"analytics_group",children:a=>e.jsxs(m.Fragment,{children:[e.jsx(Kd,{className:"mb-30",onChange:()=>{s()},invalid:a,name:"files.certificate",accept:".json",label:e.jsx(r,{message:"Google service account key file (.json)"})}),e.jsx(p,{className:"mb-30",onChange:()=>{s()},invalid:a,name:"server.analytics_property_id",type:"number",label:e.jsx(r,{message:"Google analytics property ID"})}),e.jsx(p,{className:"mb-30",onChange:()=>{s()},invalid:a,name:"client.analytics.tracking_code",placeholder:"G-******",min:"1",max:"20",description:e.jsx(r,{message:"Google analytics measurement ID only, not the whole javascript snippet."}),label:e.jsx(r,{message:"Google tag manager measurement ID"})}),e.jsx(p,{name:"client.analytics.gchart_api_key",label:e.jsx(r,{message:"Google maps javascript API key"}),description:e.jsx(r,{message:"Only required in order to show world geochart on integrated analytics pages."})})]})})}function Qd(s){const a=fe();return M({mutationFn:t=>Yd(t),onSuccess:(t,n)=>{R(h("User updated")),T.invalidateQueries({queryKey:["users"]}),a("/admin/users")},onError:t=>ke(t,s)})}function Yd({id:s,...a}){return a.roles&&(a.roles=a.roles.map(t=>t.id)),$.put(`users/${s}`,a).then(t=>t.data)}function br(){const[s,a]=m.useState(!1),t=m.useRef(),n=m.useCallback(l=>{var i;if(l){const o=new IntersectionObserver(([u])=>a(u.intersectionRatio<1),{threshold:[1]});t.current=o,o.observe(l)}else t.current&&((i=t.current)==null||i.disconnect())},[]);return{isSticky:s,sentinelRef:n}}function Os({onSubmit:s,form:a,title:t,subTitle:n,children:l,actions:i,backButton:o,isLoading:u=!1,disableSaveWhenNotDirty:c=!1,wrapInContainer:d=!0}){const{isSticky:g,sentinelRef:f}=br(),b=c?Object.keys(a.formState.dirtyFields).length:!0;return e.jsxs(ce,{onSubmit:s,onBeforeSubmit:()=>a.clearErrors(),form:a,children:[e.jsx("div",{ref:f}),e.jsx("div",{className:v("sticky top-0 z-10 my-12 transition-shadow md:my-24",g&&"bg shadow"),children:e.jsxs("div",{className:v("flex items-center gap-24 py-14 md:items-start",d&&"container mx-auto px-24"),children:[o,e.jsxs("div",{className:"overflow-hidden overflow-ellipsis md:mr-64",children:[e.jsx("h1",{className:"overflow-hidden overflow-ellipsis whitespace-nowrap text-xl md:text-3xl",children:t}),n&&e.jsx("div",{className:"mt-4",children:n})]}),e.jsx("div",{className:"mr-auto"}),i,e.jsx(j,{variant:"flat",color:"primary",type:"submit",disabled:u||!b,children:e.jsx(r,{message:"Save"})})]})}),e.jsx("div",{className:d?"container mx-auto px-24 pb-24":void 0,children:e.jsx("div",{className:"rounded",children:l})})]})}function vr({onSubmit:s,form:a,title:t,subTitle:n,isLoading:l,avatarManager:i,resendEmailButton:o,children:u}){const{require_email_confirmation:c}=we(),{data:d}=Fe(["roles","permissions"]);return e.jsxs(Os,{onSubmit:s,form:a,title:t,subTitle:n,isLoading:l,children:[e.jsxs("div",{className:"mb-40 flex items-start gap-40 md:gap-80",children:[i,e.jsxs("div",{className:"flex-auto",children:[u,e.jsx(p,{className:"mb-30",name:"first_name",label:e.jsx(r,{message:"First name"})}),e.jsx(p,{name:"last_name",label:e.jsx(r,{message:"Last name"})})]})]}),e.jsxs("div",{className:"mb-30 border-b border-t pb-30 pt-30",children:[e.jsx(P,{className:v(o&&"mb-30"),disabled:!c,name:"email_verified_at",description:e.jsx(r,{message:"Whether email address has been confirmed. User will not be able to login until address is confirmed, unless confirmation is disabled from settings page."}),children:e.jsx(r,{message:"Email confirmed"})}),o]}),e.jsx(Bs,{className:"mb-30",name:"available_space",label:e.jsx(r,{message:"Allowed storage space"}),description:e.jsx(r,{values:{a:g=>e.jsx(q,{className:Ua,target:"_blank",to:"/admin/settings/uploading",children:g})},message:"Total storage space all user uploads are allowed to take up. If left empty, this value will be inherited from any roles or subscriptions user has, or from 'Available space' setting in <a>Uploading</a> settings page."})}),e.jsx(ua,{className:"mb-30",name:"roles",label:e.jsx(r,{message:"Roles"}),suggestions:d==null?void 0:d.roles,children:g=>e.jsx(x,{value:g.id,children:g.name},g.id)}),e.jsxs("div",{className:"mt-30 border-t pt-30",children:[e.jsx("div",{className:"mb-10 text-sm",children:e.jsx(r,{message:"Permissions"})}),e.jsx(nt,{name:"permissions"})]})]})}const Jd=B([e.jsx("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM19 14.9 14.9 19H9.1L5 14.9V9.1L9.1 5h5.8L19 9.1v5.8z"},"0"),e.jsx("circle",{cx:"12",cy:"16",r:"1"},"1"),e.jsx("path",{d:"M11 7h2v7h-2z"},"2")],"ReportOutlined");function Zd(){var d,g,f;const s=W(),{require_email_confirmation:a}=we(),{userId:t}=de(),n=Qd(s),l=bl(),{data:i,isLoading:o}=vl(t,{with:["subscriptions","roles","permissions","bans"]}),u=(g=(d=i==null?void 0:i.user.bans)==null?void 0:d[0])==null?void 0:g.comment;if(m.useEffect(()=>{i!=null&&i.user&&!s.getValues().id&&s.reset({first_name:i.user.first_name,last_name:i.user.last_name,roles:i.user.roles,permissions:i.user.permissions,id:i.user.id,email_verified_at:!!i.user.email_verified_at,available_space:i.user.available_space,avatar:i.user.avatar})},[i==null?void 0:i.user,s]),o)return e.jsx(Je,{});const c=e.jsx(j,{size:"xs",variant:"outline",color:"primary",disabled:!a||l.isPending||((f=i==null?void 0:i.user)==null?void 0:f.email_verified_at)!=null,onClick:()=>{l.mutate({email:i.user.email})},children:e.jsx(r,{message:"Resend email"})});return e.jsx(vr,{onSubmit:b=>{n.mutate(b)},form:s,title:e.jsx(r,{values:{email:i==null?void 0:i.user.email},message:"Edit “:email“"}),subTitle:u&&e.jsxs("div",{className:"flex items-center gap-4 text-sm text-danger",children:[e.jsx(Jd,{}),e.jsx("div",{children:e.jsx(r,{message:"Suspended: :reason",values:{reason:u}})})]}),isLoading:n.isPending,avatarManager:e.jsx(Xd,{user:i.user,onChange:()=>{T.invalidateQueries({queryKey:["users"]})}}),resendEmailButton:c,children:e.jsx(p,{className:"mb-30",name:"password",type:"password",label:e.jsx(r,{message:"New password"})})})}function Xd({user:s,onChange:a}){const t=yl({user:s}),n=wl({user:s});return e.jsx(Ss,{children:e.jsx(cs,{name:"avatar",diskPrefix:"avatars",variant:"avatar",stretchPreview:!0,label:e.jsx(r,{message:"Profile image"}),previewSize:"w-90 h-90",showRemoveButton:!0,onChange:l=>{l?t.mutate({url:l}):n.mutate(),a()}})})}function em(s){const a=fe();return M({mutationFn:t=>sm(t),onSuccess:()=>{R(h("User created")),T.invalidateQueries({queryKey:Q("users")}),a("/admin/users")},onError:t=>ke(t,s)})}function sm(s){return s.roles&&(s.roles=s.roles.map(a=>a.id)),$.post("users",s).then(a=>a.data)}function am(){const s=W(),a=em(s),t=e.jsx(Ss,{children:e.jsx(cs,{name:"avatar",diskPrefix:"avatars",variant:"avatar",stretchPreview:!0,label:e.jsx(r,{message:"Profile image"}),previewSize:"w-90 h-90",showRemoveButton:!0})});return e.jsxs(vr,{onSubmit:n=>{a.mutate(n)},form:s,title:e.jsx(r,{message:"Add new user"}),isLoading:a.isPending,avatarManager:t,children:[e.jsx(p,{className:"mb-30",name:"email",type:"email",label:e.jsx(r,{message:"Email"})}),e.jsx(p,{className:"mb-30",name:"password",type:"password",label:e.jsx(r,{message:"Password"})})]})}const tm=B(e.jsx("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7 1.62-4.33L19.12 17h-3.24z"}),"TranslateOutlined"),dt=s=>{const a=["getLocaleWithLines"];return s!=null&&a.push(s),a};function nm(s){return Ie({queryKey:dt(s),queryFn:()=>rm(s),staleTime:1/0})}function rm(s){return $.get(`localizations/${s}`).then(a=>a.data)}function lm({id:s,...a}){return $.put(`localizations/${s}`,a).then(t=>t.data)}function yr(s){return M({mutationFn:a=>lm(a),onSuccess:()=>{R(h("Localization updated")),T.invalidateQueries({queryKey:Q("localizations")}),T.invalidateQueries({queryKey:dt()})},onError:a=>s?ke(a,s):se(a)})}function im({localization:s}){const{trans:a}=L(),{formId:t,close:n}=G(),l=W({defaultValues:{id:s.id,name:s.name,language:s.language}}),{data:i}=Fe(["languages"]),o=(i==null?void 0:i.languages)||[],u=yr(l);return e.jsxs(Z,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Update localization"})}),e.jsx(ee,{children:e.jsxs(ce,{form:l,id:t,onSubmit:c=>{u.mutate(c,{onSuccess:n})},children:[e.jsx(p,{name:"name",label:e.jsx(r,{message:"Name"}),className:"mb-30",required:!0}),e.jsx(U,{required:!0,name:"language",label:e.jsx(r,{message:"Language"}),selectionMode:"single",showSearchField:!0,searchPlaceholder:a(h("Search languages")),children:o.map(c=>e.jsx(x,{value:c.code,children:c.name},c.code))})]})}),e.jsxs(ge,{children:[e.jsx(j,{onClick:n,children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{variant:"flat",color:"primary",type:"submit",form:t,disabled:u.isPending,children:e.jsx(r,{message:"Save"})})]})]})}function om(s){return $.post("localizations",s).then(a=>a.data)}function um(s){const a=on();return M({mutationFn:t=>om(t),onSuccess:()=>{R(h("Localization created")),a.invalidateQueries({queryKey:Q("localizations")})},onError:t=>ke(t,s)})}function cm(){const{trans:s}=L(),{formId:a,close:t}=G(),n=W({defaultValues:{language:"en"}}),{data:l}=Fe(["languages"]),i=(l==null?void 0:l.languages)||[],o=um(n);return e.jsxs(Z,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Create localization"})}),e.jsx(ee,{children:e.jsxs(ce,{form:n,id:a,onSubmit:u=>{o.mutate(u,{onSuccess:t})},children:[e.jsx(p,{autoFocus:!0,name:"name",label:e.jsx(r,{message:"Name"}),className:"mb-30",required:!0}),e.jsx(U,{required:!0,name:"language",label:e.jsx(r,{message:"Language"}),selectionMode:"single",showSearchField:!0,searchPlaceholder:s(h("Search languages")),children:i.map(u=>e.jsx(x,{value:u.code,children:u.name},u.code))})]})}),e.jsxs(ge,{children:[e.jsx(j,{onClick:t,children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{variant:"flat",color:"primary",type:"submit",form:a,disabled:o.isPending,children:e.jsx(r,{message:"Save"})})]})]})}const dm=""+new URL("around-the-world-df9b11c5.svg",import.meta.url).href;function wr(){return M({mutationFn:s=>mm(s),onSuccess:async()=>{await T.invalidateQueries({queryKey:Q("localizations")}),await T.invalidateQueries({queryKey:dt()}),R(h("Translation file uploaded"))},onError:s=>se(s)})}function mm({localeId:s,file:a}){const t=new FormData;return t.append("file",a.native),$.post(`localizations/${s}/upload`,t).then(n=>n.data)}const hm=[{key:"name",allowsSorting:!0,sortingKey:"name",visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Name"}),body:s=>s.name},{key:"language",allowsSorting:!0,sortingKey:"language",header:()=>e.jsx(r,{message:"Language code"}),body:s=>s.language},{key:"updatedAt",allowsSorting:!0,width:"w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(ve,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-84 flex-shrink-0",visibleInMode:"all",body:s=>e.jsxs("div",{className:"text-muted",children:[e.jsx(J,{label:e.jsx(r,{message:"Translate"}),children:e.jsx(C,{size:"md",elementType:q,to:`${s.id}/translate`,children:e.jsx(tm,{})})}),e.jsx(Ss,{children:e.jsx(pm,{locale:s})})]})}];function gm(){return e.jsx(Be,{endpoint:"localizations",title:e.jsx(r,{message:"Localizations"}),columns:hm,actions:e.jsx(xm,{}),selectedActions:e.jsx(gs,{}),emptyStateMessage:e.jsx(ye,{image:dm,title:e.jsx(r,{message:"No localizations have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching localizations"})})})}function xm(){return e.jsx(m.Fragment,{children:e.jsxs(_,{type:"modal",children:[e.jsx(Pe,{children:e.jsx(r,{message:"Add new localization"})}),e.jsx(cm,{})]})})}function pm({locale:s}){const a=wr();return e.jsxs(Ze,{children:[e.jsx(C,{disabled:a.isPending,children:e.jsx(da,{})}),e.jsxs(Xe,{children:[e.jsx(x,{value:"translate",elementType:q,to:`${s.id}/translate`,children:e.jsx(r,{message:"Translate"})}),e.jsx(x,{value:"rename",onSelected:()=>Wa(im,{localization:s}),children:e.jsx(r,{message:"Rename"})}),e.jsx(x,{value:"download",onSelected:()=>oa(`api/v1/localizations/${s.id}/download`),children:e.jsx(r,{message:"Download"})}),e.jsx(x,{value:"upload",onSelected:async()=>{const t=await dn({types:[Ga.json]});t.length==1&&a.mutate({localeId:s.id,file:t[0]})},children:e.jsx(r,{message:"Upload"})})]})]})}function fm(){const{formId:s,close:a}=G(),t=W();return e.jsxs(Z,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Add translation"})}),e.jsx(ee,{children:e.jsxs(ce,{form:t,id:s,onSubmit:n=>{a(n)},children:[e.jsx(Qe,{className:"mb-30",title:e.jsx(r,{message:"Add a new translation, if it does not exist already."}),description:e.jsx(r,{message:"This should only need to be done for things like custom menu items."})}),e.jsx(p,{inputElementType:"textarea",rows:2,autoFocus:!0,name:"key",label:e.jsx(r,{message:"Translation key"}),className:"mb-30",required:!0}),e.jsx(p,{inputElementType:"textarea",rows:2,name:"value",label:e.jsx(r,{message:"Translation value"}),required:!0})]})}),e.jsxs(ge,{children:[e.jsx(j,{onClick:a,children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{variant:"flat",color:"primary",type:"submit",form:s,children:e.jsx(r,{message:"Add"})})]})]})}function jm(){const{localeId:s}=de(),{data:a,isLoading:t}=nm(s),n=a==null?void 0:a.localization;return t||!n?e.jsx(Je,{}):e.jsx(bm,{localization:n})}function bm({localization:s}){const[a,t]=m.useState(s.lines||{}),n=fe(),l=yr(),[i,o]=m.useState("");return e.jsxs("form",{className:"flex h-full flex-col p-14 md:p-24",onSubmit:u=>{u.preventDefault(),l.mutate({id:s.id,lines:a},{onSuccess:()=>{n("/admin/localizations")}})},children:[e.jsx(vm,{localization:s,setLines:t,lines:a,searchQuery:i,setSearchQuery:o,isLoading:l.isPending}),e.jsx(ym,{lines:a,setLines:t,searchQuery:i})]})}function vm({localization:s,searchQuery:a,setSearchQuery:t,isLoading:n,lines:l,setLines:i}){const o=fe(),u=Te(),{trans:c}=L();return e.jsxs("div",{className:"flex-shrink-0",children:[e.jsxs(ji,{size:"lg",className:"mb-16",children:[e.jsx(vt,{onSelected:()=>{o("/admin/localizations")},children:e.jsx(r,{message:"Localizations"})}),e.jsx(vt,{children:e.jsx(r,{message:":locale translations",values:{locale:s.name}})})]}),e.jsxs("div",{className:"mb-24 flex items-center gap-32 md:gap-12",children:[e.jsx("div",{className:"max-w-440 flex-auto",children:e.jsx(Ye,{value:a,onChange:d=>t(d.target.value),startAdornment:e.jsx(ea,{}),placeholder:c({message:"Type to search..."})})}),e.jsxs(_,{type:"modal",onClose:d=>{if(d){const g={...l};g[d.key]=d.value,i(g)}},children:[!u&&e.jsx(j,{className:"ml-auto",variant:"outline",color:"primary",startIcon:e.jsx(Ne,{}),children:e.jsx(r,{message:"Add new"})}),e.jsx(fm,{})]}),e.jsx(wm,{locale:s}),e.jsx(j,{variant:"flat",color:"primary",type:"submit",disabled:n,children:u?e.jsx(r,{message:"Save"}):e.jsx(r,{message:"Save translations"})})]})]})}function ym({searchQuery:s,lines:a,setLines:t}){const n=m.useMemo(()=>Object.entries(a).filter(([o,u])=>{const c=s==null?void 0:s.toLowerCase();return!c||(o==null?void 0:o.toLowerCase().includes(c))||(u==null?void 0:u.toLowerCase().includes(c))}),[a,s]),l=m.useRef(null),i=ui({count:n.length,getScrollElement:()=>l.current,estimateSize:()=>123});return e.jsx("div",{className:"flex-auto overflow-y-auto",ref:l,children:e.jsx("div",{className:"relative w-full",style:{height:`${i.getTotalSize()}px`},children:i.getVirtualItems().map(o=>{const[u,c]=n[o.index];return e.jsx("div",{className:"absolute left-0 top-0 w-full",style:{height:`${o.size}px`,transform:`translateY(${o.start}px)`},children:e.jsxs("div",{className:"mb-10 rounded border md:mr-10",children:[e.jsxs("div",{className:"flex items-center justify-between gap-24 border-b px-10 py-2",children:[e.jsx("label",{className:"flex-auto text-xs font-semibold",htmlFor:u,children:u}),e.jsx(C,{size:"xs",className:"text-muted",onClick:()=>{const d={...a};delete d[u],t(d)},children:e.jsx(Oe,{})})]}),e.jsx("div",{children:e.jsx("textarea",{id:u,name:u,defaultValue:c,className:"block w-full resize-none rounded bg-inherit p-10 text-sm outline-none focus-visible:ring-2",rows:2,onChange:d=>{const g={...a};g[u]=d.target.value,t(g)}})})]})},u)})})})}function wm({locale:s}){const a=wr();return e.jsxs(Ze,{children:[e.jsx(C,{variant:"outline",size:"sm",color:"primary",disabled:a.isPending,children:e.jsx(da,{})}),e.jsxs(Xe,{children:[e.jsx(x,{value:"download",onSelected:()=>oa(`api/v1/localizations/${s.id}/download`),children:e.jsx(r,{message:"Download"})}),e.jsx(x,{value:"upload",onSelected:async()=>{const t=await dn({types:[Ga.json]});t.length==1&&a.mutate({localeId:s.id,file:t[0]})},children:e.jsx(r,{message:"Upload"})})]})]})}function km(s){const{close:a}=G(),{image:t,images:n}=s,[l,i]=Ts(s.activeIndex,s.defaultActiveIndex,s.onActiveIndexChange),o=t||(n==null?void 0:n[l]);return e.jsx(Z,{size:"fullscreenTakeover",background:"bg-black/80",children:e.jsxs(ee,{padding:"p-0",className:"h-full w-full",children:[e.jsx(C,{size:"lg",color:"paper",className:"absolute right-0 top-0 z-20 text-white",onClick:()=>{a()},children:e.jsx(Oe,{})}),e.jsxs("div",{className:"relative flex h-full w-full items-center justify-center p-40",children:[n!=null&&n.length?e.jsx(C,{size:"lg",color:"white",variant:"flat",className:"absolute bottom-0 left-20 top-0 my-auto",disabled:l<1,onClick:()=>{i(l-1)},children:e.jsx(Xs,{})}):null,e.jsx("img",{src:o,alt:"",className:"max-h-full w-auto object-contain shadow"}),n!=null&&n.length?e.jsx(C,{size:"lg",color:"white",variant:"flat",className:"absolute bottom-0 right-20 top-0 my-auto",disabled:l+1===(n==null?void 0:n.length),onClick:()=>{i(l+1)},children:e.jsx(Ms,{})}):null]})]})})}function Cm(){var a;const s=Rs();return e.jsxs("div",{className:"container mx-auto p-12 md:p-24",children:[e.jsx(sa,{children:e.jsx(r,{message:"Ads"})}),e.jsx("h1",{className:"mb-20 text-2xl font-light md:mb-40 md:text-3xl",children:e.jsx(r,{message:"Predefined Ad slots"})}),s.isLoading?e.jsx(Ls,{isIndeterminate:!0}):e.jsx(Sm,{defaultValues:((a=s.data)==null?void 0:a.client.ads)||{}})]})}function Sm({defaultValues:s}){const{admin:{ads:a}}=m.useContext(ms),t=W({defaultValues:{client:{ads:s}}}),n=fr(t);return e.jsxs(ce,{form:t,onSubmit:l=>{n.mutate(l)},children:[a.map(l=>e.jsx(Dm,{adConfig:l},l.slot)),e.jsx(P,{name:"client.ads.disable",className:"mb-30",description:e.jsx(r,{message:"Disable all add related functionality across the site."}),children:e.jsx(r,{message:"Disable ads"})}),e.jsx(j,{type:"submit",variant:"flat",color:"primary",disabled:n.isPending,children:e.jsx(r,{message:"Save"})})]})}function Dm({adConfig:s}){return e.jsxs("div",{className:"flex items-center gap-24",children:[e.jsx(p,{className:"mb-30 flex-auto",name:`client.${s.slot}`,inputElementType:"textarea",rows:8,label:e.jsx(r,{...s.description})}),e.jsxs(_,{type:"modal",children:[e.jsx("button",{type:"button",className:"cursor-zoom-in overflow-hidden rounded outline-none transition hover:scale-105 focus-visible:ring max-md:hidden",children:e.jsx("img",{src:s.image,className:"h-[186px] w-auto border",alt:"Ad slot example"})}),e.jsx(km,{image:s.image})]})]})}function Nm(){const s=xs(t=>{var n;return(n=t.config)==null?void 0:n.sections}),a=m.useMemo(()=>s?Object.entries(s||[]).map(([t,n])=>({...n,key:t})).sort((t,n)=>((t==null?void 0:t.position)||1)-((n==null?void 0:n.position)||1)):[],[s]);return e.jsx(m.Fragment,{children:a.map(t=>e.jsx(pe,{to:t.key,elementType:qa,children:e.jsx(r,{...t.label})},t.key))})}const Em=[{key:"type",label:h("Type"),description:h("Type of the role"),defaultOperator:le.ne,control:{type:oe.Select,defaultValue:"01",options:[{key:"01",label:h("Sitewide"),value:"sitewide"},{key:"02",label:h("Workspace"),value:"workspace"}]}},hs({description:h("Date role was created")}),Ds({description:h("Date role was last updated")})],Fm=[{key:"name",allowsSorting:!0,visibleInMode:"all",header:()=>e.jsx(r,{message:"Role"}),body:s=>e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(r,{message:s.name})}),e.jsx("div",{className:"text-muted text-xs overflow-x-hidden overflow-ellipsis",children:s.description?e.jsx(r,{message:s.description}):void 0})]})},{key:"type",maxWidth:"max-w-100",allowsSorting:!0,header:()=>e.jsx(r,{message:"Type"}),body:s=>e.jsx(r,{message:s.type})},{key:"updated_at",maxWidth:"max-w-100",allowsSorting:!0,header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(ve,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,visibleInMode:"all",align:"end",width:"w-42 flex-shrink-0",body:s=>e.jsx(q,{to:`${s.id}/edit`,children:e.jsx(C,{size:"md",className:"text-muted",children:e.jsx(es,{})})})}];function $m(){return e.jsx(Be,{endpoint:"roles",title:e.jsx(r,{message:"Roles"}),columns:Fm,filters:Em,actions:e.jsx(Am,{}),selectedActions:e.jsx(gs,{}),emptyStateMessage:e.jsx(ye,{image:_s,title:e.jsx(r,{message:"No roles have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching roles"})})})}function Am(){return e.jsxs(m.Fragment,{children:[e.jsx(bn,{endpoint:"roles/csv/export"}),e.jsx(Pe,{elementType:q,to:"new",children:e.jsx(r,{message:"Add new role"})})]})}const kr=s=>`roles/${s}`;function Bm(){const{roleId:s}=de();return Ie({queryKey:[kr(s)],queryFn:()=>_m(s)})}function _m(s){return $.get(kr(s)).then(a=>a.data)}const Cr=s=>`roles/${s}`;function zm(){const{trans:s}=L(),a=fe();return M({mutationFn:t=>Im(t),onSuccess:t=>{R(s(h("Role updated"))),T.invalidateQueries({queryKey:[Cr(t.role.id)]}),T.invalidateQueries({queryKey:Q("roles")}),a("/admin/roles")},onError:t=>se(t)})}function Im({id:s,...a}){return $.put(Cr(s),a).then(t=>t.data)}function Sr({isInternal:s=!1}){const{trans:a}=L(),{workspaces:t}=we(),{watch:n}=E(),l=n("type");return e.jsxs(e.Fragment,{children:[e.jsx(p,{label:e.jsx(r,{message:"Name"}),name:"name",className:"mb-20",required:!0}),e.jsx(p,{label:e.jsx(r,{message:"Description"}),name:"description",inputElementType:"textarea",placeholder:a(h("Role description...")),rows:4,className:"mb-20"}),t.integrated&&e.jsxs(U,{label:e.jsx(r,{message:"Type"}),name:"type",selectionMode:"single",className:"mb-20",description:e.jsx(r,{message:"Whether this role will be assigned to users globally on the site or only within workspaces."}),children:[e.jsx(x,{value:"sitewide",children:e.jsx(r,{message:"Sitewide"})}),e.jsx(x,{value:"workspace",children:e.jsx(r,{message:"Workspace"})})]}),!s&&e.jsxs(e.Fragment,{children:[e.jsx(P,{name:"default",className:"mb-20",description:e.jsx(r,{message:"Assign this role to new users automatically."}),children:e.jsx(r,{message:"Default"})}),l==="sitewide"&&e.jsx(P,{name:"guests",description:e.jsx(r,{message:"Assign this role to guests (not logged in users)."}),children:e.jsx(r,{message:"Guests"})})]}),e.jsx("h2",{className:"mb-10 mt-30 text-lg",children:e.jsx(r,{message:"Permissions"})}),e.jsx(nt,{name:"permissions",valueListKey:l==="sitewide"?"permissions":"workspacePermissions"})]})}function Tm({onUserSelected:s}){var d;const{close:a}=G(),[t,n]=m.useState(""),{trans:l}=L(),i=ci("normalized-models/user",{query:t,perPage:14}),o=((d=i.data)==null?void 0:d.results)||[],u=e.jsx(aa,{className:"pt-20",size:"sm",title:e.jsx(r,{message:"No matching users"}),description:e.jsx(r,{message:"Try another search query"}),image:e.jsx(ta,{src:_s})}),c=g=>{a(),s(g)};return e.jsxs(Z,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Select a user"})}),e.jsxs(ee,{children:[e.jsx(Ye,{autoFocus:!0,className:"mb-20",startAdornment:e.jsx(ea,{}),placeholder:l(h("Search for user by name or email")),value:t,onChange:g=>{n(g.target.value)}}),!i.isLoading&&!o.length&&u,e.jsx("div",{className:"grid grid-cols-2 gap-x-10",children:o.map(g=>e.jsx(Pm,{user:g,onUserSelected:c},g.id))})]})]})}function Pm({user:s,onUserSelected:a}){return e.jsxs("div",{className:"flex items-center gap-10 rounded p-10 outline-none ring-offset-4 hover:bg-hover focus-visible:ring",role:"button",tabIndex:0,onClick:()=>{a(s)},onKeyDown:t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),a(s))},children:[e.jsx(hn,{src:s.image}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("div",{className:"overflow-hidden text-ellipsis",children:s.name}),e.jsx("div",{className:"overflow-hidden text-ellipsis text-muted",children:s.description})]})]},s.id)}function Lm(s){return M({mutationFn:({userIds:a})=>Mm({userIds:a,roleId:s.id}),onSuccess:(a,t)=>{R(h("Removed [one 1 user|other :count users] from “{role}“",{values:{count:t.userIds.length,role:s.name}}))},onError:a=>se(a)})}function Mm({roleId:s,userIds:a}){return $.post(`roles/${s}/remove-users`,{userIds:a}).then(t=>t.data)}function Rm(s){return M({mutationFn:({userIds:a})=>Vm({userIds:a,roleId:s.id}),onSuccess:(a,t)=>{R(h("Assigned [one 1 user|other :count users] to {role}",{values:{count:t.userIds.length,role:s.name}}))},onError:a=>se(a)})}function Vm({roleId:s,userIds:a}){return $.post(`roles/${s}/add-users`,{userIds:a}).then(t=>t.data)}const Dr={key:"name",allowsSorting:!0,sortingKey:"email",header:()=>e.jsx(r,{message:"User"}),body:s=>e.jsx(as,{image:s.avatar,label:s.display_name,description:s.email}),width:"col-w-3"},Om=[Dr,{key:"first_name",allowsSorting:!0,header:()=>e.jsx(r,{message:"First name"}),body:s=>s.first_name},{key:"last_name",allowsSorting:!0,header:()=>e.jsx(r,{message:"Last name"}),body:s=>s.last_name},{key:"created_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Assigned at"}),body:s=>e.jsx(ve,{date:s.created_at})}],Hm=[Dr];function qm({role:s}){const a=Te();return s.guests||s.type==="workspace"?e.jsx("div",{className:"pt-30 pb-10",children:e.jsx(ye,{image:_s,title:e.jsx(r,{message:"Users can't be assigned to this role"})})}):e.jsx(jn,{endpoint:"users",columns:a?Hm:Om,queryParams:{roleId:`${s.id}`},actions:e.jsx(Um,{role:s}),selectedActions:e.jsx(Km,{role:s}),emptyStateMessage:e.jsx(ye,{image:_s,title:e.jsx(r,{message:"No users have been assigned to this role yet"}),filteringTitle:e.jsx(r,{message:"No matching users"})})})}function Um({role:s}){const a=Rm(s);return e.jsxs(_,{type:"modal",children:[e.jsx(j,{variant:"flat",color:"primary",disabled:a.isPending,children:e.jsx(r,{message:"Assign user"})}),e.jsx(Tm,{onUserSelected:t=>{a.mutate({userIds:[t.id]},{onSuccess:()=>{T.invalidateQueries({queryKey:Q("users",{roleId:`${s.id}`})})}})}})]})}function Km({role:s}){const a=Lm(s),{selectedRows:t}=ma();return e.jsxs(_,{type:"modal",onClose:n=>{n&&a.mutate({userIds:t},{onSuccess:()=>{T.invalidateQueries({queryKey:Q("users",{roleId:`${s.id}`})})}})},children:[e.jsx(j,{variant:"flat",color:"danger",disabled:a.isPending,children:e.jsx(r,{message:"Remove users"})}),e.jsx(Ee,{title:e.jsx(r,{message:"Remove [one 1 user|other :count users] from “:name“ role?",values:{count:t.length,name:s.name}}),body:e.jsx(r,{message:"This will permanently remove the users."}),confirm:e.jsx(r,{message:"Remove"}),isDanger:!0})]})}function Wm(){const s=Bm();return s.status!=="success"?e.jsx(Je,{}):e.jsx(Gm,{role:s.data.role})}function Gm({role:s}){const a=W({defaultValues:s}),t=zm();return e.jsx(Os,{form:a,onSubmit:n=>{t.mutate(n)},title:e.jsx(r,{message:"Edit “:name“ role",values:{name:s.name}}),isLoading:t.isPending,children:e.jsxs(ot,{isLazy:!0,children:[e.jsxs(ut,{children:[e.jsx(os,{children:e.jsx(r,{message:"Settings"})}),e.jsx(os,{children:e.jsx(r,{message:"Users"})})]}),e.jsxs(jr,{className:"pt-20",children:[e.jsx(Js,{children:e.jsx(Sr,{isInternal:s.internal})}),e.jsx(Js,{children:e.jsx(qm,{role:s})})]})]})})}const Qm="roles";function Ym(s){const{trans:a}=L();return M({mutationFn:t=>Jm(t),onSuccess:()=>{R(a(h("Created new role"))),T.invalidateQueries({queryKey:Q("roles")})},onError:t=>ke(t,s)})}function Jm({id:s,...a}){return $.post(Qm,a).then(t=>t.data)}function Zm(){const s=W({defaultValues:{type:"sitewide"}}),a=Ym(s),t=fe();return e.jsx(Os,{form:s,onSubmit:n=>{a.mutate(n,{onSuccess:l=>{t(`/admin/roles/${l.role.id}/edit`)}})},title:e.jsx(r,{message:"Add new role"}),isLoading:a.isPending,children:e.jsx(Sr,{})})}const Xm=s=>[{key:"type",label:h("Type"),description:h("Type of the tag"),defaultOperator:le.ne,control:{type:oe.Select,defaultValue:s[0].name,options:s.map(a=>({key:a.name,label:h(a.name),value:a.name}))}},hs({description:h("Date tag was created")}),Ds({description:h("Date tag was last updated")})],Nr=""+new URL("software-engineer-ba026106.svg",import.meta.url).href;function Er({form:s,onSubmit:a,formId:t}){const{tags:{types:n}}=m.useContext(ms),l=s.watch("type"),i=!!n.find(o=>o.name===l&&o.system);return e.jsxs(ce,{id:t,form:s,onSubmit:a,children:[e.jsx(p,{name:"name",label:e.jsx(r,{message:"Name"}),description:e.jsx(r,{message:"Unique tag identifier."}),className:"mb-20",required:!0,autoFocus:!0}),e.jsx(p,{name:"display_name",label:e.jsx(r,{message:"Display name"}),description:e.jsx(r,{message:"User friendly tag name."}),className:"mb-20"}),e.jsx(U,{label:e.jsx(r,{message:"Type"}),name:"type",selectionMode:"single",disabled:i,children:n.filter(o=>!o.system).map(o=>e.jsx(x,{value:o.name,children:e.jsx(r,{message:o.name})},o.name))})]})}var Fr={exports:{}};(function(s,a){(function(t,n,l){s.exports=l(),s.exports.default=l()})("slugify",kl,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","Ա":"A","Բ":"B","Գ":"G","Դ":"D","Ե":"E","Զ":"Z","Է":"E'","Ը":"Y'","Թ":"T'","Ժ":"JH","Ի":"I","Լ":"L","Խ":"X","Ծ":"C'","Կ":"K","Հ":"H","Ձ":"D'","Ղ":"GH","Ճ":"TW","Մ":"M","Յ":"Y","Ն":"N","Շ":"SH","Չ":"CH","Պ":"P","Ջ":"J","Ռ":"R'","Ս":"S","Վ":"V","Տ":"T","Ր":"R","Ց":"C","Փ":"P'","Ք":"Q'","Օ":"O''","Ֆ":"F","և":"EV","ء":"a","آ":"aa","أ":"a","ؤ":"u","إ":"i","ئ":"e","ا":"a","ب":"b","ة":"h","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ى":"a","ي":"y","ً":"an","ٌ":"on","ٍ":"en","َ":"a","ُ":"u","ِ":"e","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"g","ی":"y","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ṣ":"S","ṣ":"s","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"'","’":"'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial","ﻵ":"laa","ﻷ":"laa","ﻹ":"lai","ﻻ":"la"}`),n=JSON.parse('{"bg":{"Й":"Y","Ц":"Ts","Щ":"Sht","Ъ":"A","Ь":"Y","й":"y","ц":"ts","щ":"sht","ъ":"a","ь":"y"},"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","ß":"ss","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"},"da":{"Ø":"OE","ø":"oe","Å":"AA","å":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"større end"},"nb":{"&":"og","Å":"AA","Æ":"AE","Ø":"OE","å":"aa","æ":"ae","ø":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Å":"AA","Ä":"AE","Ö":"OE","å":"aa","ä":"ae","ö":"oe"}}');function l(i,o){if(typeof i!="string")throw new Error("slugify: string argument expected");o=typeof o=="string"?{replacement:o}:o||{};var u=n[o.locale]||{},c=o.replacement===void 0?"-":o.replacement,d=o.trim===void 0?!0:o.trim,g=i.normalize().split("").reduce(function(f,b){var y=u[b];return y===void 0&&(y=t[b]),y===void 0&&(y=b),y===c&&(y=" "),f+y.replace(o.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return o.strict&&(g=g.replace(/[^A-Za-z0-9\s]/g,"")),d&&(g=g.trim()),g=g.replace(/\s+/g,c),o.lower&&(g=g.toLowerCase()),g}return l.extend=function(i){Object.assign(t,i)},l})})(Fr);var eh=Fr.exports;const sh=Cl(eh);function mt(s,a="-",t=!1){if(!s)return s;let n=sh(s,{lower:!0,replacement:a,strict:t,remove:/[*+~.()'"!:@?\|/\\#]/g});return n||(n=s.replace(/\s+/g,"-").toLowerCase()),n}function ah(s){const{trans:a}=L();return M({mutationFn:t=>th(t),onSuccess:()=>{R(a(h("Tag created"))),T.invalidateQueries({queryKey:Q("tags")})},onError:t=>ke(t,s)})}function th(s){return s.name=mt(s.name),$.post("tags",s).then(a=>a.data)}function nh(){const{close:s,formId:a}=G(),{tags:{types:t}}=m.useContext(ms),n=W({defaultValues:{type:t[0].name}}),l=ah(n);return e.jsxs(Z,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Add new tag"})}),e.jsx(ee,{children:e.jsx(Er,{formId:a,form:n,onSubmit:i=>{l.mutate(i,{onSuccess:()=>{s()}})}})}),e.jsxs(ge,{children:[e.jsx(j,{onClick:()=>{s()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{form:a,disabled:l.isPending,variant:"flat",color:"primary",type:"submit",children:e.jsx(r,{message:"Save"})})]})]})}function rh(s){const{trans:a}=L();return M({mutationFn:t=>lh(t),onSuccess:()=>{R(a(h("Tag updated"))),T.invalidateQueries({queryKey:Q("tags")})},onError:t=>ke(t,s)})}function lh({id:s,...a}){return a.name&&(a.name=mt(a.name)),$.put(`tags/${s}`,a).then(t=>t.data)}function ih({tag:s}){const{close:a,formId:t}=G(),n=W({defaultValues:{id:s.id,name:s.name,display_name:s.display_name,type:s.type}}),l=rh(n);return e.jsxs(Z,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Update “:name“ tag",values:{name:s.name}})}),e.jsx(ee,{children:e.jsx(Er,{formId:t,form:n,onSubmit:i=>{l.mutate(i,{onSuccess:()=>{a()}})}})}),e.jsxs(ge,{children:[e.jsx(j,{onClick:()=>{a()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{form:t,disabled:l.isPending,variant:"flat",color:"primary",type:"submit",children:e.jsx(r,{message:"Save"})})]})]})}const oh=[{key:"name",allowsSorting:!0,visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Name"}),body:s=>s.name},{key:"type",allowsSorting:!0,header:()=>e.jsx(r,{message:"Type"}),body:s=>s.type},{key:"display_name",allowsSorting:!0,header:()=>e.jsx(r,{message:"Display name"}),body:s=>s.display_name},{key:"updated_at",allowsSorting:!0,width:"w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(ve,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-42 flex-shrink-0",visibleInMode:"all",body:s=>e.jsxs(_,{type:"modal",children:[e.jsx(C,{size:"md",className:"text-muted",children:e.jsx(es,{})}),e.jsx(ih,{tag:s})]})}];function uh(){const{tags:s}=m.useContext(ms),a=m.useMemo(()=>Xm(s.types),[s.types]);return e.jsx(Be,{endpoint:"tags",title:e.jsx(r,{message:"Tags"}),columns:oh,filters:a,actions:e.jsx(ch,{}),selectedActions:e.jsx(gs,{}),emptyStateMessage:e.jsx(ye,{image:Nr,title:e.jsx(r,{message:"No tags have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching tags"})})})}function ch(){return e.jsx(e.Fragment,{children:e.jsxs(_,{type:"modal",children:[e.jsx(Pe,{children:e.jsx(r,{message:"Add new tag"})}),e.jsx(nh,{})]})})}const $r=m.memo(({bytes:s})=>e.jsx(m.Fragment,{children:cn(s)})),Ar=B(e.jsx("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"}),"VisibilityOutlined"),dh=""+new URL("upload-cabfc914.svg",import.meta.url).href,mh=[{key:"name",allowsSorting:!0,visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Name"}),body:s=>e.jsxs(m.Fragment,{children:[e.jsx("div",{className:"overflow-x-hidden overflow-ellipsis",children:s.name}),e.jsx("div",{className:"text-muted text-xs overflow-x-hidden overflow-ellipsis",children:s.file_name})]})},{key:"owner_id",allowsSorting:!0,width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Uploader"}),body:s=>{var t;const a=(t=s.users)==null?void 0:t[0];return a?e.jsx(as,{image:a.avatar,label:a.display_name,description:a.email}):null}},{key:"type",width:"w-100 flex-shrink-0",allowsSorting:!0,header:()=>e.jsx(r,{message:"Type"}),body:s=>e.jsxs("div",{className:"flex items-center gap-12",children:[e.jsx(Sl,{type:s.type,className:"w-24 h-24 overflow-hidden"}),e.jsx("div",{className:"capitalize",children:s.type})]})},{key:"public",allowsSorting:!0,width:"w-60 flex-shrink-0",header:()=>e.jsx(r,{message:"Public"}),body:s=>s.public?e.jsx(Ra,{className:"icon-md text-positive"}):e.jsx(Oe,{className:"icon-md text-danger"})},{key:"file_size",allowsSorting:!0,maxWidth:"max-w-100",header:()=>e.jsx(r,{message:"File size"}),body:s=>e.jsx($r,{bytes:s.file_size})},{key:"updated_at",allowsSorting:!0,width:"w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(ve,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-42 flex-shrink-0",visibleInMode:"all",body:s=>e.jsxs(_,{type:"modal",children:[e.jsx(C,{size:"md",className:"text-muted",children:e.jsx(Ar,{})}),e.jsx(mi,{entries:[s]})]})}];function hh(){return e.jsx(Be,{endpoint:"file-entries",title:e.jsx(r,{message:"Uploaded files and folders"}),columns:mh,filters:di,selectedActions:e.jsx(gs,{}),emptyStateMessage:e.jsx(ye,{image:dh,title:e.jsx(r,{message:"Nothing has been uploaded yet"}),filteringTitle:e.jsx(r,{message:"No matching files or folders"})})})}const gh=[{key:"ends_at",label:h("Status"),description:h("Whether subscription is active or cancelled"),defaultOperator:le.eq,control:{type:oe.Select,defaultValue:"active",options:[{key:"active",label:h("Active"),value:{value:null,operator:le.eq}},{key:"cancelled",label:h("Cancelled"),value:{value:null,operator:le.ne}}]}},{control:{type:oe.Select,defaultValue:"stripe",options:[{key:"stripe",label:h("Stripe"),value:"stripe"},{key:"paypal",label:h("PayPal"),value:"paypal"},{key:"none",label:h("None"),value:"none"}]},key:"gateway_name",label:h("Gateway"),description:h("With which payment provider was subscription created"),defaultOperator:le.eq},hi({key:"renews_at",label:h("Renew date"),description:h("Date subscription will renew")}),hs({description:h("Date subscription was created")}),Ds({description:h("Date subscription was last updated")})],xh=""+new URL("subscriptions-7eacea42.svg",import.meta.url).href;function ph(s){const{trans:a}=L();return M({mutationFn:t=>fh(t),onSuccess:()=>{R(a(h("Subscription updated"))),T.invalidateQueries({queryKey:Q("billing/subscriptions")})},onError:t=>ke(t,s)})}function fh({id:s,...a}){return $.put(`billing/subscriptions/${s}`,a).then(t=>t.data)}function Br({form:s,onSubmit:a,formId:t}){var o,u;const n=Dl(),l=s.watch("product_id"),i=(o=n.data)==null?void 0:o.products.find(c=>c.id===l);return e.jsxs(ce,{id:t,form:s,onSubmit:a,children:[e.jsx(gi,{name:"user_id",className:"mb-20",endpoint:"normalized-models/user",label:e.jsx(r,{message:"User"})}),e.jsx(U,{name:"product_id",selectionMode:"single",className:"mb-20",label:e.jsx(r,{message:"Plan"}),children:(u=n.data)==null?void 0:u.products.filter(c=>!c.free).map(c=>e.jsx(x,{value:c.id,children:e.jsx(r,{message:c.name})},c.id))}),!(i!=null&&i.free)&&e.jsx(U,{name:"price_id",selectionMode:"single",className:"mb-20",label:e.jsx(r,{message:"Price"}),children:i==null?void 0:i.prices.map(c=>e.jsx(x,{value:c.id,children:e.jsx(Za,{price:c})},c.id))}),e.jsx(p,{inputElementType:"textarea",rows:3,name:"description",label:e.jsx(r,{message:"Description"}),className:"mb-20"}),e.jsx(Fa,{className:"mb-20",name:"renews_at",granularity:"day",label:e.jsx(r,{message:"Renews at"}),description:e.jsx(r,{message:"This will only change local records. User will continue to be billed on their original cycle on the payment gateway."})}),e.jsx(Fa,{className:"mb-20",name:"ends_at",granularity:"day",label:e.jsx(r,{message:"Ends at"}),description:e.jsx(r,{message:"This will only change local records. User will continue to be billed on their original cycle on the payment gateway."})})]})}function jh({subscription:s}){const{close:a,formId:t}=G(),n=W({defaultValues:{id:s.id,product_id:s.product_id,price_id:s.price_id,description:s.description,renews_at:s.renews_at,ends_at:s.ends_at,user_id:s.user_id}}),l=ph(n);return e.jsxs(Z,{size:"md",children:[e.jsx(ne,{children:e.jsx(r,{message:"Update subscription"})}),e.jsx(ee,{children:e.jsx(Br,{formId:t,form:n,onSubmit:i=>{l.mutate(i,{onSuccess:()=>{a()}})}})}),e.jsxs(ge,{children:[e.jsx(j,{onClick:()=>{a()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{form:t,disabled:l.isPending,variant:"flat",color:"primary",type:"submit",children:e.jsx(r,{message:"Save"})})]})]})}const _r="billing/subscriptions";function bh(s){const{trans:a}=L();return M({mutationFn:t=>vh(t),onSuccess:()=>{R(a(h("Subscription created"))),T.invalidateQueries({queryKey:Q(_r)})},onError:t=>ke(t,s)})}function vh(s){return $.post(_r,s).then(a=>a.data)}function yh(){const{close:s,formId:a}=G(),t=W({}),n=bh(t);return e.jsxs(Z,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Add new subscription"})}),e.jsx(ee,{children:e.jsx(Br,{formId:a,form:t,onSubmit:l=>{n.mutate(l,{onSuccess:()=>{s()}})}})}),e.jsxs(ge,{children:[e.jsx(j,{onClick:()=>{s()},children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{form:a,disabled:n.isPending,variant:"flat",color:"primary",type:"submit",children:e.jsx(r,{message:"Save"})})]})]})}const wh=B(e.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"PauseOutlined"),kh=B(e.jsx("path",{d:"M10 8.64 15.27 12 10 15.36V8.64M8 5v14l11-7L8 5z"}),"PlayArrowOutlined"),xa="billing/subscriptions",Ch=[{key:"user_id",allowsSorting:!0,width:"flex-3 min-w-200",visibleInMode:"all",header:()=>e.jsx(r,{message:"Customer"}),body:s=>s.user&&e.jsx(as,{image:s.user.avatar,label:s.user.display_name,description:s.user.email})},{key:"status",width:"w-100 flex-shrink-0",header:()=>e.jsx(r,{message:"Status"}),body:s=>e.jsx(Va,{size:"xs",color:s.valid?"positive":void 0,radius:"rounded",className:"w-max",children:s.gateway_status})},{key:"product_id",allowsSorting:!0,header:()=>e.jsx(r,{message:"Plan"}),body:s=>{var a;return(a=s.product)==null?void 0:a.name}},{key:"gateway_name",allowsSorting:!0,header:()=>e.jsx(r,{message:"Gateway"}),body:s=>e.jsx("span",{className:"capitalize",children:s.gateway_name})},{key:"renews_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Renews at"}),body:s=>e.jsx(ve,{date:s.renews_at})},{key:"ends_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Ends at"}),body:s=>e.jsx(ve,{date:s.ends_at})},{key:"created_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Created at"}),body:s=>e.jsx(ve,{date:s.created_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",visibleInMode:"all",width:"w-128 flex-shrink-0",body:s=>e.jsx(Nh,{subscription:s})}];function Sh(){return e.jsx(Be,{endpoint:xa,title:e.jsx(r,{message:"Subscriptions"}),columns:Ch,filters:gh,actions:e.jsx(Dh,{}),enableSelection:!1,selectedActions:e.jsx(gs,{}),queryParams:{with:"product"},emptyStateMessage:e.jsx(ye,{image:xh,title:e.jsx(r,{message:"No subscriptions have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching subscriptions"})})})}function Dh(){return e.jsx(e.Fragment,{children:e.jsxs(_,{type:"modal",children:[e.jsx(Pe,{children:e.jsx(r,{message:"Add new subscription"})}),e.jsx(yh,{})]})})}function Nh({subscription:s}){return e.jsxs(m.Fragment,{children:[e.jsxs(_,{type:"modal",children:[e.jsx(C,{size:"md",className:"text-muted",children:e.jsx(es,{})}),e.jsx(jh,{subscription:s})]}),s.cancelled&&s.on_grace_period?e.jsx(Fh,{subscription:s}):null,s.active?e.jsx(Eh,{subscription:s}):null,e.jsx($h,{subscription:s})]})}function Eh({subscription:s}){const a=xn(),t=()=>{a.mutate({subscriptionId:s.id},{onSuccess:()=>{T.invalidateQueries({queryKey:Q(xa)})}})};return e.jsxs(_,{type:"modal",onClose:n=>{n&&t()},children:[e.jsx(J,{label:e.jsx(r,{message:"Cancel subscription"}),children:e.jsx(C,{size:"md",className:"text-muted",disabled:a.isPending,children:e.jsx(wh,{})})}),e.jsx(Ee,{title:e.jsx(r,{message:"Cancel subscription"}),body:e.jsxs("div",{children:[e.jsx(r,{message:"Are you sure you want to cancel this subscription?"}),e.jsx("div",{className:"mt-10 text-sm font-semibold",children:e.jsx(r,{message:"This will put user on grace period until their next scheduled renewal date. Subscription can be renewed until that date by user or from admin area."})})]}),confirm:e.jsx(r,{message:"Confirm"})})]})}function Fh({subscription:s}){const a=bi(),t=()=>{a.mutate({subscriptionId:s.id},{onSuccess:()=>{T.invalidateQueries({queryKey:Q(xa)})}})};return e.jsxs(_,{type:"modal",onClose:n=>{n&&t()},children:[e.jsx(J,{label:e.jsx(r,{message:"Renew subscription"}),children:e.jsx(C,{size:"md",className:"text-muted",onClick:t,disabled:a.isPending,children:e.jsx(kh,{})})}),e.jsx(Ee,{title:e.jsx(r,{message:"Resume subscription"}),body:e.jsxs("div",{children:[e.jsx(r,{message:"Are you sure you want to resume this subscription?"}),e.jsx("div",{className:"mt-10 text-sm font-semibold",children:e.jsx(r,{message:"This will put user on their original plan and billing cycle."})})]}),confirm:e.jsx(r,{message:"Confirm"})})]})}function $h({subscription:s}){const a=xn(),t=()=>{a.mutate({subscriptionId:s.id,delete:!0},{onSuccess:()=>{T.invalidateQueries({queryKey:Q(xa)})}})};return e.jsxs(_,{type:"modal",onClose:n=>{n&&t()},children:[e.jsx(J,{label:e.jsx(r,{message:"Delete subscription"}),children:e.jsx(C,{size:"md",className:"text-muted",disabled:a.isPending,children:e.jsx(Oe,{})})}),e.jsx(Ee,{isDanger:!0,title:e.jsx(r,{message:"Delete subscription"}),body:e.jsxs("div",{children:[e.jsx(r,{message:"Are you sure you want to delete this subscription?"}),e.jsx("div",{className:"mt-10 text-sm font-semibold",children:e.jsx(r,{message:"This will permanently delete the subscription and immediately cancel it on billing gateway. Subscription will not be renewable anymore."})})]}),confirm:e.jsx(r,{message:"Confirm"})})]})}const Ah=B(e.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"SyncOutlined");function Bh(){const{trans:s}=L();return M({mutationFn:()=>_h(),onSuccess:()=>{R(s(h("Plans synced")))},onError:a=>se(a,h("Could not sync plans"))})}function _h(){return $.post("billing/products/sync").then(s=>s.data)}const zh=s=>`billing/products/${s}`;function Ih(){const{trans:s}=L();return M({mutationFn:a=>Th(a),onSuccess:()=>{R(s(h("Plan deleted"))),T.invalidateQueries({queryKey:Q("billing/products")})},onError:a=>se(a)})}function Th({productId:s}){return $.delete(zh(s)).then(a=>a.data)}const Ph=[{key:"subscriptions",label:h("Subscriptions"),description:h("Whether plan has any active subscriptions"),defaultOperator:le.eq,control:{type:oe.Select,defaultValue:"01",options:[{key:"01",label:h("Has active subscriptions"),value:{value:"*",operator:le.has}},{key:"02",label:h("Does not have active subscriptions"),value:{value:"*",operator:le.doesntHave}}]}},hs({description:h("Date plan was created")}),Ds({description:h("Date plan was last updated")})],Lh=[{key:"name",allowsSorting:!0,visibleInMode:"all",header:()=>e.jsx(r,{message:"Name"}),body:s=>{const a=s.prices[0];return e.jsx(as,{label:s.name,description:s.free?e.jsx(r,{message:"Free"}):e.jsx(Za,{price:a})})}},{key:"created_at",allowsSorting:!0,maxWidth:"max-w-100",header:()=>e.jsx(r,{message:"Created"}),body:s=>e.jsx(ve,{date:s.created_at})},{key:"updated_at",allowsSorting:!0,maxWidth:"max-w-100",header:()=>e.jsx(r,{message:"Last updated"}),body:s=>e.jsx(ve,{date:s.updated_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),visibleInMode:"all",hideHeader:!0,align:"end",maxWidth:"max-w-84",body:s=>e.jsxs(m.Fragment,{children:[e.jsx(C,{size:"md",className:"text-muted",elementType:q,to:`/admin/plans/${s.id}/edit`,children:e.jsx(es,{})}),e.jsx(Rh,{product:s})]})}];function Mh(){const s=fe();return e.jsx(Be,{endpoint:"billing/products",title:e.jsx(r,{message:"Subscription plans"}),columns:Lh,actions:e.jsx(Vh,{}),enableSelection:!1,filters:Ph,onRowAction:a=>{s(`/admin/plans/${a.id}/edit`)},emptyStateMessage:e.jsx(ye,{image:Nr,title:e.jsx(r,{message:"No plans have been created yet"}),filteringTitle:e.jsx(r,{message:"No matching plans"})})})}function Rh({product:s}){const a=Ih();return e.jsxs(_,{type:"modal",onClose:t=>{t&&a.mutate({productId:s.id})},children:[e.jsx(J,{label:e.jsx(r,{message:"Delete plan"}),children:e.jsx(C,{size:"md",className:"text-muted",disabled:a.isPending,children:e.jsx(ca,{})})}),e.jsx(Ee,{title:e.jsx(r,{message:"Delete plan"}),body:e.jsx(r,{message:"Are you sure you want to delete this plan?"}),confirm:e.jsx(r,{message:"Delete"})})]})}function Vh(){const s=Bh();return e.jsxs(m.Fragment,{children:[e.jsx(J,{label:e.jsx(r,{message:"Sync plans with Stripe & PayPal"}),children:e.jsx(C,{color:"primary",variant:"outline",size:"sm",disabled:s.isPending,onClick:()=>{s.mutate()},children:e.jsx(Ah,{})})}),e.jsx(Pe,{elementType:q,to:"/admin/plans/new",children:e.jsx(r,{message:"Add new plan"})})]})}const zr=s=>`billing/products/${s}`;function Oh(){const{productId:s}=de();return Ie({queryKey:[zr(s)],queryFn:()=>Hh(s)})}function Hh(s){return $.get(zr(s)).then(a=>a.data)}const La=[{key:"day1",label:h("Daily"),interval:"day",interval_count:1},{key:"week1",label:h("Weekly"),interval:"week",interval_count:1},{key:"month1",label:h("Monthly"),interval:"month",interval_count:1},{key:"month3",label:h("Every 3 months"),interval:"month",interval_count:3},{key:"month6",label:h("Every 6 months"),interval:"month",interval_count:6},{key:"year1",label:h("Yearly"),interval:"year",interval_count:1},{key:"custom",label:h("Custom"),interval:null,interval_count:null}];function qh({index:s,onRemovePrice:a}){const{trans:t}=L(),n=Fe(["currencies"]),l=m.useMemo(()=>{var y;return(y=n.data)!=null&&y.currencies?Object.values(n.data.currencies):[]},[n.data]),{watch:i,getValues:o}=E(),u=!i("id"),c=i(`prices.${s}.id`)==null,d=i(`prices.${s}.subscriptions_count`)||0,[g,f]=m.useState(()=>{const y=o(`prices.${s}.interval`),w=o(`prices.${s}.interval_count`),k=La.find(N=>N.key===`${y}${w}`);return k?k.key:"custom"}),b=u||c||!d;return e.jsxs(m.Fragment,{children:[!b&&e.jsx("p",{className:"text-muted text-sm max-w-500 mb-20",children:e.jsx(r,{message:"This price can't modified or deleted, because it has [one 1 subscriber|other :count subscribers]. You can instead add a new price.",values:{count:d}})}),e.jsx(p,{required:!0,disabled:!b,label:e.jsx(r,{message:"Amount"}),type:"number",min:.1,step:.01,name:`prices.${s}.amount`,className:"mb-20"}),e.jsx(U,{required:!0,disabled:!b,label:e.jsx(r,{message:"Currency"}),name:`prices.${s}.currency`,items:l,showSearchField:!0,searchPlaceholder:t(h("Search currencies")),selectionMode:"single",className:"mb-20",children:y=>e.jsx(x,{value:y.code,children:`${y.code}: ${y.name}`},y.code)}),e.jsx(Uh,{disabled:!b,index:s,value:g,onValueChange:f}),g==="custom"&&e.jsx(Kh,{disabled:!b,index:s}),e.jsx("div",{className:"text-right",children:e.jsx(j,{size:"xs",variant:"outline",color:"danger",disabled:!b,onClick:()=>{a()},children:e.jsx(r,{message:"Delete price"})})})]})}function Uh({index:s,value:a,onValueChange:t,disabled:n}){const{setValue:l}=E();return e.jsx(ks,{label:e.jsx(r,{message:"Billing period"}),disabled:n,className:"mb-20",selectionMode:"single",selectedValue:a,onSelectionChange:i=>{if(t(i),i!=="custom"){const o=La.find(u=>u.key===i);o&&(l(`prices.${s}.interval`,o.interval),l(`prices.${s}.interval_count`,o.interval_count))}},children:La.map(i=>e.jsx(x,{value:i.key,children:e.jsx(r,{...i.label})},i.key))})}function Kh({index:s,disabled:a}){const{watch:t}=E(),n=t(`prices.${s}.interval`);let l;return n==="day"?l=365:n==="week"?l=52:l=12,e.jsxs("div",{className:"flex border rounded w-min",children:[e.jsx("div",{className:"px-18 flex items-center text-sm",children:e.jsx(r,{message:"Every"})}),e.jsx(p,{inputShadow:"shadow-none",inputBorder:"border-none",className:"border-l border-r w-80",name:`prices.${s}.interval_count`,type:"number",min:1,max:l,disabled:a,required:!0}),e.jsxs(U,{inputShadow:"shadow-none",inputBorder:"border-none",name:`prices.${s}.interval`,selectionMode:"single",disabled:a,children:[e.jsx(x,{value:"day",children:e.jsx(r,{message:"Days"})}),e.jsx(x,{value:"week",children:e.jsx(r,{message:"Weeks"})}),e.jsx(x,{value:"month",children:e.jsx(r,{message:"Months"})})]})]})}function Ir(){return e.jsxs(m.Fragment,{children:[e.jsx(p,{name:"name",label:e.jsx(r,{message:"Name"}),className:"mb-20",required:!0,autoFocus:!0}),e.jsx(p,{name:"description",label:e.jsx(r,{message:"Description"}),className:"mb-20",inputElementType:"textarea",rows:4}),e.jsxs(U,{name:"position",selectionMode:"single",label:e.jsx(r,{message:"Position in pricing table"}),className:"mb-20",children:[e.jsx(x,{value:0,children:e.jsx(r,{message:"First"})}),e.jsx(x,{value:1,children:e.jsx(r,{message:"Second"})}),e.jsx(x,{value:2,children:e.jsx(r,{message:"Third"})}),e.jsx(x,{value:3,children:e.jsx(r,{message:"Fourth"})}),e.jsx(x,{value:4,children:e.jsx(r,{message:"Fifth"})})]}),e.jsx(Bs,{className:"mb-30",name:"available_space",label:e.jsx(r,{message:"Allowed storage space"}),description:e.jsx(r,{values:{a:s=>e.jsx(q,{className:Ua,target:"_blank",to:"/admin/settings/uploading",children:s})},message:"Total storage space all user uploads are allowed to take up."})}),e.jsx(P,{name:"recommended",className:"mb-20",description:e.jsx(r,{message:"Plan will be displayed more prominently on pricing page."}),children:e.jsx(r,{message:"Recommend"})}),e.jsx(P,{name:"hidden",className:"mb-20",description:e.jsx(r,{message:"Plan will not be shown on pricing or upgrade pages."}),children:e.jsx(r,{message:"Hidden"})}),e.jsx(P,{name:"free",className:"mb-20",description:e.jsx(r,{message:"Will be assigned to all users, if they are not subscribed already."}),children:e.jsx(r,{message:"Free"})}),e.jsx(Ma,{children:e.jsx(r,{message:"Feature list"})}),e.jsx(Wh,{}),e.jsx(Gh,{}),e.jsx(Ma,{children:e.jsx(r,{message:"Permissions"})}),e.jsx(nt,{name:"permissions"})]})}function Ma({children:s}){return e.jsx("h2",{className:"mt-40 mb-20 text-base font-semibold",children:s})}function Wh(){const{fields:s,append:a,remove:t}=Ae({name:"feature_list"});return e.jsxs("div",{children:[s.map((n,l)=>e.jsxs("div",{className:"flex gap-10 mb-10",children:[e.jsx(p,{name:`feature_list.${l}.value`,size:"sm",className:"flex-auto"}),e.jsx(C,{size:"sm",color:"primary",className:"flex-shrink-0",onClick:()=>{t(l)},children:e.jsx(Oe,{})})]},n.id)),e.jsx(j,{variant:"text",color:"primary",startIcon:e.jsx(Ne,{}),size:"xs",onClick:()=>{a({value:""})},children:e.jsx(r,{message:"Add another line"})})]})}function Gh(){var i;const{watch:s,formState:{errors:a}}=E(),{fields:t,append:n,remove:l}=Ae({name:"prices",keyName:"key"});return s("free")?null:e.jsxs(m.Fragment,{children:[e.jsx(Ma,{children:e.jsx(r,{message:"Pricing"})}),((i=a.prices)==null?void 0:i.message)&&e.jsx("div",{className:"text-sm text-danger mb-20",children:a.prices.message}),e.jsx(ss,{variant:"outline",className:"mb-10",children:t.map((o,u)=>e.jsx(De,{label:e.jsx(Za,{price:o}),children:e.jsx(qh,{index:u,onRemovePrice:()=>{l(u)}})},o.key))}),e.jsx(j,{variant:"text",color:"primary",startIcon:e.jsx(Ne,{}),size:"xs",onClick:()=>{n({currency:"USD",amount:1,interval_count:1,interval:"month"})},children:e.jsx(r,{message:"Add another price"})})]})}const Tr=s=>`billing/products/${s}`;function Qh(s){const{trans:a}=L(),t=fe();return M({mutationFn:n=>Yh(n),onSuccess:n=>{R(a(h("Plan updated"))),T.invalidateQueries({queryKey:[Tr(n.product.id)]}),T.invalidateQueries({queryKey:Q("billing/products")}),t("/admin/plans")},onError:n=>ke(n,s)})}function Yh({id:s,...a}){const t={...a,feature_list:a.feature_list.map(n=>n.value)};return $.put(Tr(s),t).then(n=>n.data)}function Jh(){const s=Oh();return s.status!=="success"?e.jsx(Je,{}):e.jsx(Zh,{product:s.data.product})}function Zh({product:s}){const a=W({defaultValues:{...s,feature_list:s.feature_list.map(n=>({value:n}))}}),t=Qh(a);return e.jsx(Os,{form:a,onSubmit:n=>{t.mutate(n)},title:e.jsx(r,{message:"Edit “:name“ plan",values:{name:s.name}}),isLoading:t.isPending,children:e.jsx(Ir,{})})}const Pr="billing/products";function Xh(s){const{trans:a}=L(),t=fe();return M({mutationFn:n=>eg(n),onSuccess:()=>{R(a(h("Plan created"))),T.invalidateQueries({queryKey:[Pr]}),T.invalidateQueries({queryKey:Q("billing/products")}),t("/admin/plans")},onError:n=>ke(n,s)})}function eg(s){const a={...s,feature_list:s.feature_list.map(t=>t.value)};return $.post(Pr,a).then(t=>t.data)}function sg(){const s=W({defaultValues:{free:!1,recommended:!1}}),a=Xh(s);return e.jsx(Os,{form:s,onSubmit:t=>{a.mutate(t)},title:e.jsx(r,{message:"Create new plan"}),isLoading:a.isPending,children:e.jsx(Ir,{})})}function ag(){return e.jsxs(Ce,{title:e.jsx(r,{message:"GDPR"}),description:e.jsx(r,{message:"Configure settings related to EU General Data Protection Regulation."}),children:[e.jsx(tg,{}),e.jsx(Ve,{}),e.jsx(ng,{})]})}function tg(){const{watch:s}=E(),a=s("client.cookie_notice.enable");return e.jsxs("div",{children:[e.jsx(P,{name:"client.cookie_notice.enable",className:"mb-20",description:e.jsx(r,{message:"Whether cookie notice should be shown automatically to users from EU until it is accepted."}),children:e.jsx(r,{message:"Enable cookie notice"})}),a&&e.jsxs(m.Fragment,{children:[e.jsxs("div",{className:"mb-20 border-b pb-6",children:[e.jsx("div",{className:"mb-20 border-b pb-10 text-sm font-medium",children:e.jsx(r,{message:"Information button"})}),e.jsx(bs,{hideRoleAndPermissionFields:!0,formPathPrefix:"client.cookie_notice.button"})]}),e.jsxs(U,{name:"client.cookie_notice.position",selectionMode:"single",label:e.jsx(r,{message:"Cookie notice position"}),className:"mb-20",children:[e.jsx(x,{value:"top",children:e.jsx(r,{message:"Top"})}),e.jsx(x,{value:"bottom",children:e.jsx(r,{message:"Bottom"})})]})]})]})}function ng(){const{fields:s,append:a,remove:t}=Ae({name:"client.registration.policies"});return e.jsxs(m.Fragment,{children:[e.jsx("div",{className:"mb-6 text-sm",children:e.jsx(r,{message:"Registration policies"})}),e.jsx("div",{className:"text-xs text-muted",children:e.jsx(r,{message:"Create policies that will be shown on registration page. User will be required to accept them by toggling a checkbox."})}),e.jsx(ss,{className:"mt-16",variant:"outline",children:s.map((n,l)=>e.jsx(De,{label:n.label,chevronPosition:"left",endAppend:e.jsx(C,{variant:"text",color:"danger",size:"sm",onClick:()=>{t(l)},children:e.jsx(Oe,{})}),children:e.jsx(bs,{hideRoleAndPermissionFields:!0,formPathPrefix:`client.register_policies.${l}`})},n.id))}),e.jsxs(_,{type:"modal",onClose:n=>{n&&a(n)},children:[e.jsx(j,{className:"mt-12",variant:"link",color:"primary",startIcon:e.jsx(Ne,{}),size:"xs",children:e.jsx(r,{message:"Add another policy"})}),e.jsx(dr,{title:e.jsx(r,{message:"Add policy"})})]})]})}const rg=[];function lg(s){const{pageId:a}=de(),t=`${s||"custom-pages"}/${a}`;return M({mutationFn:n=>ig(n,t),onError:n=>se(n),onSuccess:async()=>{await T.invalidateQueries({queryKey:["custom-pages"]}),await T.invalidateQueries({queryKey:Q(t)}),R(h("Page updated"))}})}function ig(s,a){return $.put(`${a}`,s).then(t=>t.data)}function Lr(){const[s,a]=m.useState(!1),{trans:t}=L(),l=E().watch("title"),i=t({message:"Title"});return s?e.jsx(p,{placeholder:i,autoFocus:!0,className:"mb-30",onBlur:()=>{a(!1)},name:"title",required:!0}):e.jsxs("h1",{tabIndex:0,onClick:()=>{a(!0)},onFocus:()=>{a(!0)},className:v("hover:bg-primary/focus rounded cursor-pointer",!l&&"text-muted"),children:[l||i,e.jsx(es,{className:"icon-sm mx-8 mt-8 align-top text-muted"})]})}function og({host:s,value:a="",placeholder:t,onChange:n,className:l,inputRef:i,onInputBlur:o,showLinkIcon:u=!0,pattern:c,minLength:d,maxLength:g,hideButton:f,...b}){const{base_url:y}=we(),w=b.prefix?`/${b.prefix}`:"",k=b.suffix?`/${b.suffix}`:"",[N,F]=m.useState(!1),[A,S]=m.useState(a);s=s||y,m.useEffect(()=>{S(a)},[a]);const Y=()=>{N?(F(!1),A&&(n==null||n(A))):F(!0)};let z="";return A?z=A:t&&(z=mt(t)),e.jsxs("div",{className:v("flex items-center",l),children:[u&&e.jsx(Ja,{className:"icon-md text-muted"}),e.jsxs("div",{className:"text-primary ml-6 mr-14",children:[s,w,!N&&z&&e.jsxs(m.Fragment,{children:[e.jsx("span",{children:"/"}),e.jsx("span",{className:"font-medium",children:z})]}),N?null:k]}),N&&e.jsx(Ye,{pattern:c,minLength:d,maxLength:g,onKeyDown:X=>{X.key==="Enter"&&Y()},ref:i,"aria-label":"slug",autoFocus:!0,className:"mr-14",size:"2xs",value:A,onBlur:o,onChange:X=>{S(X.target.value)}}),!f&&e.jsx(j,{type:"button",color:"chip",variant:"outline",size:"2xs",onClick:()=>{Y()},children:N?e.jsx(r,{message:"Save"}):e.jsx(r,{message:"Edit"})})]})}const ug=B(e.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"UndoOutlined"),cg=B(e.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"RedoOutlined");function dg({editor:s}){return e.jsxs("span",{children:[e.jsx(C,{size:"md",disabled:!s.can().undo(),onClick:()=>{s.commands.focus(),s.commands.undo()},children:e.jsx(ug,{})}),e.jsx(C,{size:"md",disabled:!s.can().redo(),onClick:()=>{s.commands.focus(),s.commands.redo()},children:e.jsx(cg,{})})]})}const Mr=B(e.jsx("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"CodeOutlined");function mg({editor:s}){return e.jsxs(_,{type:"modal",onClose:a=>{a!=null&&(s==null||s.commands.setContent(a))},children:[e.jsx(j,{variant:"text",startIcon:e.jsx(Mr,{}),children:e.jsx(r,{message:"Source"})}),e.jsx(it,{title:e.jsx(r,{message:"Source code"}),defaultValue:s.getHTML()})]})}function vs(){return e.jsx("div",{className:"self-stretch mx-4 w-1 bg-divider flex-shrink-0"})}const hg=B(e.jsx("path",{d:"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"}),"FormatBoldOutlined"),gg=B(e.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z"}),"FormatItalicOutlined"),xg=B(e.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"}),"FormatUnderlinedOutlined");function pg({editor:s,size:a}){return e.jsxs("span",{className:v("flex-shrink-0 whitespace-nowrap"),children:[e.jsx(J,{label:e.jsx(r,{message:"Bold"}),children:e.jsx(C,{size:a,color:s.isActive("bold")?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleBold()},children:e.jsx(hg,{})})}),e.jsx(J,{label:e.jsx(r,{message:"Italic"}),children:e.jsx(C,{size:a,color:s.isActive("italic")?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleItalic()},children:e.jsx(gg,{})})}),e.jsx(J,{label:e.jsx(r,{message:"Underline"}),children:e.jsx(C,{size:a,color:s.isActive("underline")?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleUnderline()},children:e.jsx(xg,{})})})]})}const fg=B(e.jsx("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"}),"FormatListBulletedOutlined"),jg=B(e.jsx("path",{d:"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"}),"FormatListNumberedOutlined");function bg({editor:s,size:a}){const t=s.isActive("bulletList"),n=s.isActive("orderedList");return e.jsxs("span",{className:v("flex-shrink-0","whitespace-nowrap"),children:[e.jsx(J,{label:e.jsx(r,{message:"Bulleted list"}),children:e.jsx(C,{size:a,color:t?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleBulletList()},children:e.jsx(fg,{})})}),e.jsx(J,{label:e.jsx(r,{message:"Numbered list"}),children:e.jsx(C,{size:a,color:n?"primary":null,onClick:()=>{s.commands.focus(),s.commands.toggleOrderedList()},children:e.jsx(jg,{})})})]})}function vg(s,{text:a,target:t,href:n}){s.state.selection.empty&&a?s.commands.insertContent(`<a href="${n}" target="${t}">${a}</a>`):s.state.selection.empty||(n?s.chain().focus().extendMarkRange("link").setLink({href:n,target:t}).run():s.chain().focus().extendMarkRange("link").unsetLink().run())}function yg({editor:s,size:a}){return e.jsxs(_,{type:"modal",children:[e.jsx(J,{label:e.jsx(r,{message:"Insert link"}),children:e.jsx(C,{size:a,className:v("flex-shrink-0"),children:e.jsx(Ja,{})})}),e.jsx(wg,{editor:s})]})}function wg({editor:s}){const a=s.getAttributes("link").href,t=s.state.doc.textBetween(s.state.selection.from,s.state.selection.to,""),n=W({defaultValues:{href:a,text:t,target:"_blank"}}),{formId:l,close:i}=G();return e.jsxs(Z,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Insert link"})}),e.jsx(ee,{children:e.jsxs(ce,{form:n,id:l,onSubmit:o=>{vg(s,o),i()},children:[e.jsx(p,{name:"href",label:e.jsx(r,{message:"URL"}),autoFocus:!0,type:"url",className:"mb-20"}),e.jsx(p,{name:"text",label:e.jsx(r,{message:"Text to display"}),className:"mb-20"}),e.jsxs(U,{selectionMode:"single",name:"target",label:e.jsx(r,{message:"Open link in..."}),children:[e.jsx(x,{value:"_self",children:e.jsx(r,{message:"Current window"})}),e.jsx(x,{value:"_blank",children:e.jsx(r,{message:"New window"})})]})]})}),e.jsxs(ge,{children:[e.jsx(j,{onClick:i,variant:"text",children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{type:"submit",form:l,variant:"flat",color:"primary",children:e.jsx(r,{message:"Save"})})]})]})}const kg=B(e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86-3 3.87L9 13.14 6 17h12l-3.86-5.14z"}),"ImageOutlined"),Cg=2097152;function Sg({editor:s,size:a,diskPrefix:t="page_media"}){const{selectAndUploadFile:n}=Nl(),l=()=>{n({showToastOnRestrictionFail:!0,restrictions:{allowedFileTypes:[Ga.image],maxFileSize:Cg},metadata:{diskPrefix:t,disk:El.public},onSuccess:i=>{s.commands.focus(),s.commands.setImage({src:i.url})}})};return e.jsx(J,{label:e.jsx(r,{message:"Insert image"}),children:e.jsx(C,{size:a,onClick:l,className:v("flex-shrink-0"),children:e.jsx(kg,{})})})}const Dg=B(e.jsx("path",{d:"M20 8V5H6.39l3 3h1.83l-.55 1.28 2.09 2.1L14.21 8zM3.41 4.86 2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21l1.41-1.41z"}),"FormatClearOutlined");function Ng({editor:s,size:a}){return e.jsx(J,{label:e.jsx(r,{message:"Clear formatting"}),children:e.jsx(C,{className:v("flex-shrink-0"),size:a,onClick:()=>{s.chain().focus().clearNodes().unsetAllMarks().run()},children:e.jsx(Dg,{})})})}const Eg=B(e.jsx("path",{fillRule:"evenodd",d:"M4 11h16v2H4z"}),"HorizontalRuleOutlined"),Fg=B([e.jsx("circle",{cx:"12",cy:"19",r:"2"},"0"),e.jsx("path",{d:"M10 3h4v12h-4z"},"1")],"PriorityHighOutlined"),$g=B(e.jsx("path",{d:"M16 4H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99h16c1.1 0 2-.9 2-2v-8l-6-6zM4 18.01V6h11v5h5v7.01H4z"}),"NoteOutlined"),Ag=B([e.jsx("path",{d:"M9.5 7.5v9l7-4.5z"},"0"),e.jsx("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14.01H4V5.99h16v12.02z"},"1")],"SmartDisplayOutlined");function Bg({editor:s,size:a}){const[t,n]=m.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(Ze,{onItemSelected:l=>{l==="hr"?(s.commands.focus(),s.commands.setHorizontalRule()):l==="embed"?n("embed"):(s.commands.focus(),s.commands.addInfo({type:l}))},children:[e.jsx(C,{variant:"text",size:a,className:v("flex-shrink-0"),children:e.jsx(da,{})}),e.jsxs(Xe,{children:[e.jsx(x,{value:"hr",startIcon:e.jsx(Eg,{}),children:e.jsx(r,{message:"Horizontal rule"})}),e.jsx(x,{value:"embed",startIcon:e.jsx(Ag,{}),children:e.jsx(r,{message:"Embed"})}),e.jsx(x,{value:"important",startIcon:e.jsx(Fg,{}),children:e.jsx(r,{message:"Important"})}),e.jsx(x,{value:"warning",startIcon:e.jsx(Fl,{}),children:e.jsx(r,{message:"Warning"})}),e.jsx(x,{value:"success",startIcon:e.jsx($g,{}),children:e.jsx(r,{message:"Note"})})]})]}),e.jsx(_,{type:"modal",isOpen:!!t,onClose:()=>{n(!1)},children:e.jsx(_g,{editor:s})})]})}function _g({editor:s}){const a=s.getAttributes("embed").src,t=W({defaultValues:{src:a}}),{formId:n,close:l}=G();return e.jsxs(Z,{children:[e.jsx(ne,{children:e.jsx(r,{message:"Insert link"})}),e.jsx(ee,{children:e.jsx(ce,{form:t,id:n,onSubmit:i=>{s.commands.setEmbed(i),l()},children:e.jsx(p,{name:"src",label:e.jsx(r,{message:"Embed URL"}),autoFocus:!0,type:"url",required:!0})})}),e.jsxs(ge,{children:[e.jsx(j,{onClick:l,variant:"text",children:e.jsx(r,{message:"Cancel"})}),e.jsx(j,{type:"submit",form:n,disabled:!t.formState.isValid,variant:"flat",color:"primary",children:e.jsx(r,{message:"Add"})})]})]})}function ze({children:s,modifier:a,separator:t="+"}){const n=$l()?e.jsx("span",{className:"text-base align-middle",children:"⌘"}):"Ctrl";return e.jsxs("kbd",{className:"text-xs text-muted",children:[a&&e.jsxs(e.Fragment,{children:[n,t]}),s]})}function zg({editor:s,size:a}){return e.jsxs(Ze,{floatingMinWidth:"w-256",onItemSelected:t=>{s.commands.focus(),typeof t=="string"&&t.startsWith("h")?s.commands.toggleHeading({level:parseInt(t.replace("h",""))}):t==="code"?s.commands.toggleCode():t==="strike"?s.commands.toggleStrike():t==="super"?s.commands.toggleSuperscript():t==="sub"?s.commands.toggleSubscript():t==="blockquote"?s.commands.toggleBlockquote():t==="paragraph"&&s.commands.setParagraph()},children:[e.jsx(j,{className:v("flex-shrink-0"),variant:"text",size:a,endIcon:e.jsx(Al,{}),children:e.jsx(r,{message:"Format"})}),e.jsxs(Xe,{children:[e.jsx(x,{value:"h1",endSection:e.jsx(ze,{modifier:!0,children:"Alt+1"}),children:e.jsx(r,{message:"Heading :number",values:{number:1}})}),e.jsx(x,{value:"h2",endSection:e.jsx(ze,{modifier:!0,children:"Alt+2"}),children:e.jsx(r,{message:"Heading :number",values:{number:2}})}),e.jsx(x,{value:"h3",endSection:e.jsx(ze,{modifier:!0,children:"Alt+3"}),children:e.jsx(r,{message:"Heading :number",values:{number:3}})}),e.jsx(x,{value:"h4",endSection:e.jsx(ze,{modifier:!0,children:"Alt+4"}),children:e.jsx(r,{message:"Heading :number",values:{number:4}})}),e.jsx(x,{value:"code",endSection:e.jsx(ze,{modifier:!0,children:"E"}),children:e.jsx(r,{message:"Code"})}),e.jsx(x,{value:"strike",endSection:e.jsx(ze,{modifier:!0,children:"Shift+X"}),children:e.jsx(r,{message:"Strikethrough"})}),e.jsx(x,{value:"super",endSection:e.jsx(ze,{modifier:!0,separator:" ",children:"."}),children:e.jsx(r,{message:"Superscript"})}),e.jsx(x,{value:"sub",endSection:e.jsx(ze,{modifier:!0,separator:" ",children:","}),children:e.jsx(r,{message:"Subscript"})}),e.jsx(x,{value:"blockquote",endSection:e.jsx(ze,{modifier:!0,children:"Shift+B"}),children:e.jsx(r,{message:"Blockquote"})}),e.jsx(x,{value:"paragraph",endSection:e.jsx(ze,{modifier:!0,children:"Alt+0"}),children:e.jsx(r,{message:"Paragraph"})})]})]})}const Ig=B(e.jsx("path",{d:"M2 20h20v4H2v-4zm3.49-3h2.42l1.27-3.58h5.65L16.09 17h2.42L13.25 3h-2.5L5.49 17zm4.42-5.61 2.03-5.79h.12l2.03 5.79H9.91z"}),"FormatColorTextOutlined"),Tg=B(e.jsx("path",{d:"M16.56 8.94 7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10 10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5zM2 20h20v4H2v-4z"}),"FormatColorFillOutlined");function Pg({editor:s,size:a}){const[t,n]=m.useState(!1),l=s.getAttributes("textStyle").color,i=s.getAttributes("textStyle").backgroundColor;return e.jsxs(m.Fragment,{children:[e.jsxs("span",{className:v("flex-shrink-0 whitespace-nowrap"),children:[e.jsx(C,{size:a,color:l?"primary":null,onClick:()=>{n("text")},children:e.jsx(Ig,{})}),e.jsx(C,{size:a,color:i?"primary":null,onClick:()=>{n("bg")},children:e.jsx(Tg,{})})]}),e.jsx(_,{defaultValue:t==="text"?"#000000":"#FFFFFF",type:"modal",isOpen:!!t,onClose:o=>{o&&(t==="text"?s.commands.setColor(o):s.commands.setBackgroundColor(o)),n(!1)},children:e.jsx(tt,{})})]})}const Lg=B(e.jsx("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"}),"FormatAlignLeftOutlined"),Mg=B(e.jsx("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"}),"FormatAlignCenterOutlined"),Rg=B(e.jsx("path",{d:"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"}),"FormatAlignRightOutlined"),Vg=B(e.jsx("path",{d:"M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"}),"FormatAlignJustifyOutlined"),Qs={left:{icon:Lg,label:h("Align left")},center:{icon:Mg,label:h("Align center")},right:{icon:Rg,label:h("Align right")},justify:{icon:Vg,label:h("Justify")}};function Og({editor:s,size:a}){const t=Object.keys(Qs).find(l=>s.isActive({textAlign:l}))||"left",n=t?Qs[t].icon:Qs.left.icon;return e.jsxs(Ze,{floatingWidth:"auto",selectionMode:"single",selectedValue:t,onSelectionChange:l=>{s.commands.focus(),s.commands.setTextAlign(l)},children:[e.jsx(C,{size:a,color:t?"primary":null,className:v("flex-shrink-0"),children:e.jsx(n,{})}),e.jsx(Xe,{children:Object.entries(Qs).map(([l,i])=>{const o=i.icon;return e.jsx(x,{value:l,startIcon:e.jsx(o,{size:"md"}),capitalizeFirst:!0,children:e.jsx(r,{message:i.label.message})},l)})})]})}const Hg=B(e.jsx("path",{d:"M11 17h10v-2H11v2zm-8-5 4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"}),"FormatIndentDecreaseOutlined"),qg=B(e.jsx("path",{d:"M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"}),"FormatIndentIncreaseOutlined");function Ug({editor:s,size:a}){return e.jsxs("span",{className:v("flex-shrink-0","whitespace-nowrap"),children:[e.jsx(J,{label:e.jsx(r,{message:"Decrease indent"}),children:e.jsx(C,{size:a,onClick:()=>{s.commands.focus(),s.commands.outdent()},children:e.jsx(Hg,{})})}),e.jsx(J,{label:e.jsx(r,{message:"Increase indent"}),children:e.jsx(C,{size:a,onClick:()=>{s.commands.focus(),s.commands.indent()},children:e.jsx(qg,{})})})]})}function Kg({editor:s,size:a}){const t=s.getAttributes("codeBlock").language||"";return e.jsxs(Ze,{selectionMode:"single",selectedValue:t,onSelectionChange:n=>{s.commands.toggleCodeBlock({language:n})},children:[e.jsx(J,{label:e.jsx(r,{message:"Codeblock"}),children:e.jsx(C,{className:v("flex-shrink-0"),size:a,color:t?"primary":null,children:e.jsx(Mr,{})})}),e.jsxs(Xe,{children:[e.jsx(x,{value:"html",children:"HTML"}),e.jsx(x,{value:"javascript",children:"JavaScript"}),e.jsx(x,{value:"css",children:"CSS"}),e.jsx(x,{value:"php",children:"PHP"}),e.jsx(x,{value:"shell",children:"Shell"}),e.jsx(x,{value:"bash",children:"Bash"}),e.jsx(x,{value:"ruby",children:"Ruby"}),e.jsx(x,{value:"python",children:"Python"}),e.jsx(x,{value:"java",children:"Java"}),e.jsx(x,{value:"c++",children:"C++"})]})]})}const qt="flex items-center px-4 h-42 text-muted border-b overflow-hidden";function Wg({editor:s,size:a="md",justify:t="justify-center",hideInsertButton:n=!1,imageDiskPrefix:l}){const i=Te(),[o,u]=m.useState(!1);return e.jsxs("div",{className:v(o?"h-84":"h-42"),children:[e.jsxs("div",{className:v(qt,t,"relative z-20"),children:[e.jsx(zg,{editor:s,size:a}),e.jsx(vs,{}),e.jsx(pg,{editor:s,size:a}),e.jsx(vs,{}),e.jsx(Og,{editor:s,size:a}),e.jsx(Ug,{editor:s,size:a}),e.jsx(vs,{}),i?e.jsx(C,{className:"flex-shrink-0",color:o?"primary":null,size:a,onClick:()=>{u(!o)},children:o?e.jsx(Bl,{}):e.jsx(_l,{})}):e.jsx(Ut,{editor:s,size:a,hideInsertButton:n,imageDiskPrefix:l})]}),e.jsx(ys,{children:o&&e.jsx(Ge.div,{className:v(qt,t,"absolute flex h-full w-full"),initial:{y:"-100%"},animate:{y:0},exit:{y:"-100%"},children:e.jsx(Ut,{editor:s,size:a,imageDiskPrefix:l})})})]})}function Ut({editor:s,size:a="md",hideInsertButton:t,imageDiskPrefix:n}){return e.jsxs(m.Fragment,{children:[e.jsx(bg,{editor:s,size:a}),e.jsx(vs,{}),e.jsx(yg,{editor:s,size:a}),e.jsx(Sg,{editor:s,size:a,diskPrefix:n}),!t&&e.jsx(Bg,{editor:s,size:a}),e.jsx(vs,{}),e.jsx(Pg,{editor:s,size:a}),e.jsx(vs,{}),e.jsx(Kg,{editor:s,size:a}),e.jsx(Ng,{editor:s,size:a})]})}function Rr({editor:s,allowSlugEditing:a=!0,onSave:t,saveButton:n,isLoading:l=!1,backLink:i,slugPrefix:o="pages",imageDiskPrefix:u}){const{isSticky:c,sentinelRef:d}=br(),g=Te();return e.jsxs(m.Fragment,{children:[e.jsx("div",{ref:d}),e.jsxs("div",{className:v("sticky top-0 z-10 mb-20 bg",c&&"shadow"),children:[e.jsxs("div",{className:"flex items-center justify-between gap-20 border-b px-20 py-10 text-muted sm:justify-start",children:[!g&&e.jsxs(m.Fragment,{children:[e.jsx(j,{variant:"text",size:"sm",elementType:q,to:i,relative:"path",startIcon:e.jsx(xi,{}),children:e.jsx(r,{message:"Back"})}),e.jsx("div",{className:"mr-auto",children:a&&e.jsx(Qg,{name:"slug",showLinkIcon:!1,prefix:o})})]}),s&&e.jsx(dg,{editor:s}),!g&&e.jsx(mg,{editor:s}),t&&e.jsx(Gg,{onSave:()=>{t(s.getHTML())},isLoading:l}),n]}),e.jsx(Wg,{editor:s,size:"sm",imageDiskPrefix:u})]})]})}function Gg({onSave:s,isLoading:a}){const n=E().watch("title");return e.jsx(j,{variant:"flat",size:"sm",color:"primary",className:"min-w-90",disabled:a||!n,onClick:()=>s(),children:e.jsx(r,{message:"Save"})})}function Qg({name:s,...a}){const{field:{onChange:t,onBlur:n,value:l="",ref:i}}=Cs({name:s}),o=m.useRef(!1),{watch:u,setValue:c}=E();return m.useEffect(()=>{const d=u((g,{name:f})=>{f==="title"&&!o.current&&c("slug",g.title)});return()=>d.unsubscribe()},[u,c]),e.jsx(og,{className:v(!l&&"invisible"),onChange:d=>{o.current=!0,t(d)},onInputBlur:n,value:l,inputRef:i,...a})}const Yg=I.lazy(()=>Ps(()=>import("./article-body-editor-6f39a706.js"),["./article-body-editor-6f39a706.js","./main-1b1452ea.js","./main-f697cf3d.css","./c-298fa804.js","./article-body-editor-c0ff5600.css"],import.meta.url));function Jg(){const s=zl();return s.data?e.jsxs(m.Fragment,{children:[e.jsx(Il,{query:s}),e.jsx(Zg,{page:s.data.page})]}):e.jsx("div",{className:"relative w-full h-full",children:e.jsx(Tl,{query:s})})}function Zg({page:s}){const a=fe(),t=lg(),n=W({defaultValues:{title:s.title,slug:s.slug,body:s.body}}),l=i=>{t.mutate({...n.getValues(),body:i},{onSuccess:()=>a("../..",{relative:"path"})})};return e.jsx(m.Suspense,{fallback:e.jsx(Je,{}),children:e.jsx(Yg,{initialContent:s.body,children:(i,o)=>e.jsx(Ss,{children:e.jsxs(mn,{...n,children:[e.jsx(Rr,{editor:o,backLink:"../..",isLoading:t.isPending,onSave:l}),e.jsx("div",{className:"mx-20",children:e.jsxs("div",{className:"prose dark:prose-invert mx-auto flex-auto",children:[e.jsx(Lr,{}),i]})})]})})})})}function Xg(s){const a=s||"custom-pages";return M({mutationFn:t=>ex(t,a),onError:t=>se(t),onSuccess:async()=>{await T.invalidateQueries({queryKey:["custom-pages"]}),await T.invalidateQueries({queryKey:Q(a)}),R(h("Page created"))}})}function ex(s,a){return $.post(`${a}`,s).then(t=>t.data)}const sx=I.lazy(()=>Ps(()=>import("./article-body-editor-6f39a706.js"),["./article-body-editor-6f39a706.js","./main-1b1452ea.js","./main-f697cf3d.css","./c-298fa804.js","./article-body-editor-c0ff5600.css"],import.meta.url));function ax(){const s=fe(),a=Xg(),t=W(),n=l=>{a.mutate({...t.getValues(),body:l},{onSuccess:()=>s("../",{relative:"path"})})};return e.jsx(m.Suspense,{fallback:e.jsx(Je,{}),children:e.jsx(sx,{children:(l,i)=>e.jsx(Ss,{children:e.jsxs(mn,{...t,children:[e.jsx(Rr,{editor:i,isLoading:a.isPending,onSave:n,backLink:"../"}),e.jsx("div",{className:"mx-20",children:e.jsxs("div",{className:"prose dark:prose-invert mx-auto flex-auto",children:[e.jsx(Lr,{}),l]})})]})})})})}const tx=""+new URL("font-a5a81d1a.svg",import.meta.url).href;function nx({state:{filters:s,setFilters:a}}){const{trans:t}=L();return e.jsxs("div",{className:"mb-24 items-center gap-24 @xs:flex",children:[e.jsx(Ye,{className:"mb-12 flex-auto @xs:mb-0",value:s.query,onChange:n=>{a({...s,query:n.target.value})},startAdornment:e.jsx(ea,{}),placeholder:t(h("Search fonts"))}),e.jsxs(ks,{className:"flex-auto",selectionMode:"single",selectedValue:s.category,onSelectionChange:n=>{a({...s,category:n})},children:[e.jsx(x,{value:"",children:e.jsx(r,{message:"All categories"})}),e.jsx(x,{value:"serif",children:e.jsx(r,{message:"Serif"})}),e.jsx(x,{value:"sans-serif",children:e.jsx(r,{message:"Sans serif"})}),e.jsx(x,{value:"display",children:e.jsx(r,{message:"Display"})}),e.jsx(x,{value:"handwriting",children:e.jsx(r,{message:"Handwriting"})}),e.jsx(x,{value:"monospace",children:e.jsx(r,{message:"Monospace"})})]})]})}function rx(s){const a=Pl({usage:"search",...s});return{startsWith(t,n){return n.length===0?!0:(t=t.normalize("NFC"),n=n.normalize("NFC"),a.compare(t.slice(0,n.length),n)===0)},endsWith(t,n){return n.length===0?!0:(t=t.normalize("NFC"),n=n.normalize("NFC"),a.compare(t.slice(-n.length),n)===0)},contains(t,n){if(n.length===0)return!0;t=t.normalize("NFC"),n=n.normalize("NFC");let l=0;const i=n.length;for(;l+i<=t.length;l++){const o=t.slice(l,l+i);if(a.compare(n,o)===0)return!0}return!1}}}const lx=[{label:h("System"),family:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',category:"sans-serif"},{family:"Impact, Charcoal, sans-serif",category:"sans-serif"},{family:"Arial, Helvetica Neue, Helvetica, sans-serif",category:"serif"},{family:'"Comic Sans MS", cursive, sans-serif',category:"Handwriting"},{family:"Century Gothic, sans-serif",category:"sans-serif"},{family:'"Courier New", Courier, monospace',category:"monospace"},{family:'"Lucida Sans Unicode", "Lucida Grande", sans-serif',category:"sans-serif"},{family:'"Times New Roman", Times, serif',category:"serif"},{family:'"Lucida Console", Monaco, monospace',category:"monospace"},{family:'"Andele Mono", monospace, sans-serif',category:"sans-serif"},{family:"Verdana, Geneva, sans-serif",category:"sans-serif"},{family:'"Helvetica Neue", Helvetica, Arial, sans-serif',category:"sans-serif"}];function ix({value:s,onChange:a}){const{data:t,isLoading:n}=Fe(["googleFonts"]),[l,i]=m.useState(0),[o,u]=m.useState({query:"",category:(s==null?void 0:s.category)??""}),{contains:c}=rx({sensitivity:"base"}),d=m.useCallback(w=>{u(w),i(0)},[]),g=m.useMemo(()=>lx.concat((t==null?void 0:t.googleFonts)??[]),[t==null?void 0:t.googleFonts]),f=m.useMemo(()=>g.filter(w=>{var k;return c(w.family,o.query)&&(!o.category||((k=w.category)==null?void 0:k.toLowerCase())===o.category.toLowerCase())}),[g,o,c]),b=m.useMemo(()=>yn(f,20),[f]),y=b[l];return m.useEffect(()=>{const w="font-selector";y!=null&&y.length&&Ll(y,{id:w})},[y,l]),{fonts:y||[],currentPage:l,filteredFonts:f||[],setCurrentPage:i,isLoading:n,filters:o,setFilters:d,value:s,onChange:a,pages:b}}function ox({state:{currentPage:s=0,setCurrentPage:a,filteredFonts:t,pages:n}}){const l=(t==null?void 0:t.length)||0;return e.jsxs("div",{className:"flex items-center justify-end gap-24 text-sm mt-30 pt-14 border-t",children:[l>0&&e.jsx("div",{children:e.jsx(r,{message:":from - :to of :total",values:{from:s*20+1,to:Math.min((s+1)*20,l),total:l}})}),e.jsxs("div",{className:"text-muted",children:[e.jsx(C,{disabled:s<1,onClick:()=>{a(Math.max(0,s-1))},children:e.jsx(Xs,{})}),e.jsx(C,{disabled:s>=n.length-1,onClick:()=>{a(s+1)},children:e.jsx(Ms,{})})]})]})}function ux(s){const a=ix(s);return e.jsxs("div",{className:s.className,children:[e.jsx(nx,{state:a}),e.jsx(ys,{initial:!1,mode:"wait",children:e.jsx(cx,{state:a})}),e.jsx(ox,{state:a})]})}function cx({state:s}){const{isLoading:a,fonts:t}=s,n="grid gap-24 grid-cols-[repeat(auto-fill,minmax(90px,1fr))] items-start";return a?e.jsx(mx,{className:n}):t!=null&&t.length?e.jsx(Ge.div,{...ws,className:n,children:t==null?void 0:t.map(l=>e.jsx(dx,{font:l,state:s},l.family))},"font-list"):e.jsx(aa,{className:"mt-60",size:"sm",image:e.jsx(ta,{src:tx}),title:e.jsx(r,{message:"No matching fonts"}),description:e.jsx(r,{message:"Try another search query or different category"})})}function dx({font:s,state:{value:a,onChange:t}}){const n=(a==null?void 0:a.family)===s.family,l=s.family.split(",")[0].replace(/"/g,"");return e.jsxs(na,{display:"block",onClick:()=>{t(s)},children:[e.jsx("span",{className:v("flex aspect-square items-center justify-center rounded-panel border text-4xl transition-bg-color hover:bg-hover md:text-5xl",n&&"ring-2 ring-primary ring-offset-2"),children:e.jsx("span",{style:{fontFamily:s.family},children:"Aa"})}),e.jsx("span",{className:v("mt-6 block overflow-hidden overflow-ellipsis whitespace-nowrap text-sm",n&&"text-primary"),children:s.label?e.jsx(r,{...s.label}):l})]},s.family)}function mx({className:s}){const a=Array.from(Array(20).keys());return e.jsx(Ge.div,{...ws,className:s,children:a.map(t=>e.jsxs("div",{children:[e.jsx("div",{className:"aspect-square",children:e.jsx(rs,{display:"block",variant:"rect"})}),e.jsx(rs,{className:"mt-6 text-sm"})]},t))},"font-list-skeleton")}function hx(){const{setValue:s,watch:a}=E(),{themeIndex:t}=de(),n=`appearance.themes.all.${t}.font`;return e.jsx(ux,{value:a(n),onChange:l=>{s(n,l,{shouldDirty:!0}),V().preview.setThemeFont(l)}})}const gx={"rounded-none":{label:h("Square"),value:"0px"},"rounded-sm":{label:h("Small"),value:"0.125rem"},"rounded-md":{label:h("Medium"),value:"0.25rem"},"rounded-lg":{label:h("Large"),value:"0.5rem"},"rounded-xl":{label:h("Larger"),value:"0.75rem"},"rounded-full":{label:h("Pill"),value:"9999px"}};function xx(){return e.jsxs("div",{className:"space-y-24",children:[e.jsx(Na,{label:e.jsx(r,{message:"Button rounding"}),name:"button-radius"}),e.jsx(Na,{label:e.jsx(r,{message:"Input rounding"}),name:"input-radius"}),e.jsx(Na,{label:e.jsx(r,{message:"Panel rounding"}),name:"panel-radius",hidePill:!0})]})}function Na({label:s,name:a,hidePill:t}){const{themeIndex:n}=de(),{watch:l,setValue:i}=E(),o=`appearance.themes.all.${n}.values.--be-${a}`,u=l(o);return e.jsxs("div",{children:[e.jsx("div",{className:"mb-10 text-sm font-semibold",children:s}),e.jsx("div",{className:"grid grid-cols-3 gap-10 text-sm",children:Object.entries(gx).filter(([c])=>!t||!c.includes("full")).map(([c,{label:d,value:g}])=>e.jsx(px,{radius:c,isActive:g===u,onClick:()=>{i(o,g,{shouldDirty:!0})},children:e.jsx(r,{...d})},c))})]})}function px({radius:s,children:a,isActive:t,onClick:n}){return e.jsx(na,{display:"block",className:v("h-36 border-2 hover:bg-hover",s,t&&"border-primary"),onClick:n,children:a})}const Kt=["schedule","error","outgoing-email"];function fx(){const{pathname:s}=la(),a=s.split("/").pop(),t=Kt.includes(a)?Kt.indexOf(a):0;return e.jsxs(ot,{className:"p-12 md:p-24",selectedTab:t,children:[e.jsxs(ut,{children:[e.jsx(os,{elementType:q,to:"/admin/logs/schedule",replace:!0,children:e.jsx(r,{message:"Schedule"})}),e.jsx(os,{elementType:q,to:"/admin/logs/error",replace:!0,children:e.jsx(r,{message:"Error"})}),e.jsx(os,{elementType:q,to:"/admin/logs/outgoing-email",replace:!0,children:e.jsx(r,{message:"Email"})})]}),e.jsx(Zs,{})]})}function jx({value:s}){return s?e.jsx(Ra,{className:"icon-md text-positive"}):e.jsx(Oe,{className:"icon-md text-danger"})}function Vr(){const{trans:s}=L();return M({mutationFn:a=>bx(a),onSuccess:async(a,t)=>{await T.invalidateQueries({queryKey:Q("logs/schedule")}),R.positive(s(h("Command reran")))},onError:a=>se(a)})}function bx({id:s}){return $.post(`logs/schedule/rerun/${s}`).then(a=>a.data)}const vx=B(e.jsx("path",{d:"M21 12V6c0-1.1-.9-2-2-2h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5V10h14v2h2zm-2-4H5V6h14v2zm-3.36 12c.43 1.45 1.77 2.5 3.36 2.5 1.93 0 3.5-1.57 3.5-3.5s-1.57-3.5-3.5-3.5c-.95 0-1.82.38-2.45 1H18V18h-4v-4h1.5v1.43c.9-.88 2.14-1.43 3.5-1.43 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.44-1.72-4.9-4h1.54z"}),"EventRepeatOutlined"),yx=[{key:"command",allowsSorting:!0,visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Name"}),body:s=>e.jsx(as,{label:s.command,description:s.output})},{key:"ran_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Ran at"}),body:s=>e.jsx(Qa,{date:s.ran_at})},{key:"duration",allowsSorting:!0,header:()=>e.jsx(r,{message:"Duration"}),body:s=>`${s.duration}ms`},{key:"exit_code",allowsSorting:!0,header:()=>e.jsx(r,{message:"Completed"}),body:s=>e.jsx(jx,{value:s.exit_code===0})},{key:"count_in_last_hour",allowsSorting:!0,header:()=>e.jsx(r,{message:"Runs recently"}),body:s=>e.jsx(pi,{value:s.count_in_last_hour})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-42 flex-shrink-0",visibleInMode:"all",body:s=>e.jsx(wx,{item:s})}];function wx({item:s}){const a=Vr();return e.jsx(J,{label:e.jsx(r,{message:"Rerun now"}),children:e.jsx(C,{size:"md",className:"text-muted",disabled:a.isPending,onClick:()=>{a.mutate({id:s.id})},children:e.jsx(vx,{})})})}const kx=""+new URL("timeline-172fbeee.svg",import.meta.url).href,ht=B(e.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z"}),"DownloadOutlined");function Wt(){return e.jsx(Be,{padding:"pt-12 md:pt-24",endpoint:"logs/schedule",title:e.jsx(r,{message:"CRON schedule log"}),columns:yx,actions:e.jsx(Cx,{}),enableSelection:!1,emptyStateMessage:e.jsx(ye,{image:kx,title:e.jsx(r,{message:"No scheduled commands have ran yet"}),filteringTitle:e.jsx(r,{message:"No matching scheduled commands"})})})}function Cx(){return e.jsx(Pe,{elementType:"a",href:"api/v1/logs/schedule/download",download:!0,icon:e.jsx(ht,{}),children:e.jsx(r,{message:"Download log"})})}const Sx=""+new URL("bug-fixing-bd601a66.svg",import.meta.url).href,Dx=[{key:"message",visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Message"}),body:s=>s.message},{key:"datetime",header:()=>e.jsx(r,{message:"Date"}),body:s=>e.jsx(Qa,{date:s.datetime})},{key:"severity",header:()=>e.jsx(r,{message:"Severity"}),body:s=>e.jsxs("span",{className:v("flex items-center gap-6 text-xs capitalize",s.level==="error"?"text-danger":"text-primary"),children:[s.level==="error"?e.jsx(Qt,{size:"sm"}):e.jsx(fi,{size:"sm"}),s.level]})}];function Nx({error:s}){return e.jsxs(Z,{size:"fullscreen",children:[e.jsx(ne,{showDivider:!0,padding:"px-24 py-10",actions:e.jsx(j,{variant:"outline",size:"xs",onClick:()=>Ex(s),children:e.jsx(r,{message:"Download"})}),children:e.jsx(r,{message:"Error details"})}),e.jsx(ee,{children:e.jsx("pre",{className:"whitespace-pre-wrap break-words text-xs leading-5",children:s.exception})})]})}function Ex(s){const a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(s.exception)),a.setAttribute("download",`error-${s.id}.log`),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function Fx(){const{trans:s}=L();return M({mutationFn:a=>$x(a),onSuccess:async()=>{await T.invalidateQueries({queryKey:Q("logs/error")}),R(s(h("Log file deleted")))},onError:a=>se(a)})}function $x({identifier:s}){return $.delete(`logs/error/${s}`).then(a=>a.data)}function Ax(){return e.jsx(Be,{padding:"pt-12 md:pt-24",endpoint:"logs/error",title:e.jsx(r,{message:"Error log"}),onRowAction:s=>{Wa(Nx,{error:s})},columns:Dx,actions:e.jsx(Bx,{}),enableSelection:!1,emptyStateMessage:e.jsx(ye,{image:Sx,title:e.jsx(r,{message:"No errors have been logged yet"}),filteringTitle:e.jsx(r,{message:"No matching error log entries"})})})}function Bx(){var i,o,u;const{query:s,setParams:a}=ma(),t=m.useRef(!1),[n,l]=m.useState(null);return m.useEffect(()=>{var c,d;if((d=(c=s.data)==null?void 0:c.files)!=null&&d.length&&!t.current){t.current=!0;const g=s.data.files[0].identifier;l(s.data.files[0].identifier),g!==s.data.selectedFile&&a({file:s.data.files[0].identifier})}},[s.data,a,t]),e.jsxs(m.Fragment,{children:[e.jsx(_x,{files:((i=s.data)==null?void 0:i.files)??null,selectedFile:n,onSelected:c=>{l(c.identifier),a({file:c.identifier})}}),e.jsx(j,{variant:"outline",color:"danger",disabled:!n,onClick:()=>Wa(zx,{identifier:n}),children:e.jsx(r,{message:"Delete"})}),n&&e.jsx(Pe,{elementType:"a",download:(u=(o=s.data)==null?void 0:o.files.find(c=>c.identifier===n))==null?void 0:u.name,href:`api/v1/logs/error/${n}/download`,icon:e.jsx(ht,{}),children:e.jsx(r,{message:"Download log"})})]})}function _x({files:s,selectedFile:a,onSelected:t}){return s?s.length?e.jsx(ks,{selectionMode:"single",selectedValue:a,size:"sm",minWidth:"min-w-[210px]",children:s==null?void 0:s.map(n=>e.jsxs(x,{value:n.identifier,onSelected:()=>t(n),children:[n.name," (",e.jsx($r,{bytes:n.size}),")"]},n.identifier))}):null:e.jsx(rs,{variant:"rect",className:"max-w-[210px]"})}function zx({identifier:s}){const a=Fx();return e.jsx(Ee,{title:e.jsx(r,{message:"Delete log file"}),body:e.jsx(r,{message:"Are you sure you want to delete this log file?"}),confirm:e.jsx(r,{message:"Delete"}),onConfirm:()=>a.mutate({identifier:s},{onSuccess:()=>Ml()}),isLoading:a.isPending,isDanger:!0})}const Ix=""+new URL("opened-4dded9dc.svg",import.meta.url).href;function Tx(s){return Ie({queryKey:["logs/outgoing-email",s],queryFn:()=>Px(s)})}function Px(s){return $.get(`logs/outgoing-email/${s}`).then(a=>a.data)}function Lx({logItemId:s}){const{data:a}=Tx(s),{base_url:t}=we();return e.jsxs(Z,{size:"fullscreen",children:[e.jsx(ne,{showDivider:!0,padding:"px-24 py-10",actions:e.jsx(j,{variant:"outline",size:"xs",disabled:!a,type:"button",onClick:a?()=>oa(`${t}/api/v1/logs/outgoing-email/${s}/download`):void 0,children:e.jsx(r,{message:"Download"})}),children:e.jsx(r,{message:"Email preview"})}),e.jsx(ee,{children:a?e.jsx("iframe",{srcDoc:a.logItem.parsed_message.body.html,className:"h-max w-full border-none",onLoad:n=>{const l=n.target;l.style.height=l.contentWindow.document.body.scrollHeight+"px"}}):e.jsx("div",{className:"flex min-h-200 items-center justify-center",children:e.jsx(Ls,{isIndeterminate:!0})})})]})}const Mx=[{key:"message_id",allowsSorting:!0,visibleInMode:"all",width:"flex-3 min-w-200",header:()=>e.jsx(r,{message:"Subject"}),body:s=>e.jsx(as,{label:s.subject,description:s.message_id})},{key:"status",allowsSorting:!0,header:()=>e.jsx(r,{message:"Status"}),body:s=>{switch(s.status){case"sent":return e.jsx(Ea,{color:"positive",children:e.jsx(r,{message:"Sent"})});case"not-sent":return e.jsx(Ea,{color:void 0,children:e.jsx(r,{message:"Not sent"})});case"error":return e.jsx(Ea,{color:"danger",children:e.jsx(r,{message:"Error"})})}}},{key:"from",allowsSorting:!0,header:()=>e.jsx(r,{message:"From"}),body:s=>s.from},{key:"to",allowsSorting:!0,header:()=>e.jsx(r,{message:"To"}),body:s=>s.to},{key:"created_at",allowsSorting:!0,header:()=>e.jsx(r,{message:"Date"}),body:s=>e.jsx(Qa,{date:s.created_at})},{key:"actions",header:()=>e.jsx(r,{message:"Actions"}),hideHeader:!0,align:"end",width:"w-42 flex-shrink-0",visibleInMode:"all",body:s=>e.jsx(Rx,{item:s})}];function Rx({item:s}){const a=Vr();return e.jsxs(_,{type:"modal",children:[e.jsx(J,{label:e.jsx(r,{message:"Preview"}),children:e.jsx(C,{size:"md",className:"text-muted",disabled:a.isPending,onClick:()=>{a.mutate({id:s.id})},children:e.jsx(Ar,{})})}),e.jsx(Lx,{logItemId:s.id})]})}function Ea({color:s,children:a}){return e.jsx(Va,{color:s,size:"xs",className:"w-max min-w-50 text-center",children:a})}const Vx=[{key:"status",label:h("Status"),description:h("Status of the outgoing email"),defaultOperator:le.eq,control:{type:oe.Select,defaultValue:"01",options:[{key:"01",label:h("Not sent"),value:"no-sent"},{key:"02",label:h("Sent"),value:"sent"},{key:"03",label:h("Error"),value:"error"}]}},hs({description:h("Date email send was attempted")})];function Ox(){return e.jsx(Be,{padding:"pt-12 md:pt-24",endpoint:"logs/outgoing-email",title:e.jsx(r,{message:"Outgoing email"}),columns:Mx,filters:Vx,actions:e.jsx(Hx,{}),enableSelection:!1,emptyStateMessage:e.jsx(ye,{image:Ix,title:e.jsx(r,{message:"No outgoing emails have been logged yet"}),filteringTitle:e.jsx(r,{message:"No matching emails"})})})}function Hx(){return e.jsx(Pe,{elementType:"a",href:"api/v1/logs/outgoing-email/download",download:!0,icon:e.jsx(ht,{}),children:e.jsx(r,{message:"Download log"})})}const qx=I.lazy(()=>Ps(()=>import("./admin-report-page-3d21429d.js"),["./admin-report-page-3d21429d.js","./main-1b1452ea.js","./main-f697cf3d.css","./TrendingUp-184198eb.js","./Info-4ec284bb.js","./Edit-e3a87656.js","./formatted-price-ac7bb881.js","./use-resume-subscription-8975e7f7.js"],import.meta.url)),Ux=[{path:"appearance",element:e.jsx(ae,{permission:"appearance.update",children:e.jsx(Fu,{})}),children:[{index:!0,element:e.jsx(Nm,{})},{path:"general",element:e.jsx(Zu,{})},{path:"seo-settings",element:e.jsx(oc,{})},{path:"custom-code",element:e.jsx(dc,{})},{path:"themes",element:e.jsx(ac,{})},{path:"themes/:themeIndex",element:e.jsx(Oc,{})},{path:"themes/:themeIndex/font",element:e.jsx(hx,{})},{path:"themes/:themeIndex/radius",element:e.jsx(xx,{})},{path:"menus",element:e.jsx(_u,{})},{path:"menus/:menuIndex",element:e.jsx(qu,{})},{path:"menus/:menuIndex/items/:menuItemIndex",element:e.jsx(Qu,{})},...Object.values(cr.sections).flatMap(s=>s.routes||[])]},{path:"/",element:e.jsx(Ci,{}),children:[...rg,{path:"/",element:e.jsx(I.Suspense,{fallback:e.jsx(Je,{screen:!0}),children:e.jsx(qx,{})})},{path:"users",element:e.jsx(ae,{permission:"users.update",children:e.jsx(no,{})})},{path:"users/new",element:e.jsx(ae,{permission:"users.update",children:e.jsx(am,{})})},{path:"users/:userId/edit",element:e.jsx(ae,{permission:"users.update",children:e.jsx(Zd,{})})},{path:"roles",element:e.jsx(ae,{permission:"roles.update",children:e.jsx($m,{})})},{path:"roles/new",element:e.jsx(ae,{permission:"roles.update",children:e.jsx(Zm,{})})},{path:"roles/:roleId/edit",element:e.jsx(ae,{permission:"roles.update",children:e.jsx(Wm,{})})},{path:"subscriptions",element:e.jsx(ae,{permission:"subscriptions.update",children:e.jsx(Sh,{})})},{path:"plans",element:e.jsx(ae,{permission:"plans.update",children:e.jsx(Mh,{})})},{path:"plans/new",element:e.jsx(ae,{permission:"plans.update",children:e.jsx(sg,{})})},{path:"plans/:productId/edit",element:e.jsx(ae,{permission:"plans.update",children:e.jsx(Jh,{})})},{path:"custom-pages",element:e.jsx(ae,{permission:"custom_pages.update",children:e.jsx(xc,{})})},{path:"custom-pages/new",element:e.jsx(ae,{permission:"custom_pages.update",children:e.jsx(ax,{})})},{path:"custom-pages/:pageId/edit",element:e.jsx(ae,{permission:"custom_pages.update",children:e.jsx(Jg,{})})},{path:"tags",element:e.jsx(ae,{permission:"tags.update",children:e.jsx(uh,{})})},{path:"localizations",element:e.jsx(ae,{permission:"localizations.update",children:e.jsx(gm,{})})},{path:"localizations/:localeId/translate",element:e.jsx(jm,{})},{path:"files",element:e.jsx(ae,{permission:"files.update",children:e.jsx(hh,{})})},{path:"ads",element:e.jsx(ae,{permission:"settings.update",children:e.jsx(Cm,{})})},{path:"settings",element:e.jsx(ae,{permission:"settings.update",children:e.jsx(bc,{})}),children:[{index:!0,element:e.jsx(rn,{to:"general",replace:!0})},{path:"general",element:e.jsx(Fc,{})},{path:"subscriptions",element:e.jsx(Gc,{})},{path:"localization",element:e.jsx(Jc,{})},{path:"authentication",element:e.jsx(Zc,{})},{path:"uploading",element:e.jsx(pd,{})},{path:"outgoing-email",element:e.jsx(Ad,{})},{path:"cache",element:e.jsx(Id,{})},{path:"analytics",element:e.jsx(Wd,{})},{path:"logging",element:e.jsx(Ld,{})},{path:"queue",element:e.jsx(Rd,{})},{path:"recaptcha",element:e.jsx(Hd,{})},{path:"gdpr",element:e.jsx(ag,{})},...Uc]},{path:"logs",element:e.jsx(ae,{permission:"logs.view",children:e.jsx(fx,{})}),children:[{index:!0,element:e.jsx(Wt,{})},{path:"schedule",element:e.jsx(Wt,{})},{path:"error",element:e.jsx(Ax,{})},{path:"outgoing-email",element:e.jsx(Ox,{})}]}]},{path:"*",element:e.jsx(Vl,{})}];function Kx(){return Rl(Ux)}const Zx=Object.freeze(Object.defineProperty({__proto__:null,default:Kx},Symbol.toStringTag,{value:"Module"}));export{Zx as A,Mr as C,ht as D,vx as E,$r as F,Eg as H,kg as I,$g as N,wh as P,cg as R,Ag as S,tm as T,ug as U,Ar as V,Iu as a,zi as b,Mg as c,Vg as d,Lg as e,Rg as f,hg as g,Dg as h,Tg as i,Ig as j,Hg as k,qg as l,gg as m,fg as n,jg as o,xg as p,vn as q,kh as r,Fg as s,Rc as t,Jd as u,Pc as v,Ah as w,zc as x,rx as y,ka as z};
//# sourceMappingURL=admin-routes-884da246.js.map
