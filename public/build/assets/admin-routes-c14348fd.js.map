{"version":3,"mappings":"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","names":["$9446cca9a3875146$export$7d15b64cf5a3a4c4","value","min","max","$9446cca9a3875146$export$e1a7b8e69ef6c52f","step","roundedValue","stepString","pointIndex","precision","pow","$9446cca9a3875146$export$cb6e0bb50bc19463","remainder","snappedValue","$9446cca9a3875146$export$b6268554fba451f","digits","base","AdminSidebar","className","isCompactMode","version","useSettings","jsxs","clsx","jsx","CustomMenu","to","isActive","Trans","useAdminSetupAlerts","useQuery","fetchAlerts","apiClient","response","AdminLayout","DashboardLayout","DashboardNavbar","DashboardSidenav","DashboardContent","SetupAlertsList","Outlet","data","dismissValue","useLocalStorage","shouldShowAlert","SetupAlert","alert","description","SectionHelper","ErrorIcon","setInLocalStorage","UserDatatableFilters","message","FilterOperator","FilterControlType","createdAtFilter","updatedAtFilter","DatatableDataQueryKey","endpoint","params","key","useDatatableData","options","onLoad","signal","paginate","keepPreviousData","resolve","DataTableContext","React","useDataTable","useContext","hasNextPage","pagination","defaultPerPage","perPageOptions","DataTablePaginationFooter","query","onPerPageChange","onPageChange","isMobile","useIsMobileMediaQuery","numberFormatter","useNumberFormatter","_a","perPageSelect","Select","option","Item","IconButton","KeyboardArrowLeftIcon","KeyboardArrowRightIcon","FilterAltIcon","createSvgIcon","AccordionAnimation","Accordion","variant","mode","children","isLazy","other","ref","expandedValues","setExpandedValues","useControlledState","itemsCount","AnimatePresence","FocusScope","child","index","isValidElement","cloneElement","AccordionItem","props","label","disabled","bodyClassName","labelClassName","buttonPadding","startIcon","endAppend","chevronPosition","isFirst","footerContent","onHeaderMouseEnter","onHeaderMouseLeave","useRef","isExpanded","wasExpandedOnce","focusManager","useFocusManager","id","useId","buttonId","panelId","onKeyDown","e","toggle","i","newKeys","chevron","ArrowDropDownIcon","m","BooleanFilterPanel","filter","AddFilterDialog","filters","decodedFilters","useBackendFilterUrlParams","formId","useDialogContext","expandedFilters","setExpandedFilters","useState","f","clearButton","Button","applyButton","Dialog","DialogHeader","DialogBody","FilterList","replaceAll","defaultValues","appliedFilter","form","useForm","close","Form","formValue","filterValue","fieldValue","Checkbox","AddFilterDialogPanel","SelectFilterPanel","ChipFieldFilterPanel","DateRangeFilterPanel","NormalizedModelFilterPanel","InputFilterPanel","CustomComponent","AddFilterButton","icon","color","size","desktopButton","mobileButton","DialogTrigger","DataTableHeader","actions","filtersLoading","searchPlaceholder","searchValue","onSearchChange","trans","useTrans","HeaderLayout","TextField","SearchIcon","domProps","SelectedStateDatatableHeader","selectedItemsCount","FilterListSkeleton","opacityAnimation","Skeleton","DataTable","columns","queryParams","selectedActions","emptyStateMessage","tableDomProps","onRowAction","enableSelection","selectionStyle","cellHeight","collapseTableOnMobile","encodedFilters","setParams","selectedRows","setSelectedRows","BackendFiltersUrlKey","isFiltering","ProgressBar","Table","descriptor","page","perPage","DataTablePage","title","headerContent","headerItemsAlign","padding","dataTableProps","titleId","StaticPageTitle","useDeleteSelectedRows","useMutation","deleteSelectedRows","queryClient","toast","err","showHttpErrorToast","ids","r","DeleteSelectedItemsAction","DeleteItemsDialog","ConfirmationDialog","DataTableEmptyStateMessage","filteringTitle","image","IllustratedMessage","SvgImage","teamSvg","DataTableAddItemButton","elementType","onClick","href","download","AddIcon","useExportCsv","payload","exportCsv","CsvExportInfoDialog","DialogFooter","DataTableExportCsvButton","dialogIsOpen","setDialogIsOpen","Fragment","downloadFileFromUrl","FileDownloadIcon","NameWithAvatar","avatarSize","Avatar","PersonOffIcon","useBanUser","userId","banUser","onFormQueryError","BanUserDialog","user","isPermanent","values","FormDatePicker","FormSwitch","FormTextField","useUnbanUser","unbanUser","useImpersonateUser","impersonateUser","userDatatableColumns","CheckIcon","CloseIcon","ChipList","role","Chip","Link","FormattedDate","Tooltip","EditIcon","UnbanButton","ImpersonateButton","unban","confirmed","impersonate","LoginIcon","UserDatatable","billing","filteredColumns","c","Actions","subscribeWithSelectorImpl","fn","set","get","api","origSubscribe","selector","optListener","listener","equalityFn","currentSlice","state","nextSlice","previousSlice","subscribeWithSelector","chunkArray","array","chunkSize","resultArray","item","chunkIndex","DefaultAppearanceConfig","pathname","parts","p","themeIndex","breadcrumb","rest","chunked","sectionName","sectionIndex","menuIndex","_b","BaseSlider","inline","showValueLabel","width","slider","trackColor","fillColor","trackRef","getThumbPercent","getThumbValueLabel","labelId","groupId","thumbIds","isDisabled","minValue","maxValue","getValueLabel","outputValue","maxLabelLength","style","getInputFieldClassNames","wrapperClassname","getWrapperHeight","getTrackColor","getTrackHeight","getFillColor","wrapperHeight","useSlider","formatOptions","onChangeEnd","onPointerDown","showThumbOnHoverOnly","thumbSize","onPointerMove","isPointerOver","setIsPointerOver","addGlobalListener","removeGlobalListener","useGlobalListeners","setValues","valuesRef","draggedThumbs","setDraggedThumbs","draggedThumbsRef","getFormattedValue","isThumbDragging","getThumbMinValue","getThumbMaxValue","setThumbValue","isThumbEditable","thisMin","thisMax","snapValueToStep","replaceIndex","updateDraggedThumbs","dragging","wasDragging","focusedThumb","setFocusedThumb","getValuePercent","x","setThumbPercent","percent","getPercentValue","getRoundedValue","val","clamp","editableThumbsRef","setThumbEditable","editable","realTimeTrackDraggingIndex","currentPointer","handlePointerDown","_","trackPosition","closestThumb","split","v","lastLeft","firstRight","onUpTrack","currentPosition","moveDomProps","usePointerEvents","deltaX","mergeProps","SliderThumb","isThumbDisabled","ariaLabel","inputRef","onBlur","inputObjRef","useObjectRef","isSliderDisabled","isDragging","focusInput","useCallback","isFocused","useEffect","handlePointerUp","thumbColor","createEventHandler","Slider","onChange","defaultValue","otherProps","baseProps","FormSlider","name","useController","formProps","AppearanceButton","forwardRef","ButtonBase","ColorIcon","u","o","a","t","n","s","d","h","l","g","b","C","E","H","L","w","K","I","y","q","D","S","T","F","X","Y","V","$","J","Q","U","W","Z","qe","ke","Ie","Oe","$2d805fd52bb48883$exports","args","$6c28468dc1df643c$exports","$807554f8230db0ed$exports","$7097f64386f1761c$exports","$bdd847d8beb08799$exports","$a53e00b683950971$exports","$21cdd87e84f28d89$exports","$92fee9698e4d675a$exports","$7ea012e91a5ad3ee$exports","$8460c13bb2d75345$exports","$2a2d5dc14e680587$exports","$9a3f292371bb0589$exports","$4742231a685fa068$exports","$05e247fd2960981e$exports","$a67524a79ccbe190$exports","$a9eefe9d6c8cb7d5$exports","$4a6b836d4f1bfaba$exports","$c950e4b1c482abde$exports","$d10d6b60dc50b438$exports","$371a732b2494f452$exports","$6d042cae6243464b$exports","$d9ab5c2611e0bcd3$exports","$73f77c9902e29ca6$exports","$4f461eb266a95c10$exports","$dc46bea2f2597899$exports","$622bbd6719cc95af$exports","$4da03c1ecd9a9c7d$exports","$edb6b2fe456ed4e8$exports","$264cd81c52b30815$exports","$6f80afde0270dda7$exports","$23a92651c6957668$exports","$0f9b1074d04f4954$exports","$a9cedf75b94e4916$exports","$37cff576474bc8d4$exports","$f98dad178a72c00d$exports","$7n5uc$arAEmodulejs","$7n5uc$bgBGmodulejs","$7n5uc$csCZmodulejs","$7n5uc$daDKmodulejs","$7n5uc$deDEmodulejs","$7n5uc$elGRmodulejs","$7n5uc$enUSmodulejs","$7n5uc$esESmodulejs","$7n5uc$etEEmodulejs","$7n5uc$fiFImodulejs","$7n5uc$frFRmodulejs","$7n5uc$heILmodulejs","$7n5uc$hrHRmodulejs","$7n5uc$huHUmodulejs","$7n5uc$itITmodulejs","$7n5uc$jaJPmodulejs","$7n5uc$koKRmodulejs","$7n5uc$ltLTmodulejs","$7n5uc$lvLVmodulejs","$7n5uc$nbNOmodulejs","$7n5uc$nlNLmodulejs","$7n5uc$plPLmodulejs","$7n5uc$ptBRmodulejs","$7n5uc$ptPTmodulejs","$7n5uc$roROmodulejs","$7n5uc$ruRUmodulejs","$7n5uc$skSKmodulejs","$7n5uc$slSImodulejs","$7n5uc$srSPmodulejs","$7n5uc$svSEmodulejs","$7n5uc$trTRmodulejs","$7n5uc$ukUAmodulejs","$7n5uc$zhCNmodulejs","$7n5uc$zhTWmodulejs","$5b160d28a433310d$var$localeSymbol","$5b160d28a433310d$var$stringsSymbol","$5b160d28a433310d$var$cachedGlobalStrings","$5b160d28a433310d$export$c17fa47878dc55b6","locale","string","strings","$5b160d28a433310d$var$getStringsForLocale","packageName","globalStrings","pkg","dictionary","messages","defaultLocale","language","$5b160d28a433310d$var$getLanguage","$6db58dc88e78b024$var$pluralRulesCache","$6db58dc88e78b024$var$numberFormatCache","$6db58dc88e78b024$export$2f817fcdc4b89ae0","variables","count","type","opt","pluralRules","selected","numberFormat","$parcel$interopDefault","$799cddbef784668f$var$dictionary","$34yyy$LocalizedStringDictionary","$34yyy$intlStringsmodulejs","$799cddbef784668f$export$6e865ea70d7724f","res","$799cddbef784668f$var$RGBColor","$799cddbef784668f$var$HSBColor","$799cddbef784668f$var$HSLColor","$799cddbef784668f$var$ORANGE_LIGHTNESS_THRESHOLD","$799cddbef784668f$var$YELLOW_GREEN_LIGHTNESS_THRESHOLD","$799cddbef784668f$var$MAX_DARK_LIGHTNESS","$799cddbef784668f$var$GRAY_THRESHOLD","$799cddbef784668f$var$OKLCH_HUES","$799cddbef784668f$var$Color","channel","xyChannels","xChannel","yChannel","xCh","yCh","zCh","$799cddbef784668f$var$toOKLCH","hue","lightness","chroma","alpha","formatter","$34yyy$LocalizedStringFormatter","percentTransparent","$34yyy$NumberFormatter","hueName","nextHue","nextHueName","colors","match","num","$34yyy$clamp","_colors_","format","red","green","blue","brightness","saturation","$34yyy$toFixedNumber","$799cddbef784668f$var$HSB_REGEX","_m_","$799cddbef784668f$var$mod","k","$799cddbef784668f$var$HSL_REGEX","rgb","$799cddbef784668f$var$lin_sRGB","z","$799cddbef784668f$var$lin_sRGB_to_XYZ","$799cddbef784668f$var$XYZ_to_OKLab","$799cddbef784668f$var$OKLab_to_OKLCH","$799cddbef784668f$var$lin_sRGB_component","sign","abs","$799cddbef784668f$var$multiplyMatrix","XYZtoLMS","LMStoOKLab","ColorSwatch","presetButtons","isSelected","ColorPresets","DefaultPresets","ColorPicker","colorPresets","showInput","setColor","presets","HexColorPicker","newColor","hex","parseColor","HexColorInput","ColorPickerDialog","hideFooter","setValue","initialValue","newValue","LandingPageSectionGeneral","HeaderSection","FooterSection","defaultImage","useAppearanceStore","appearanceState","FormImageSelector","ColorPickerTrigger","formKey","watch","useFormContext","ucFirst","PermissionSelector","valueListKey","useValueLists","permissions","showAdvanced","setShowAdvanced","groupedPermissions","buildPermissionList","onRestrictionChange","newPermission","groupName","items","anyChecked","prettyName","DoneAllIcon","List","permission","isChecked","ListItem","Switch","Restrictions","setRestrictionValue","nextState","produce","draftState","restriction","isLast","FormPermissionSelector","allPermissions","selectedPermissions","group","mergedPermission","mergeRestrictions","allRestrictions","selectedRestrictions","useAvailableRoutes","menuConfig","mergedAppearanceConfig","route","iconGridStyle","skeletons","IconList","__vitePreload","IconPicker","onIconSelected","Suspense","IconPickerDialog","IconPickerWrapper","usePrevious","MenuItemForm","formPathPrefix","hideRoleAndPermissionFields","prefixName","IconDialogTrigger","DestinationSelector","RoleSelector","TargetSelect","buttonProps","fieldName","watchedItemIcon","Icon","createSvgIconFromTree","iconTree","currentType","previousType","categories","selectedCategory","routeItems","FormSelect","Option","category","roles","FormChipField","useMemo","Section","LandingPageSectionActionButtons","LandingPageSectionPrimaryFeatures","fields","remove","append","useFieldArray","field","FeatureForm","_c","LandingPageSecondaryFeatures","getDefaultImage","AppAppearanceConfig","deepMerge","create","immer","section","preview","postMessage","font","themeId","node","document","window","command","useSaveAppearanceChanges","saveAppearanceChanges","changes","useAppearanceValues","fetchAppearanceValues","SectionHeader","useLocation","getValues","setBreadcrumb","MixedText","AppearanceLayout","isAppearanceEditorActive","useAppearanceEditorMode","base_url","iframeRef","Navigate","Sidebar","spinner","ProgressCircle","AppearanceForm","reset","saveChanges","subscription","Header","FileUploadProvider","isLoading","dirtyFields","isDirty","MenuList","navigate","useNavigate","nanoid","AddMenuItemDialog","AddCustomLink","AddRoute","last","DragIndicatorIcon","dropdownMenu","sortableLineStrategy","sortSession","onDropPositionChange","previousPosition","newPosition","rect","droppables","midY","overIndex","clearLinePreview","addLinePreview","droppableId","droppable","itemIndex","el","side","moveItemInArray","fromIndex","toIndex","from","target","delta","moveItemInNewArray","newArray","transition","sortableTransformStrategy","sortable","currentIndex","rects","newRects","oldRect","newRect","sortableTarget","sortableMoveNodeStrategy","moveNode","newIndex","parentEl","strategies","useSortable","onSortEnd","onSortStart","onDragEnd","strategy","draggableProps","dragHandleRef","useDraggable","getScrollParent","updateRects","droppableProps","useDroppable","oldIndex","MenuEditor","useParams","formPath","menu","MenuEditorSection","has_mobile_app","menuSectionConfig","menuPositions","positions","position","fieldArray","MenuItemsManager","DeleteMenuTrigger","move","menuItemConfig","MenuListItem","isConfirmed","DeleteIcon","sortableProps","iconOnlyLabel","MenuItemEditor","menuItemIndex","MenuItemEditorSection","DeleteItemTrigger","GeneralSection","BrandingImageSelector","SiteNameTextField","SiteDescriptionTextArea","randomNumber","randomBuffer","number","ThemeList","themes","useBootstrapData","lightThemeColors","NavLink","AceEditor","AceDialog","onSave","isSaving","footerStartAction","beautify","editorRef","isValid","setIsValid","Footer","startAction","useSeoTags","fetchTags","useUpdateSeoTags","useQueryClient","updateTags","tags","pages","names","SeoSection","FullPageLoader","TagEditorTrigger","TagsEditorDialog","resetButton","CustomCodeSection","CustomCodeDialogTrigger","articlesSvg","CustomPageDatatableFilters","config","dynamicFilters","USER_MODEL","CustomPageDatatableColumns","LinkStyle","CustomPageDatablePage","SiteConfigContext","AppSettingsNavConfig","filteredSettingsNavConfig","getBootstrapData","SettingsNavConfig","SettingsLayout","MobileNav","DesktopNav","newPage","useAdminSettings","fetchAdminSettings","GenerateSitemap","useGenerateSitemap","isDate","isEmpty","isObject","hasOwnProperty","isEmptyObject","makeObjectWithoutPrototype","diff","lhs","rhs","deletedValues","acc","difference","useUpdateAdminSettings","original","_d","_f","_e","_h","_g","_i","_k","_j","client","server","updateAdminSettings","files","formData","dot","file","SettingsPanel","transformValues","FormWrapper","updateSettings","errors","keys","SettingsSeparator","LearnMoreLink","link","site","LinkIcon","ExternalLink","GeneralSettings","SiteUrlSection","HomepageSection","ThemeSection","SitemapSection","isInvalid","chunks","homepage","selectedType","theme","generateSitemap","url","colorToThemeValue","TuneIcon","ThemeSettingsDialogTrigger","currentTheme","SettingsDialog","RestartAltIcon","ThemeMoreOptionsButton","confirmDialogOpen","setConfirmDialogOpen","deleteTheme","MenuTrigger","path","defaultColors","colorName","themeValue","MoreVertIcon","Menu","MenuItem","navbarColorMap","NavbarColorPicker","selectedValue","previewColor","bgColor","themeValueToHex","colorList","ThemeEditor","selectedFont","initialThemeValue","selectedThemeValue","setSelectedThemeValue","selectThemeValue","valueChanged","DriveSettings","FormRadioGroup","FormRadio","AppSettingsRoutes","SettingsErrorGroup","separatorBottom","separatorTop","error","JsonChipField","invalid","arrayValue","mixedValue","jsonValue","chip","ChipField","TabContext","Tabs","overflow","tabsRef","selectedTab","setSelectedTab","ContextValue","TabLine","setStyle","useLayoutEffect","prevState","TabList","center","expand","childrenArray","Children","Tab","paddingProp","relative","mergedClassname","textColor","tabIndex","Element","TabPanels","panelArray","rendered","panel","TabPanel","setTabIndex","update","walker","getFocusableTreeWalker","observer","SubscriptionSettings","PaypalSection","StripeSection","paypalIsEnabled","stripeEnabled","LocalizationSettings","today","useCurrentDateTime","timezones","timezone","DateFormatPresets","AuthenticationSettings","EmailConfirmationSection","EnvatoSection","GoogleSection","FacebookSection","TwitterSection","MailNotSetupWarning","text","settings","envatoLoginEnabled","googleLoginEnabled","facebookLoginEnabled","twitterLoginEnabled","fetchMaxServerUploadSize","useMaxServerUploadSize","spaceUnits","convertToBytes","unit","MaxValue","FormFileSizeField","setByteValue","byteValue","liveValue","setLiveValue","setUnit","amount","newUnit","fromBytes","newBytes","unitSelect","memoize","bytes","pretty","prettyBytes","useUploadS3Cors","uploadCors","useGenerateDropboxRefreshToken","generateToken","DropboxForm","appKey","appSecret","refreshToken","DropboxRefreshTokenDialog","generateRefreshToken","UploadingSettings","PrivateUploadSection","PublicUploadSection","CredentialsSection","MaxUploadSizeSection","clearErrors","drives","S3Form","FtpForm","DigitalOceanForm","BackblazeForm","S3DirectUploadField","defaultSettings","s3DriverEnabled","MailgunCredentials","SmtpCredentials","SesCredentials","PostmarkCredentials","GmailIcon","ConnectGmailPanel","connectSocial","useSocialLogin","connectedEmail","handleGmailConnect","email","connectButton","reconnectPanel","OutgoingMailGroup","selectedDriver","credentialForms","CredentialsForm","OutgoingEmailSettings","ContactAddressSection","contactPageUrl","clearCache","useClearCache","CacheSettings","CacheSelect","cacheDriver","CredentialSection","MemcachedCredentials","LoggingSettings","SentrySection","QueueSettings","DriverSection","queueDriver","SqsCredentials","RecaptchaSettings","RecaptchaSection","FileField","fieldProps","inputProps","useField","inputFieldClassNames","Field","FormFileField","ReportsSettings","AnalyticsSection","useUpdateUser","updateUser","useStickySentinel","isSticky","setIsSticky","observerRef","sentinelRef","sentinel","CrupdateResourceLayout","onSubmit","subTitle","backButton","disableSaveWhenNotDirty","wrapInContainer","CrupdateUserForm","avatarManager","resendEmailButton","require_email_confirmation","valueLists","ReportIcon","UpdateUserPage","resendConfirmationEmail","useResendVerificationEmail","useUser","banReason","newValues","AvatarSection","uploadAvatar","useUploadAvatar","removeAvatar","useRemoveAvatar","useCreateUser","createUser","CreateUserPage","TranslateIcon","getLocalWithLinesQueryKey","localeId","useLocaleWithLines","fetchLocaleWithLines","UpdateLocalization","useUpdateLocalization","UpdateLocalizationDialog","localization","languages","updateLocalization","createLocalization","useCreateLocalization","CreateLocationDialog","aroundTheWorldSvg","useUploadTranslationFile","uploadFile","columnConfig","RowActionsMenuTrigger","LocalizationIndex","openDialog","openUploadWindow","UploadInputType","NewTranslationDialog","TranslationManagementPage","lines","setLines","searchQuery","setSearchQuery","LinesList","Breadcrumb","BreadcrumbItem","newTranslation","newLines","ActionsMenuTrigger","filteredLines","translation","lowerCaseQuery","rowVirtualizer","useVirtualizer","virtualItem","ImageZoomDialog","images","activeIndex","setActiveIndex","src","AdsPage","AdsForm","ads","ad","AdSection","adConfig","SectionList","sections","sortedSection","RoleIndexPageFilters","RolesIndexPage","Endpoint","useRole","roleId","fetchRole","useUpdateRole","updateRole","CrupdateRolePageSettingsPanel","isInternal","workspaces","watchedType","SelectUserDialog","onUserSelected","searchTerm","setSearchTerm","useNormalizedModels","users","selectUser","UserListItem","useRemoveUsersFromRole","userIds","removeUsersFromRole","useAddUsersToRole","addUsersToRole","userColumn","desktopColumns","mobileColumns","EditRolePageUsersPanel","AssignUserAction","RemoveUsersAction","addUsers","removeUsers","EditRolePage","PageContent","useCreateRole","createRole","CreateRolePage","TagIndexPageFilters","types","softwareEngineerSvg","CrupdateTagForm","isSystem","root","factory","module","this","charMap","locales","replace","replacement","trim","slug","result","ch","appendChar","customMap","slugifyString","strict","slugified","slugify","useCreateNewTag","createNewTag","CreateTagDialog","useUpdateTag","updateTag","UpdateTagDialog","tag","TagIndexPage","FormattedBytes","memo","VisibilityIcon","uploadSvg","entry","FileTypeIcon","FilePreviewDialog","FileEntryIndexPage","FILE_ENTRY_INDEX_FILTERS","SubscriptionIndexPageFilters","timestampFilter","subscriptionsSvg","useUpdateSubscription","updateSubscription","CrupdateSubscriptionForm","useProducts","watchedProductId","selectedProduct","FormNormalizedModelField","product","price","FormattedPrice","UpdateSubscriptionDialog","useCreateSubscription","createNewSubscription","CreateSubscriptionDialog","createSubscription","PauseIcon","PlayArrowIcon","SubscriptionActions","SubscriptionsIndexPage","PageActions","ResumeSubscriptionButton","SuspendSubscriptionButton","CancelSubscriptionButton","cancelSubscription","useCancelSubscription","handleSuspendSubscription","resumeSubscription","useResumeSubscription","handleResumeSubscription","handleDeleteSubscription","SyncIcon","useSyncProducts","syncPlans","useDeleteProduct","updateProduct","productId","PlansIndexPageFilters","DeleteProductButton","PlansIndexPage","deleteProduct","useProduct","fetchProduct","BillingPeriodPresets","PriceForm","onRemovePrice","currencies","isNewProduct","isNewPrice","subscriberCount","billingPeriodPreset","setBillingPeriodPreset","interval","intervalCount","preset","allowPriceChanges","BillingPeriodSelect","CustomBillingPeriodField","onValueChange","setFormValue","maxIntervalCount","CrupdatePlanForm","FeatureListForm","PricingListForm","useUpdateProduct","backendPayload","feature","EditPlanPage","useCreateProduct","createProduct","CreatePlanPage","GdprSettings","CookieNoticeSection","RegistrationPoliciesSection","noticeEnabled","AppAdminRoutes","useUpdateCustomPage","pageId","finalEndpoint","updatePage","ArticleEditorTitle","editingTitle","setEditingTitle","watchedTitle","titlePlaceholder","SlugEditor","host","placeholder","onInputBlur","showLinkIcon","pattern","minLength","maxLength","hideButton","prefix","suffix","isEditing","setIsEditing","handleSubmit","UndoIcon","RedoIcon","HistoryButtons","editor","CodeIcon","ModeButton","Divider","FormatBoldIcon","FormatItalicIcon","FormatUnderlinedIcon","FontStyleButtons","FormatListBulletedIcon","FormatListNumberedIcon","ListButtons","bulletActive","orderedActive","insertLinkIntoTextEditor","LinkButton","LinkDialog","previousUrl","previousText","ImageIcon","TwoMB","ImageButton","diskPrefix","selectAndUploadFile","useActiveUpload","handleUpload","Disk","FormatClearIcon","ClearFormatButton","HorizontalRuleIcon","PriorityHighIcon","NoteIcon","SmartDisplayIcon","InsertMenuTrigger","dialog","setDialog","WarningIcon","EmbedDialog","previousSrc","Keyboard","modifier","separator","modKey","isMac","FormatMenuTrigger","KeyboardArrowDownIcon","FormatColorTextIcon","FormatColorFillIcon","ColorButtons","textActive","backgroundActive","FormatAlignLeftIcon","FormatAlignCenterIcon","FormatAlignRightIcon","FormatAlignJustifyIcon","iconMap","AlignButtons","activeKey","ActiveIcon","FormatIndentDecreaseIcon","FormatIndentIncreaseIcon","IndentButtons","CodeBlockMenuTrigger","MenubarRowClassName","ArticleBodyEditorMenubar","justify","hideInsertButton","imageDiskPrefix","extendedVisible","setExtendedVisible","UnfoldLessIcon","UnfoldMoreIcon","ExtendedButtons","ArticleEditorStickyHeader","allowSlugEditing","saveButton","backLink","slugPrefix","ArrowBackIcon","FormSlugEditor","SaveButton","manuallyChanged","formVal","ArticleBodyEditor","EditCustomPage","useCustomPage","PageMetaTags","PageStatus","crupdatePage","handleSave","editorContent","content","FormProvider","useCreateCustomPage","createPage","CreateCustomPage","fontImage","FontSelectorFilters","setFilters","useFilter","collator","useCollator","substring","scan","sliceLen","slice","BrowserSafeFonts","useFontSelectorState","currentPage","setCurrentPage","setFilterState","contains","allFonts","filteredFonts","fonts","loadFonts","FontSelectorPagination","total","FontSelector","FontList","gridClassName","FontListSkeleton","FontButton","displayName","ThemeFontPanel","radiusMap","ThemeRadiusPanel","RadiusSelector","hidePill","currentValue","PreviewButton","radius","tabs","LogsPage","activeTab","BooleanIndicator","useRerunScheduledCommand","rerunCommand","EventRepeatIcon","ScheduleDatatableColumns","FormattedRelativeTime","FormattedNumber","RerunButton","timelineImage","DownloadIcon","ScheduleLogDatatable","bugFixingImage","ErrorLogDatatableColumns","InfoIcon","ErrorLogEntryDialog","downloadLogItem","useDeleteErrorLog","deleteLogFile","identifier","ErrorLogDatatable","setOnce","selectedFile","setSelectedFile","firstFile","FileSelector","ConfirmDeleteDialog","onSelected","deleteLog","closeDialog","openedImage","useOutgoingEmailLogItemWithMime","fetchLogItem","OutgoingEmailLogEntryDialog","logItemId","iframe","OutgoingEmailLogDatatableColumns","StatusChip","PreviewEmailButton","OutgoingEmailLogDatatableFilters","OutgoingEmailLogDatatable","ReportsPage","AdminRouteConfig","AuthRoute","NotFoundPage","AdminRoutes","useRoutes"],"sources":["../../../node_modules/@react-stately/utils/dist/number.mjs","../../../common/resources/client/admin/admin-sidebar.tsx","../../../common/resources/client/admin/use-admin-setup-alerts.ts","../../../common/resources/client/admin/admin-layout.tsx","../../../common/resources/client/admin/users/user-datatable-filters.ts","../../../common/resources/client/datatable/requests/paginated-resources.ts","../../../common/resources/client/datatable/page/data-table-context.ts","../../../common/resources/client/http/backend-response/pagination-response.ts","../../../common/resources/client/datatable/data-table-pagination-footer.tsx","../../../common/resources/client/icons/material/FilterAlt.tsx","../../../common/resources/client/ui/accordion/accordtion-animation.ts","../../../common/resources/client/ui/accordion/accordion.tsx","../../../common/resources/client/datatable/filters/panels/boolean-filter-panel.tsx","../../../common/resources/client/datatable/filters/add-filter-dialog.tsx","../../../common/resources/client/datatable/filters/add-filter-button.tsx","../../../common/resources/client/datatable/data-table-header.tsx","../../../common/resources/client/datatable/selected-state-datatable-header.tsx","../../../common/resources/client/datatable/filters/filter-list/filter-list-skeleton.tsx","../../../common/resources/client/datatable/data-table.tsx","../../../common/resources/client/datatable/page/data-table-page.tsx","../../../common/resources/client/datatable/requests/delete-selected-rows.ts","../../../common/resources/client/datatable/page/delete-selected-items-action.tsx","../../../common/resources/client/datatable/page/data-table-emty-state-message.tsx","../../../common/resources/client/admin/roles/team.svg","../../../common/resources/client/datatable/data-table-add-item-button.tsx","../../../common/resources/client/datatable/requests/use-export-csv.ts","../../../common/resources/client/datatable/csv-export/csv-export-info-dialog.tsx","../../../common/resources/client/datatable/csv-export/data-table-export-csv-button.tsx","../../../common/resources/client/datatable/column-templates/name-with-avatar.tsx","../../../common/resources/client/icons/material/PersonOff.tsx","../../../common/resources/client/admin/users/requests/use-ban-user.ts","../../../common/resources/client/admin/users/ban-user-dialog.tsx","../../../common/resources/client/admin/users/requests/use-unban-user.ts","../../../common/resources/client/admin/users/requests/use-impersonate-user.ts","../../../common/resources/client/admin/users/user-datatable-columns.tsx","../../../common/resources/client/admin/users/user-datatable.tsx","../../../node_modules/zustand/esm/middleware.mjs","../../../common/resources/client/utils/array/chunk-array.ts","../../../common/resources/client/admin/appearance/config/default-appearance-config.ts","../../../common/resources/client/ui/forms/slider/base-slider.tsx","../../../common/resources/client/ui/forms/slider/use-slider.ts","../../../common/resources/client/ui/forms/slider/slider-thumb.tsx","../../../common/resources/client/ui/forms/slider/slider.tsx","../../../common/resources/client/admin/appearance/appearance-button.tsx","../../../common/resources/client/admin/appearance/sections/themes/color-icon.tsx","../../../node_modules/react-colorful/dist/index.mjs","../../../node_modules/@react-stately/color/dist/ar-AE.mjs","../../../node_modules/@react-stately/color/dist/bg-BG.mjs","../../../node_modules/@react-stately/color/dist/cs-CZ.mjs","../../../node_modules/@react-stately/color/dist/da-DK.mjs","../../../node_modules/@react-stately/color/dist/de-DE.mjs","../../../node_modules/@react-stately/color/dist/el-GR.mjs","../../../node_modules/@react-stately/color/dist/en-US.mjs","../../../node_modules/@react-stately/color/dist/es-ES.mjs","../../../node_modules/@react-stately/color/dist/et-EE.mjs","../../../node_modules/@react-stately/color/dist/fi-FI.mjs","../../../node_modules/@react-stately/color/dist/fr-FR.mjs","../../../node_modules/@react-stately/color/dist/he-IL.mjs","../../../node_modules/@react-stately/color/dist/hr-HR.mjs","../../../node_modules/@react-stately/color/dist/hu-HU.mjs","../../../node_modules/@react-stately/color/dist/it-IT.mjs","../../../node_modules/@react-stately/color/dist/ja-JP.mjs","../../../node_modules/@react-stately/color/dist/ko-KR.mjs","../../../node_modules/@react-stately/color/dist/lt-LT.mjs","../../../node_modules/@react-stately/color/dist/lv-LV.mjs","../../../node_modules/@react-stately/color/dist/nb-NO.mjs","../../../node_modules/@react-stately/color/dist/nl-NL.mjs","../../../node_modules/@react-stately/color/dist/pl-PL.mjs","../../../node_modules/@react-stately/color/dist/pt-BR.mjs","../../../node_modules/@react-stately/color/dist/pt-PT.mjs","../../../node_modules/@react-stately/color/dist/ro-RO.mjs","../../../node_modules/@react-stately/color/dist/ru-RU.mjs","../../../node_modules/@react-stately/color/dist/sk-SK.mjs","../../../node_modules/@react-stately/color/dist/sl-SI.mjs","../../../node_modules/@react-stately/color/dist/sr-SP.mjs","../../../node_modules/@react-stately/color/dist/sv-SE.mjs","../../../node_modules/@react-stately/color/dist/tr-TR.mjs","../../../node_modules/@react-stately/color/dist/uk-UA.mjs","../../../node_modules/@react-stately/color/dist/zh-CN.mjs","../../../node_modules/@react-stately/color/dist/zh-TW.mjs","../../../node_modules/@react-stately/color/dist/intlStrings.mjs","../../../node_modules/@internationalized/string/dist/LocalizedStringDictionary.mjs","../../../node_modules/@internationalized/string/dist/LocalizedStringFormatter.mjs","../../../node_modules/@react-stately/color/dist/Color.mjs","../../../common/resources/client/ui/color-picker/color-swatch.tsx","../../../common/resources/client/ui/color-picker/color-presets.ts","../../../common/resources/client/ui/color-picker/color-picker.tsx","../../../common/resources/client/ui/color-picker/color-picker-dialog.tsx","../../../resources/client/admin/appearance/sections/landing-page-section/landing-page-section-general.tsx","../../../common/resources/client/utils/string/uc-first.ts","../../../common/resources/client/auth/ui/permission-selector.tsx","../../../common/resources/client/admin/appearance/sections/menus/hooks/available-routes.ts","../../../common/resources/client/ui/icon-picker/icon-grid-style.ts","../../../common/resources/client/ui/icon-picker/icon-picker.tsx","../../../common/resources/client/ui/icon-picker/icon-picker-dialog.tsx","../../../common/resources/client/utils/hooks/use-previous.ts","../../../common/resources/client/admin/menus/menu-item-form.tsx","../../../resources/client/admin/appearance/sections/landing-page-section/landing-page-section-action-buttons.tsx","../../../resources/client/admin/appearance/sections/landing-page-section/landing-page-section-primary-features.tsx","../../../resources/client/admin/appearance/sections/landing-page-section/landing-page-section-secondary-features.tsx","../../../resources/client/admin/appearance/app-appearance-config.tsx","../../../common/resources/client/admin/appearance/config/merged-appearance-config.ts","../../../common/resources/client/admin/appearance/appearance-store.ts","../../../common/resources/client/admin/appearance/requests/save-appearance-changes.ts","../../../common/resources/client/admin/appearance/requests/appearance-values.ts","../../../common/resources/client/admin/appearance/section-header.tsx","../../../common/resources/client/admin/appearance/appearance-layout.tsx","../../../common/resources/client/admin/appearance/sections/menus/menu-list.tsx","../../../common/resources/client/admin/appearance/sections/menus/add-menu-item-dialog.tsx","../../../common/resources/client/icons/material/DragIndicator.tsx","../../../common/resources/client/admin/appearance/sections/menus/dropdown-menu.svg","../../../common/resources/client/ui/interactions/dnd/sortable/sortable-line-strategy.ts","../../../common/resources/client/utils/array/move-item-in-array.ts","../../../common/resources/client/utils/array/move-item-in-new-array.ts","../../../common/resources/client/ui/interactions/dnd/sortable/sortable-transform-strategy.ts","../../../common/resources/client/ui/interactions/dnd/sortable/sortable-move-node-strategy.ts","../../../common/resources/client/ui/interactions/dnd/sortable/use-sortable.ts","../../../common/resources/client/admin/appearance/sections/menus/menu-editor.tsx","../../../common/resources/client/admin/appearance/sections/menus/menu-item-editor.tsx","../../../common/resources/client/admin/appearance/sections/general-section.tsx","../../../common/resources/client/utils/string/random-number.ts","../../../common/resources/client/admin/appearance/sections/themes/theme-list.tsx","../../../common/resources/client/ace-editor/ace-dialog.tsx","../../../common/resources/client/admin/appearance/sections/seo/use-seo-tags.ts","../../../common/resources/client/admin/appearance/sections/seo/use-update-seo-tags.ts","../../../common/resources/client/admin/appearance/sections/seo/seo-section.tsx","../../../common/resources/client/admin/appearance/sections/code/custom-code-section.tsx","../../../common/resources/client/admin/custom-pages/articles.svg","../../../common/resources/client/admin/custom-pages/custom-page-datatable-filters.tsx","../../../common/resources/client/admin/custom-pages/custom-page-datatable-columns.tsx","../../../common/resources/client/admin/custom-pages/custom-page-datable-page.tsx","../../../resources/client/admin/settings/app-settings-nav-config.ts","../../../common/resources/client/admin/settings/settings-nav-config.ts","../../../common/resources/client/admin/settings/settings-layout.tsx","../../../common/resources/client/admin/settings/requests/use-admin-settings.ts","../../../common/resources/client/admin/settings/generate-sitemap.ts","../../../node_modules/deep-object-diff/mjs/utils.js","../../../node_modules/deep-object-diff/mjs/diff.js","../../../common/resources/client/admin/settings/requests/update-admin-settings.ts","../../../common/resources/client/admin/settings/settings-panel.tsx","../../../common/resources/client/admin/settings/settings-separator.tsx","../../../common/resources/client/admin/settings/learn-more-link.tsx","../../../common/resources/client/admin/settings/pages/general-settings.tsx","../../../common/resources/client/ui/themes/utils/color-to-theme-value.ts","../../../common/resources/client/icons/material/Tune.tsx","../../../common/resources/client/admin/appearance/sections/themes/theme-settings-dialog-trigger.tsx","../../../common/resources/client/icons/material/RestartAlt.tsx","../../../common/resources/client/admin/appearance/sections/themes/theme-more-options-button.tsx","../../../common/resources/client/admin/appearance/sections/themes/navbar-color-picker.tsx","../../../common/resources/client/ui/themes/utils/theme-value-to-hex.ts","../../../common/resources/client/admin/appearance/sections/themes/theme-editor.tsx","../../../resources/client/admin/settings/drive-settings.tsx","../../../resources/client/admin/settings/app-settings-routes.tsx","../../../common/resources/client/admin/settings/settings-error-group.tsx","../../../common/resources/client/admin/settings/json-chip-field.tsx","../../../common/resources/client/ui/tabs/tabs-context.tsx","../../../common/resources/client/ui/tabs/tabs.tsx","../../../common/resources/client/ui/tabs/tab-line.tsx","../../../common/resources/client/ui/tabs/tab-list.tsx","../../../common/resources/client/ui/tabs/tab.tsx","../../../common/resources/client/ui/tabs/tab-panels.tsx","../../../common/resources/client/admin/settings/pages/subscription-settings.tsx","../../../common/resources/client/admin/settings/pages/localization-settings.tsx","../../../common/resources/client/admin/settings/pages/authentication-settings.tsx","../../../common/resources/client/admin/settings/pages/uploading-settings/max-server-upload-size.ts","../../../common/resources/client/uploads/utils/space-units.ts","../../../common/resources/client/uploads/utils/convert-to-bytes.ts","../../../common/resources/client/ui/forms/input-field/file-size-field.tsx","../../../common/resources/client/admin/settings/pages/uploading-settings/use-upload-s3-cors.ts","../../../common/resources/client/admin/settings/pages/uploading-settings/dropbox-form/use-generate-dropbox-refresh-token.ts","../../../common/resources/client/admin/settings/pages/uploading-settings/dropbox-form/dropbox-form.tsx","../../../common/resources/client/admin/settings/pages/uploading-settings/uploading-settings.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/mailgun-credentials.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/smtp-credentials.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/ses-credentials.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/postmark-credentials.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/gmail-icon.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/connect-gmail-panel.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/outgoing-mail-group.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/outgoing-email-settings.tsx","../../../common/resources/client/admin/settings/pages/cache-settings/clear-cache.ts","../../../common/resources/client/admin/settings/pages/cache-settings/cache-settings.tsx","../../../common/resources/client/admin/settings/pages/logging-settings.tsx","../../../common/resources/client/admin/settings/pages/queue-settings.tsx","../../../common/resources/client/admin/settings/pages/recaptcha-settings.tsx","../../../common/resources/client/ui/forms/input-field/file-field.tsx","../../../common/resources/client/admin/settings/pages/reports-settings.tsx","../../../common/resources/client/admin/users/requests/update-user.ts","../../../common/resources/client/utils/hooks/sticky-sentinel.ts","../../../common/resources/client/admin/crupdate-resource-layout.tsx","../../../common/resources/client/admin/users/crupdate-user-form.tsx","../../../common/resources/client/icons/material/Report.tsx","../../../common/resources/client/admin/users/update-user-page.tsx","../../../common/resources/client/admin/users/requests/create-user.ts","../../../common/resources/client/admin/users/create-user-page.tsx","../../../common/resources/client/icons/material/Translate.tsx","../../../common/resources/client/admin/translations/use-locale-with-lines.ts","../../../common/resources/client/admin/translations/update-localization.ts","../../../common/resources/client/admin/translations/update-localization-dialog.tsx","../../../common/resources/client/admin/translations/create-localization.ts","../../../common/resources/client/admin/translations/create-localization-dialog.tsx","../../../common/resources/client/admin/translations/around-the-world.svg","../../../common/resources/client/admin/translations/use-upload-translation-file.ts","../../../common/resources/client/admin/translations/localization-index.tsx","../../../common/resources/client/admin/translations/new-translation-dialog.tsx","../../../common/resources/client/admin/translations/translation-management-page.tsx","../../../common/resources/client/ui/overlays/dialog/image-zoom-dialog.tsx","../../../common/resources/client/admin/ads/ads-page.tsx","../../../common/resources/client/admin/appearance/section-list.tsx","../../../common/resources/client/admin/roles/role-index-page-filters.ts","../../../common/resources/client/admin/roles/roles-index-page.tsx","../../../common/resources/client/admin/roles/requests/use-role.ts","../../../common/resources/client/admin/roles/requests/use-update-role.ts","../../../common/resources/client/admin/roles/crupdate-role-page/crupdate-role-settings-panel.tsx","../../../common/resources/client/users/select-user-dialog.tsx","../../../common/resources/client/admin/roles/requests/use-remove-users-from-role.ts","../../../common/resources/client/admin/roles/requests/use-add-users-to-role.ts","../../../common/resources/client/admin/roles/crupdate-role-page/edit-role-page-users-panel.tsx","../../../common/resources/client/admin/roles/crupdate-role-page/edit-role-page.tsx","../../../common/resources/client/admin/roles/requests/user-create-role.ts","../../../common/resources/client/admin/roles/crupdate-role-page/create-role-page.tsx","../../../common/resources/client/admin/tags/tag-index-page-filters.ts","../../../common/resources/client/admin/tags/software-engineer.svg","../../../common/resources/client/admin/tags/crupdate-tag-form.tsx","../../../node_modules/slugify/slugify.js","../../../common/resources/client/utils/string/slugify-string.ts","../../../common/resources/client/admin/tags/requests/use-create-new-tag.ts","../../../common/resources/client/admin/tags/create-tag-dialog.tsx","../../../common/resources/client/admin/tags/requests/use-update-tag.ts","../../../common/resources/client/admin/tags/update-tag-dialog.tsx","../../../common/resources/client/admin/tags/tag-index-page.tsx","../../../common/resources/client/uploads/formatted-bytes.tsx","../../../common/resources/client/icons/material/Visibility.tsx","../../../common/resources/client/admin/file-entry/upload.svg","../../../common/resources/client/admin/file-entry/file-entry-index-page.tsx","../../../common/resources/client/admin/subscriptions/subscription-index-page-filters.ts","../../../common/resources/client/admin/subscriptions/subscriptions.svg","../../../common/resources/client/admin/subscriptions/requests/use-update-subscription.ts","../../../common/resources/client/admin/subscriptions/crupdate-subscription-form.tsx","../../../common/resources/client/admin/subscriptions/update-subscription-dialog.tsx","../../../common/resources/client/admin/subscriptions/requests/use-create-subscription.ts","../../../common/resources/client/admin/subscriptions/create-subscription-dialog.tsx","../../../common/resources/client/icons/material/Pause.tsx","../../../common/resources/client/icons/material/PlayArrow.tsx","../../../common/resources/client/admin/subscriptions/subscriptions-index-page.tsx","../../../common/resources/client/icons/material/Sync.tsx","../../../common/resources/client/admin/plans/requests/use-sync-products.ts","../../../common/resources/client/admin/plans/requests/use-delete-product.ts","../../../common/resources/client/admin/plans/plans-index-page-filters.ts","../../../common/resources/client/admin/plans/plans-index-page.tsx","../../../common/resources/client/admin/plans/requests/use-product.ts","../../../common/resources/client/admin/plans/crupdate-plan-page/billing-period-presets.ts","../../../common/resources/client/admin/plans/crupdate-plan-page/price-form.tsx","../../../common/resources/client/admin/plans/crupdate-plan-page/crupdate-plan-form.tsx","../../../common/resources/client/admin/plans/requests/use-update-product.ts","../../../common/resources/client/admin/plans/crupdate-plan-page/edit-plan-page.tsx","../../../common/resources/client/admin/plans/requests/use-create-product.ts","../../../common/resources/client/admin/plans/crupdate-plan-page/create-plan-page.tsx","../../../common/resources/client/admin/settings/pages/gdpr-settings.tsx","../../../resources/client/admin/app-admin-routes.tsx","../../../common/resources/client/admin/custom-pages/requests/use-update-custom-page.ts","../../../common/resources/client/article-editor/article-editor-title.tsx","../../../common/resources/client/ui/slug-editor.tsx","../../../common/resources/client/icons/material/Undo.tsx","../../../common/resources/client/icons/material/Redo.tsx","../../../common/resources/client/text-editor/menubar/history-buttons.tsx","../../../common/resources/client/icons/material/Code.tsx","../../../common/resources/client/text-editor/menubar/mode-button.tsx","../../../common/resources/client/text-editor/menubar/divider.tsx","../../../common/resources/client/icons/material/FormatBold.tsx","../../../common/resources/client/icons/material/FormatItalic.tsx","../../../common/resources/client/icons/material/FormatUnderlined.tsx","../../../common/resources/client/text-editor/menubar/font-style-buttons.tsx","../../../common/resources/client/icons/material/FormatListBulleted.tsx","../../../common/resources/client/icons/material/FormatListNumbered.tsx","../../../common/resources/client/text-editor/menubar/list-buttons.tsx","../../../common/resources/client/text-editor/insert-link-into-text-editor.ts","../../../common/resources/client/text-editor/menubar/link-button.tsx","../../../common/resources/client/icons/material/Image.tsx","../../../common/resources/client/text-editor/menubar/image-button.tsx","../../../common/resources/client/icons/material/FormatClear.tsx","../../../common/resources/client/text-editor/menubar/clear-format-button.tsx","../../../common/resources/client/icons/material/HorizontalRule.tsx","../../../common/resources/client/icons/material/PriorityHigh.tsx","../../../common/resources/client/icons/material/Note.tsx","../../../common/resources/client/icons/material/SmartDisplay.tsx","../../../common/resources/client/text-editor/menubar/insert-menu-trigger.tsx","../../../common/resources/client/ui/keyboard/keyboard.tsx","../../../common/resources/client/text-editor/menubar/format-menu-trigger.tsx","../../../common/resources/client/icons/material/FormatColorText.tsx","../../../common/resources/client/icons/material/FormatColorFill.tsx","../../../common/resources/client/text-editor/menubar/color-buttons.tsx","../../../common/resources/client/icons/material/FormatAlignLeft.tsx","../../../common/resources/client/icons/material/FormatAlignCenter.tsx","../../../common/resources/client/icons/material/FormatAlignRight.tsx","../../../common/resources/client/icons/material/FormatAlignJustify.tsx","../../../common/resources/client/text-editor/menubar/align-buttons.tsx","../../../common/resources/client/icons/material/FormatIndentDecrease.tsx","../../../common/resources/client/icons/material/FormatIndentIncrease.tsx","../../../common/resources/client/text-editor/menubar/indent-buttons.tsx","../../../common/resources/client/text-editor/menubar/code-block-menu-trigger.tsx","../../../common/resources/client/article-editor/article-body-editor-menubar.tsx","../../../common/resources/client/article-editor/article-editor-sticky-header.tsx","../../../common/resources/client/admin/custom-pages/edit-custom-page.tsx","../../../common/resources/client/admin/custom-pages/requests/use-create-custom-page.ts","../../../common/resources/client/admin/custom-pages/create-custom-page.tsx","../../../common/resources/client/ui/font-selector/font.svg","../../../common/resources/client/ui/font-selector/font-selector-filters.tsx","../../../common/resources/client/i18n/use-filter.ts","../../../common/resources/client/ui/font-picker/browser-safe-fonts.ts","../../../common/resources/client/ui/font-selector/font-selector-state.ts","../../../common/resources/client/ui/font-selector/font-selector-pagination.tsx","../../../common/resources/client/ui/font-selector/font-selector.tsx","../../../common/resources/client/admin/appearance/sections/themes/theme-font-panel.tsx","../../../common/resources/client/admin/appearance/sections/themes/theme-radius-panel.tsx","../../../common/resources/client/admin/logging/logs-page.tsx","../../../common/resources/client/datatable/column-templates/boolean-indicator.tsx","../../../common/resources/client/admin/logging/schedule/use-rerurun-scheduled-command.tsx","../../../common/resources/client/icons/material/EventRepeat.tsx","../../../common/resources/client/admin/logging/schedule/schedule-datatable-columns.tsx","../../../common/resources/client/admin/logging/schedule/timeline.svg","../../../common/resources/client/icons/material/Download.tsx","../../../common/resources/client/admin/logging/schedule/schedule-log-datatable.tsx","../../../common/resources/client/admin/logging/error/bug-fixing.svg","../../../common/resources/client/admin/logging/error/error-log-datatable-columns.tsx","../../../common/resources/client/admin/logging/error/error-log-entry-dialog.tsx","../../../common/resources/client/admin/logging/error/use-delete-error-log.ts","../../../common/resources/client/admin/logging/error/error-log-datatable.tsx","../../../common/resources/client/admin/logging/outgoing-email/opened.svg","../../../common/resources/client/admin/logging/outgoing-email/use-outgoing-email-log-item-with-mime.ts","../../../common/resources/client/admin/logging/outgoing-email/outgoing-email-log-entry-dialog.tsx","../../../common/resources/client/admin/logging/outgoing-email/outgoing-email-log-datatable-columns.tsx","../../../common/resources/client/admin/logging/outgoing-email/outgoing-email-log-datatable-filters.tsx","../../../common/resources/client/admin/logging/outgoing-email/outgoing-email-log-datatable.tsx","../../../common/resources/client/admin/admin-routes.tsx"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ /**\n * Takes a value and forces it to the closest min/max if it's outside. Also forces it to the closest valid step.\n */ function $9446cca9a3875146$export$7d15b64cf5a3a4c4(value, min = -Infinity, max = Infinity) {\n    let newValue = Math.min(Math.max(value, min), max);\n    return newValue;\n}\nfunction $9446cca9a3875146$export$e1a7b8e69ef6c52f(value, step) {\n    let roundedValue = value;\n    let stepString = step.toString();\n    let pointIndex = stepString.indexOf('.');\n    let precision = pointIndex >= 0 ? stepString.length - pointIndex : 0;\n    if (precision > 0) {\n        let pow = Math.pow(10, precision);\n        roundedValue = Math.round(roundedValue * pow) / pow;\n    }\n    return roundedValue;\n}\nfunction $9446cca9a3875146$export$cb6e0bb50bc19463(value, min, max, step) {\n    min = Number(min);\n    max = Number(max);\n    let remainder = (value - (isNaN(min) ? 0 : min)) % step;\n    let snappedValue = $9446cca9a3875146$export$e1a7b8e69ef6c52f(Math.abs(remainder) * 2 >= step ? value + Math.sign(remainder) * (step - Math.abs(remainder)) : value - remainder, step);\n    if (!isNaN(min)) {\n        if (snappedValue < min) snappedValue = min;\n        else if (!isNaN(max) && snappedValue > max) snappedValue = min + Math.floor($9446cca9a3875146$export$e1a7b8e69ef6c52f((max - min) / step, step)) * step;\n    } else if (!isNaN(max) && snappedValue > max) snappedValue = Math.floor($9446cca9a3875146$export$e1a7b8e69ef6c52f(max / step, step)) * step;\n    // correct floating point behavior by rounding to step precision\n    snappedValue = $9446cca9a3875146$export$e1a7b8e69ef6c52f(snappedValue, step);\n    return snappedValue;\n}\nfunction $9446cca9a3875146$export$b6268554fba451f(value, digits, base = 10) {\n    const pow = Math.pow(base, digits);\n    return Math.round(value * pow) / pow;\n}\n\n\nexport {$9446cca9a3875146$export$7d15b64cf5a3a4c4 as clamp, $9446cca9a3875146$export$e1a7b8e69ef6c52f as roundToStepPrecision, $9446cca9a3875146$export$cb6e0bb50bc19463 as snapValueToStep, $9446cca9a3875146$export$b6268554fba451f as toFixedNumber};\n//# sourceMappingURL=number.module.js.map\n","import clsx from 'clsx';\r\nimport React from 'react';\r\nimport {CustomMenu} from '../menus/custom-menu';\r\nimport {Trans} from '../i18n/trans';\r\nimport {useSettings} from '../core/settings/use-settings';\r\n\r\ninterface Props {\r\n  className?: string;\r\n  isCompactMode?: boolean;\r\n}\r\nexport function AdminSidebar({className, isCompactMode}: Props) {\r\n  const {version} = useSettings();\r\n  return (\r\n    <div\r\n      className={clsx(\r\n        className,\r\n        'relative flex flex-col gap-20 overflow-y-auto border-r bg-alt px-12 pb-16 pt-26 text-sm font-medium text-muted',\r\n      )}\r\n    >\r\n      <CustomMenu\r\n        matchDescendants={to => to === '/admin'}\r\n        menu=\"admin-sidebar\"\r\n        orientation=\"vertical\"\r\n        onlyShowIcons={isCompactMode}\r\n        itemClassName={({isActive}) =>\r\n          clsx(\r\n            'block w-full rounded-button py-12 px-16',\r\n            isActive\r\n              ? 'bg-primary/6 text-primary font-semibold'\r\n              : 'hover:bg-hover',\r\n          )\r\n        }\r\n        gap=\"gap-8\"\r\n      />\r\n      {!isCompactMode && (\r\n        <div className=\"mt-auto gap-14 px-16 text-xs\">\r\n          <Trans message=\"Version: :number\" values={{number: version}} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import {useQuery} from '@tanstack/react-query';\r\nimport {apiClient} from '@common/http/query-client';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\n\r\nexport interface AdminSetupAlert {\r\n  title: string;\r\n  description: string;\r\n}\r\n\r\ninterface Response extends BackendResponse {\r\n  alerts: AdminSetupAlert[];\r\n}\r\n\r\nexport function useAdminSetupAlerts() {\r\n  return useQuery({\r\n    queryKey: ['admin-setup-alerts'],\r\n    queryFn: () => fetchAlerts(),\r\n  });\r\n}\r\n\r\nfunction fetchAlerts() {\r\n  return apiClient\r\n    .get<Response>(`admin/setup-alerts`)\r\n    .then(response => response.data);\r\n}\r\n","import {Outlet} from 'react-router-dom';\r\nimport {AdminSidebar} from './admin-sidebar';\r\nimport {DashboardLayout} from '../ui/layout/dashboard-layout';\r\nimport {DashboardContent} from '../ui/layout/dashboard-content';\r\nimport {DashboardSidenav} from '../ui/layout/dashboard-sidenav';\r\nimport {DashboardNavbar} from '../ui/layout/dashboard-navbar';\r\nimport {\r\n  AdminSetupAlert,\r\n  useAdminSetupAlerts,\r\n} from '@common/admin/use-admin-setup-alerts';\r\nimport {SectionHelper} from '@common/ui/section-helper';\r\nimport {ErrorIcon} from '@common/icons/material/Error';\r\nimport {\r\n  setInLocalStorage,\r\n  useLocalStorage,\r\n} from '@common/utils/hooks/local-storage';\r\n\r\nexport function AdminLayout() {\r\n  return (\r\n    <DashboardLayout name=\"admin\" leftSidenavCanBeCompact>\r\n      <DashboardNavbar size=\"sm\" menuPosition=\"admin-navbar\" />\r\n      <DashboardSidenav position=\"left\" size=\"sm\">\r\n        <AdminSidebar />\r\n      </DashboardSidenav>\r\n      <DashboardContent>\r\n        <div className=\"bg dark:bg-alt\">\r\n          <SetupAlertsList />\r\n          <Outlet />\r\n        </div>\r\n      </DashboardContent>\r\n    </DashboardLayout>\r\n  );\r\n}\r\n\r\nfunction SetupAlertsList() {\r\n  const {data} = useAdminSetupAlerts();\r\n  const [dismissValue] = useLocalStorage<{\r\n    timestamp: number;\r\n  } | null>('admin-setup-alert-dismissed', null);\r\n\r\n  // show alert if 1 day passed since last dismiss\r\n  const shouldShowAlert =\r\n    !dismissValue || Date.now() - dismissValue.timestamp > 86400000;\r\n\r\n  if (!data?.alerts.length || !shouldShowAlert) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed left-0 right-0 top-24 z-10 mx-auto w-max overflow-hidden rounded-panel bg shadow-md\">\r\n      <SetupAlert alert={data.alerts[0]} />\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface SetupAlertProps {\r\n  alert: AdminSetupAlert;\r\n}\r\nfunction SetupAlert({alert}: SetupAlertProps) {\r\n  const description = (\r\n    <div dangerouslySetInnerHTML={{__html: alert.description}}></div>\r\n  );\r\n  return (\r\n    <SectionHelper\r\n      leadingIcon={<ErrorIcon size=\"xs\" className=\"text-danger\" />}\r\n      onClose={() => {\r\n        setInLocalStorage('admin-setup-alert-dismissed', {\r\n          timestamp: Date.now(),\r\n        });\r\n      }}\r\n      key={alert.title}\r\n      title={alert.title}\r\n      description={description}\r\n      color=\"neutral\"\r\n    />\r\n  );\r\n}\r\n","import {\r\n  BackendFilter,\r\n  FilterControlType,\r\n  FilterOperator,\r\n} from '../../datatable/filters/backend-filter';\r\nimport {\r\n  createdAtFilter,\r\n  updatedAtFilter,\r\n} from '../../datatable/filters/timestamp-filters';\r\nimport {message} from '../../i18n/message';\r\n\r\nexport const UserDatatableFilters: BackendFilter[] = [\r\n  {\r\n    key: 'email_verified_at',\r\n    label: message('Email'),\r\n    description: message('Email verification status'),\r\n    defaultOperator: FilterOperator.ne,\r\n    control: {\r\n      type: FilterControlType.Select,\r\n      defaultValue: '01',\r\n      options: [\r\n        {\r\n          key: '01',\r\n          label: message('is confirmed'),\r\n          value: {value: null, operator: FilterOperator.ne},\r\n        },\r\n        {\r\n          key: '02',\r\n          label: message('is not confirmed'),\r\n          value: {value: null, operator: FilterOperator.eq},\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  createdAtFilter({\r\n    description: message('Date user registered or was created'),\r\n  }),\r\n  updatedAtFilter({\r\n    description: message('Date user was last updated'),\r\n  }),\r\n  {\r\n    key: 'subscriptions',\r\n    label: message('Subscription'),\r\n    description: message('Whether user is subscribed or not'),\r\n    defaultOperator: FilterOperator.eq,\r\n    control: {\r\n      type: FilterControlType.Select,\r\n      defaultValue: '01',\r\n      options: [\r\n        {\r\n          key: '01',\r\n          label: message('is subscribed'),\r\n          value: {value: '*', operator: FilterOperator.has},\r\n        },\r\n        {\r\n          key: '02',\r\n          label: message('is not subscribed'),\r\n          value: {value: '*', operator: FilterOperator.doesntHave},\r\n        },\r\n      ],\r\n    },\r\n  },\r\n];\r\n","import {\r\n  keepPreviousData,\r\n  useQuery,\r\n  UseQueryOptions,\r\n} from '@tanstack/react-query';\r\nimport {PaginatedBackendResponse} from '../../http/backend-response/pagination-response';\r\nimport {apiClient} from '../../http/query-client';\r\n\r\nexport interface GetDatatableDataParams {\r\n  orderBy?: string;\r\n  orderDir?: 'asc' | 'desc';\r\n  filters?: string | null;\r\n  query?: string;\r\n  with?: string;\r\n  perPage?: number | string | null;\r\n  page?: number | string;\r\n  [key: string]: string | number | boolean | undefined | null;\r\n}\r\n\r\nexport const DatatableDataQueryKey = (\r\n  endpoint: string,\r\n  params?: GetDatatableDataParams | Record<string, string | number | boolean>,\r\n) => {\r\n  // split endpoint by slash, so we can clear cache from the root later,\r\n  // for example, 'link-group' will clear 'link-group/1/links' endpoint\r\n  const key: (string | GetDatatableDataParams)[] = endpoint.split('/');\r\n  if (params) {\r\n    key.push(params);\r\n  }\r\n  return key;\r\n};\r\n\r\nexport function useDatatableData<T = object>(\r\n  endpoint: string,\r\n  params: GetDatatableDataParams,\r\n  options?: Omit<\r\n    UseQueryOptions<\r\n      PaginatedBackendResponse<T>,\r\n      unknown,\r\n      PaginatedBackendResponse<T>,\r\n      any[]\r\n    >,\r\n    'queryKey' | 'queryFn'\r\n  >,\r\n  onLoad?: (data: PaginatedBackendResponse<T>) => void,\r\n) {\r\n  return useQuery({\r\n    queryKey: DatatableDataQueryKey(endpoint, params),\r\n    queryFn: ({signal}) => paginate<T>(endpoint, params, onLoad, signal),\r\n    placeholderData: keepPreviousData,\r\n    ...options,\r\n  });\r\n}\r\n\r\nasync function paginate<T>(\r\n  endpoint: string,\r\n  params: GetDatatableDataParams,\r\n  onLoad?: (data: PaginatedBackendResponse<T>) => void,\r\n  signal?: AbortSignal,\r\n): Promise<PaginatedBackendResponse<T>> {\r\n  if (params.query) {\r\n    await new Promise(resolve => setTimeout(resolve, 300));\r\n  }\r\n  const response = await apiClient\r\n    .get(endpoint, {params, signal: params.query ? signal : undefined})\r\n    .then(response => response.data);\r\n  onLoad?.(response);\r\n  return response;\r\n}\r\n","import React, {useContext} from 'react';\r\nimport {GetDatatableDataParams} from '../requests/paginated-resources';\r\nimport {UseQueryResult} from '@tanstack/react-query';\r\nimport {PaginatedBackendResponse} from '../../http/backend-response/pagination-response';\r\n\r\nexport interface DataTableContextValue<T = unknown, A = unknown> {\r\n  selectedRows: (string | number)[];\r\n  setSelectedRows: (keys: (string | number)[]) => void;\r\n  endpoint: string;\r\n  params: GetDatatableDataParams;\r\n  setParams: (value: GetDatatableDataParams) => void;\r\n  query: UseQueryResult<PaginatedBackendResponse<T> & A, unknown>;\r\n}\r\n\r\nexport const DataTableContext = React.createContext<DataTableContextValue>(\r\n  null!,\r\n);\r\n\r\nexport function useDataTable<T = unknown, A = unknown>() {\r\n  return useContext(DataTableContext) as DataTableContextValue<T, A>;\r\n}\r\n","import {BackendResponse} from './backend-response';\r\n\r\nexport interface LengthAwarePaginationResponse<T> {\r\n  data: T[];\r\n  from: number;\r\n  to: number;\r\n  total: number;\r\n  per_page: number;\r\n  current_page: number;\r\n  last_page: number;\r\n  next_page: number;\r\n  prev_page: number;\r\n}\r\n\r\nexport interface SimplePaginationResponse<T> {\r\n  data: T[];\r\n  from: number;\r\n  to: number;\r\n  per_page: number;\r\n  current_page: number;\r\n}\r\n\r\ninterface CursorPaginationResponse<T> {\r\n  data: T[];\r\n  next_cursor: string | null;\r\n  per_page: number;\r\n  prev_cursor: string | null;\r\n}\r\n\r\nexport type PaginationResponse<T> =\r\n  | LengthAwarePaginationResponse<T>\r\n  | SimplePaginationResponse<T>\r\n  | CursorPaginationResponse<T>;\r\n\r\nexport const EMPTY_PAGINATION_RESPONSE = {\r\n  pagination: {data: [], from: 0, to: 0, per_page: 15, current_page: 1},\r\n};\r\n\r\nexport interface PaginatedBackendResponse<T> extends BackendResponse {\r\n  pagination: PaginationResponse<T>;\r\n}\r\n\r\nexport function hasNextPage(pagination: PaginationResponse<unknown>): boolean {\r\n  if ('next_cursor' in pagination) {\r\n    return pagination.next_cursor != null;\r\n  }\r\n\r\n  if ('last_page' in pagination) {\r\n    return pagination.current_page < pagination.last_page;\r\n  }\r\n\r\n  return (\r\n    pagination.data.length > 0 && pagination.data.length >= pagination.per_page\r\n  );\r\n}\r\n","import {UseQueryResult} from '@tanstack/react-query';\r\nimport {\r\n  hasNextPage,\r\n  LengthAwarePaginationResponse,\r\n  PaginatedBackendResponse,\r\n} from '../http/backend-response/pagination-response';\r\nimport {useNumberFormatter} from '../i18n/use-number-formatter';\r\nimport {Select} from '../ui/forms/select/select';\r\nimport {Trans} from '../i18n/trans';\r\nimport {Item} from '../ui/forms/listbox/item';\r\nimport {IconButton} from '../ui/buttons/icon-button';\r\nimport {KeyboardArrowLeftIcon} from '../icons/material/KeyboardArrowLeft';\r\nimport {KeyboardArrowRightIcon} from '../icons/material/KeyboardArrowRight';\r\nimport React from 'react';\r\nimport {useIsMobileMediaQuery} from '../utils/hooks/is-mobile-media-query';\r\nimport clsx from 'clsx';\r\n\r\nconst defaultPerPage = 15;\r\nconst perPageOptions = [{key: 10}, {key: 15}, {key: 20}, {key: 50}, {key: 100}];\r\n\r\ntype DataTablePaginationFooterProps = {\r\n  query: UseQueryResult<PaginatedBackendResponse<unknown>, unknown>;\r\n  onPerPageChange?: (perPage: number) => void;\r\n  onPageChange?: (page: number) => void;\r\n  className?: string;\r\n};\r\nexport function DataTablePaginationFooter({\r\n  query,\r\n  onPerPageChange,\r\n  onPageChange,\r\n  className,\r\n}: DataTablePaginationFooterProps) {\r\n  const isMobile = useIsMobileMediaQuery();\r\n  const numberFormatter = useNumberFormatter();\r\n  const pagination = query.data\r\n    ?.pagination as LengthAwarePaginationResponse<any>;\r\n\r\n  if (!pagination) return null;\r\n\r\n  const perPageSelect = onPerPageChange ? (\r\n    <Select\r\n      minWidth=\"min-w-auto\"\r\n      selectionMode=\"single\"\r\n      disabled={query.isLoading}\r\n      labelPosition=\"side\"\r\n      size=\"xs\"\r\n      label={<Trans message=\"Items per page\" />}\r\n      selectedValue={pagination.per_page || defaultPerPage}\r\n      onSelectionChange={value => onPerPageChange(value as number)}\r\n    >\r\n      {perPageOptions.map(option => (\r\n        <Item key={option.key} value={option.key}>\r\n          {option.key}\r\n        </Item>\r\n      ))}\r\n    </Select>\r\n  ) : null;\r\n\r\n  return (\r\n    <div\r\n      className={clsx(\r\n        'flex h-54 select-none items-center justify-end gap-20 px-20',\r\n        className,\r\n      )}\r\n    >\r\n      {!isMobile && perPageSelect}\r\n      {pagination.from && pagination.to && 'total' in pagination ? (\r\n        <div className=\"text-sm\">\r\n          <Trans\r\n            message=\":from - :to of :total\"\r\n            values={{\r\n              from: pagination.from,\r\n              to: pagination.to,\r\n              total: numberFormatter.format(pagination.total),\r\n            }}\r\n          />\r\n        </div>\r\n      ) : null}\r\n      <div className=\"text-muted\">\r\n        <IconButton\r\n          disabled={query.isFetching || pagination.current_page < 2}\r\n          onClick={() => {\r\n            onPageChange?.(pagination?.current_page - 1);\r\n          }}\r\n        >\r\n          <KeyboardArrowLeftIcon />\r\n        </IconButton>\r\n        <IconButton\r\n          disabled={query.isFetching || !hasNextPage(pagination)}\r\n          onClick={() => {\r\n            onPageChange?.(pagination?.current_page + 1);\r\n          }}\r\n        >\r\n          <KeyboardArrowRightIcon />\r\n        </IconButton>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FilterAltIcon = createSvgIcon(\r\n  <path d=\"M7 6h10l-5.01 6.3L7 6zm-2.75-.39C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z\" />\r\n, 'FilterAltOutlined');\r\n","export const AccordionAnimation = {\r\n  variants: {\r\n    open: {\r\n      height: 'auto',\r\n      visibility: 'visible',\r\n      transitionEnd: {\r\n        overflow: 'auto',\r\n      },\r\n    },\r\n    closed: {\r\n      height: 0,\r\n      overflow: 'hidden',\r\n      transitionEnd: {\r\n        visibility: 'hidden',\r\n      },\r\n    },\r\n  },\r\n  transition: {type: 'tween', duration: 0.2},\r\n} as const;\r\n","import React, {\r\n  cloneElement,\r\n  isValidElement,\r\n  ReactElement,\r\n  ReactNode,\r\n  useId,\r\n  useRef,\r\n} from 'react';\r\nimport clsx from 'clsx';\r\nimport {AnimatePresence, m} from 'framer-motion';\r\nimport {useControlledState} from '@react-stately/utils';\r\nimport {FocusScope, useFocusManager} from '@react-aria/focus';\r\nimport {AccordionAnimation} from '@common/ui/accordion/accordtion-animation';\r\nimport {ArrowDropDownIcon} from '@common/icons/material/ArrowDropDown';\r\n\r\ntype Props = {\r\n  variant?: 'outline' | 'default' | 'minimal';\r\n  children?: ReactNode;\r\n  mode?: 'single' | 'multiple';\r\n  expandedValues?: (string | number)[];\r\n  defaultExpandedValues?: (string | number)[];\r\n  onExpandedChange?: (key: (string | number)[]) => void;\r\n  className?: string;\r\n  isLazy?: boolean;\r\n};\r\nexport const Accordion = React.forwardRef<HTMLDivElement, Props>(\r\n  (\r\n    {\r\n      variant = 'default',\r\n      mode = 'single',\r\n      children,\r\n      className,\r\n      isLazy,\r\n      ...other\r\n    },\r\n    ref,\r\n  ) => {\r\n    const [expandedValues, setExpandedValues] = useControlledState(\r\n      other.expandedValues,\r\n      other.defaultExpandedValues || [],\r\n      other.onExpandedChange,\r\n    );\r\n\r\n    const itemsCount = React.Children.count(children);\r\n\r\n    return (\r\n      <div\r\n        className={clsx(variant === 'outline' && 'space-y-10', className)}\r\n        ref={ref}\r\n        role=\"presentation\"\r\n      >\r\n        <AnimatePresence>\r\n          <FocusScope>\r\n            {React.Children.map(children, (child, index) => {\r\n              if (!isValidElement<AccordionItemProps>(child)) return null;\r\n              return cloneElement<AccordionItemProps>(child, {\r\n                key: child.key || index,\r\n                value: child.props.value || index,\r\n                isFirst: index === 0,\r\n                isLast: index === itemsCount - 1,\r\n                mode,\r\n                variant,\r\n                expandedValues,\r\n                setExpandedValues,\r\n                isLazy,\r\n              });\r\n            })}\r\n          </FocusScope>\r\n        </AnimatePresence>\r\n      </div>\r\n    );\r\n  },\r\n);\r\n\r\ninterface AccordionItemProps {\r\n  children: ReactNode;\r\n  disabled?: boolean;\r\n  label: ReactNode;\r\n  description?: ReactNode;\r\n  value?: string | number;\r\n  isFirst?: boolean;\r\n  isLast?: boolean;\r\n  bodyClassName?: string;\r\n  labelClassName?: string;\r\n  buttonPadding?: string;\r\n  chevronPosition?: 'left' | 'right';\r\n  startIcon?: ReactElement;\r\n  endAppend?: ReactElement;\r\n  variant?: 'outline' | 'default' | 'minimal';\r\n  expandedValues?: (string | number)[];\r\n  setExpandedValues?: (keys: (string | number)[]) => void;\r\n  mode?: 'single' | 'multiple';\r\n  footerContent?: ReactNode;\r\n  isLazy?: boolean;\r\n  onHeaderMouseEnter?: () => void;\r\n  onHeaderMouseLeave?: () => void;\r\n}\r\nexport function AccordionItem(props: AccordionItemProps) {\r\n  const {\r\n    children,\r\n    label,\r\n    disabled,\r\n    bodyClassName,\r\n    labelClassName,\r\n    buttonPadding = 'py-10 pl-14 pr-10',\r\n    startIcon,\r\n    description,\r\n    endAppend,\r\n    chevronPosition = 'right',\r\n    isFirst,\r\n    mode,\r\n    isLazy,\r\n    variant,\r\n    footerContent,\r\n    onHeaderMouseEnter,\r\n    onHeaderMouseLeave,\r\n  } = props;\r\n  const expandedValues = props.expandedValues || [];\r\n  const value = props.value || 0;\r\n  const setExpandedValues = props.setExpandedValues || (() => {});\r\n  const ref = useRef<HTMLButtonElement>(null);\r\n  const isExpanded = !disabled && expandedValues!.includes(value!);\r\n  const wasExpandedOnce = useRef(false);\r\n  if (isExpanded) {\r\n    wasExpandedOnce.current = true;\r\n  }\r\n  const focusManager = useFocusManager();\r\n  const id = useId();\r\n  const buttonId = `${id}-button`;\r\n  const panelId = `${id}-panel`;\r\n\r\n  const onKeyDown = (e: React.KeyboardEvent<HTMLButtonElement>) => {\r\n    switch (e.key) {\r\n      case 'ArrowDown':\r\n        focusManager?.focusNext();\r\n        break;\r\n      case 'ArrowUp':\r\n        focusManager?.focusPrevious();\r\n        break;\r\n      case 'Home':\r\n        focusManager?.focusFirst();\r\n        break;\r\n      case 'End':\r\n        focusManager?.focusLast();\r\n        break;\r\n    }\r\n  };\r\n\r\n  const toggle = () => {\r\n    const i = expandedValues.indexOf(value);\r\n    if (i > -1) {\r\n      const newKeys = [...expandedValues];\r\n      newKeys.splice(i, 1);\r\n      setExpandedValues(newKeys);\r\n    } else if (mode === 'single') {\r\n      setExpandedValues([value]);\r\n    } else {\r\n      setExpandedValues([...expandedValues, value]);\r\n    }\r\n  };\r\n\r\n  const chevron = (\r\n    <div className={clsx(variant === 'minimal' && '')}>\r\n      <ArrowDropDownIcon\r\n        aria-hidden=\"true\"\r\n        size=\"md\"\r\n        className={clsx(\r\n          disabled ? 'text-disabled' : 'text-muted',\r\n          isExpanded && 'rotate-180 transition-transform',\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className={clsx(\r\n        variant === 'default' && 'border-b',\r\n        variant === 'outline' && 'rounded-panel border',\r\n        disabled && 'text-disabled',\r\n      )}\r\n    >\r\n      <h3\r\n        className={clsx(\r\n          'flex w-full items-center justify-between text-sm',\r\n          disabled && 'pointer-events-none',\r\n          isFirst && variant === 'default' && 'border-t',\r\n          isExpanded && variant !== 'minimal'\r\n            ? 'border-b'\r\n            : 'border-b border-b-transparent',\r\n          variant === 'outline'\r\n            ? isExpanded\r\n              ? 'rounded-panel-t'\r\n              : 'rounded-panel'\r\n            : undefined,\r\n        )}\r\n        onMouseEnter={onHeaderMouseEnter}\r\n        onMouseLeave={onHeaderMouseLeave}\r\n      >\r\n        <button\r\n          disabled={disabled}\r\n          aria-expanded={isExpanded}\r\n          id={buttonId}\r\n          aria-controls={panelId}\r\n          type=\"button\"\r\n          ref={ref}\r\n          onKeyDown={onKeyDown}\r\n          onClick={() => {\r\n            if (!disabled) {\r\n              toggle();\r\n            }\r\n          }}\r\n          className={clsx(\r\n            'flex flex-auto items-center gap-10 text-left outline-none hover:bg-hover focus-visible:bg-primary/focus',\r\n            buttonPadding,\r\n          )}\r\n        >\r\n          {chevronPosition === 'left' && chevron}\r\n          {startIcon &&\r\n            cloneElement(startIcon, {\r\n              size: 'md',\r\n              className: clsx(\r\n                startIcon.props.className,\r\n                disabled ? 'text-disabled' : 'text-muted',\r\n              ),\r\n            })}\r\n          <div className=\"flex-auto overflow-hidden overflow-ellipsis\">\r\n            <div className={labelClassName} data-testid=\"accordion-label\">\r\n              {label}\r\n            </div>\r\n            {description && (\r\n              <div className=\"text-xs text-muted\">{description}</div>\r\n            )}\r\n          </div>\r\n          {chevronPosition === 'right' && chevron}\r\n        </button>\r\n        {endAppend && (\r\n          <div className=\"flex-shrink-0 px-4 text-sm text-muted\">\r\n            {endAppend}\r\n          </div>\r\n        )}\r\n      </h3>\r\n      <m.div\r\n        aria-labelledby={id}\r\n        role=\"region\"\r\n        variants={AccordionAnimation.variants}\r\n        transition={AccordionAnimation.transition}\r\n        initial={false}\r\n        animate={isExpanded ? 'open' : 'closed'}\r\n      >\r\n        <div className={clsx('p-16', bodyClassName)}>\r\n          {!isLazy || wasExpandedOnce ? children : null}\r\n        </div>\r\n        {footerContent}\r\n      </m.div>\r\n    </div>\r\n  );\r\n}\r\n","import {FilterPanelProps} from './filter-panel-props';\r\nimport {FilterBooleanToggleControl} from '@common/datatable/filters/backend-filter';\r\n\r\nexport function BooleanFilterPanel({\r\n  filter,\r\n}: FilterPanelProps<FilterBooleanToggleControl>) {\r\n  // Toggling accordion in the dialog will already apply boolean filter, no need for any extra fields here\r\n  return null;\r\n}\r\n","import {Dialog} from '../../ui/overlays/dialog/dialog';\r\nimport {\r\n  BackendFilter,\r\n  CustomFilterControl,\r\n  DatePickerFilterControl,\r\n  FilterBooleanToggleControl,\r\n  FilterChipFieldControl,\r\n  FilterControlType,\r\n  FilterOperator,\r\n  FilterSelectControl,\r\n  FilterSelectModelControl,\r\n  FilterTextInputControl,\r\n} from './backend-filter';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {useState} from 'react';\r\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\r\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\r\nimport {useBackendFilterUrlParams} from './backend-filter-url-params';\r\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\r\nimport {Accordion, AccordionItem} from '../../ui/accordion/accordion';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {useForm} from 'react-hook-form';\r\nimport {Form} from '../../ui/forms/form';\r\nimport {Checkbox} from '../../ui/forms/toggle/checkbox';\r\nimport {SelectFilterPanel} from './panels/select-filter-panel';\r\nimport {DateRangeFilterPanel} from './panels/date-range-filter-panel';\r\nimport {NormalizedModelFilterPanel} from './panels/normalized-model-filter-panel';\r\nimport {InputFilterPanel} from './panels/input-filter-panel';\r\nimport {BooleanFilterPanel} from './panels/boolean-filter-panel';\r\nimport clsx from 'clsx';\r\nimport {ChipFieldFilterPanel} from '@common/datatable/filters/panels/chip-field-filter-panel';\r\n\r\nexport interface FilterItemFormValue<T = any> {\r\n  value: T;\r\n  operator?: FilterOperator;\r\n}\r\n\r\ninterface AddFilterDialogProps {\r\n  filters: BackendFilter[];\r\n}\r\nexport function AddFilterDialog({filters}: AddFilterDialogProps) {\r\n  const {decodedFilters} = useBackendFilterUrlParams(filters);\r\n  const {formId} = useDialogContext();\r\n\r\n  // expand currently active filters\r\n  const [expandedFilters, setExpandedFilters] = useState<(string | number)[]>(\r\n    () => {\r\n      return decodedFilters.map(f => f.key);\r\n    },\r\n  );\r\n\r\n  const clearButton = (\r\n    <Button\r\n      size=\"xs\"\r\n      variant=\"outline\"\r\n      className=\"mr-auto\"\r\n      onClick={() => {\r\n        setExpandedFilters([]);\r\n      }}\r\n    >\r\n      <Trans message=\"Clear\" />\r\n    </Button>\r\n  );\r\n\r\n  const applyButton = (\r\n    <Button\r\n      size=\"xs\"\r\n      variant=\"flat\"\r\n      color=\"primary\"\r\n      className=\"ml-auto\"\r\n      type=\"submit\"\r\n      form={formId}\r\n    >\r\n      <Trans message=\"Apply\" />\r\n    </Button>\r\n  );\r\n\r\n  return (\r\n    <Dialog className=\"min-w-[300px]\" maxWidth=\"max-w-400\" size=\"auto\">\r\n      <DialogHeader\r\n        padding=\"px-14 py-10\"\r\n        leftAdornment={clearButton}\r\n        rightAdornment={applyButton}\r\n      >\r\n        <Trans message=\"Filter\" />\r\n      </DialogHeader>\r\n      <DialogBody padding=\"p-0\">\r\n        <FilterList\r\n          filters={filters}\r\n          expandedFilters={expandedFilters}\r\n          setExpandedFilters={setExpandedFilters}\r\n        />\r\n      </DialogBody>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\ninterface FilterListProps {\r\n  filters: BackendFilter[];\r\n  expandedFilters: (string | number)[];\r\n  setExpandedFilters: (value: (string | number)[]) => void;\r\n}\r\nfunction FilterList({\r\n  filters,\r\n  expandedFilters,\r\n  setExpandedFilters,\r\n}: FilterListProps) {\r\n  const {decodedFilters, replaceAll} = useBackendFilterUrlParams(filters);\r\n\r\n  // either get value and operator from url params if filter is active, or get defaults from filter config\r\n  const defaultValues: Record<string, FilterItemFormValue> = {};\r\n  filters.forEach(filter => {\r\n    const appliedFilter = decodedFilters.find(f => f.key === filter.key);\r\n    defaultValues[filter.key] =\r\n      appliedFilter?.value !== undefined\r\n        ? // there might be some extra keys set on filter besides\r\n          // \"value\" and \"operator\", so add the whole object to form\r\n          appliedFilter\r\n        : {\r\n            value: filter.control.defaultValue,\r\n            operator: filter.defaultOperator,\r\n          };\r\n  });\r\n  const form = useForm<Record<string, FilterItemFormValue>>({defaultValues});\r\n  const {formId, close} = useDialogContext();\r\n\r\n  return (\r\n    <Form\r\n      form={form}\r\n      id={formId}\r\n      onSubmit={formValue => {\r\n        const filterValue = Object.entries(formValue)\r\n          // remove undefined and non-expanded filters, so \"clear\" button will correctly remove active filters\r\n          .filter(\r\n            ([key, fieldValue]) =>\r\n              expandedFilters.includes(key) && fieldValue !== undefined,\r\n          )\r\n          .map(([key, fieldValue]) => ({\r\n            key,\r\n            ...fieldValue, // value and operator from form\r\n          }));\r\n\r\n        replaceAll(filterValue);\r\n        close();\r\n      }}\r\n    >\r\n      <Accordion\r\n        mode=\"multiple\"\r\n        expandedValues={expandedFilters}\r\n        onExpandedChange={setExpandedFilters}\r\n      >\r\n        {filters.map(filter => (\r\n          <AccordionItem\r\n            startIcon={\r\n              <Checkbox checked={expandedFilters.includes(filter.key)} />\r\n            }\r\n            key={filter.key}\r\n            value={filter.key}\r\n            label={<Trans {...filter.label} />}\r\n            bodyClassName=\"max-h-288 overflow-y-auto compact-scrollbar\"\r\n          >\r\n            {filter.description && (\r\n              <div\r\n                className={clsx(\r\n                  'text-xs text-muted',\r\n                  // boolean filter will have nothing in the panel, no need to add margin\r\n                  filter.control.type !== FilterControlType.BooleanToggle &&\r\n                    'mb-14',\r\n                )}\r\n              >\r\n                <Trans {...filter.description} />\r\n              </div>\r\n            )}\r\n            <AddFilterDialogPanel filter={filter} />\r\n          </AccordionItem>\r\n        ))}\r\n      </Accordion>\r\n    </Form>\r\n  );\r\n}\r\n\r\ninterface ActiveFilterPanelProps {\r\n  filter: BackendFilter;\r\n}\r\nexport function AddFilterDialogPanel({filter}: ActiveFilterPanelProps) {\r\n  switch (filter.control.type) {\r\n    case FilterControlType.Select:\r\n      return (\r\n        <SelectFilterPanel\r\n          filter={filter as BackendFilter<FilterSelectControl>}\r\n        />\r\n      );\r\n    case FilterControlType.ChipField:\r\n      return (\r\n        <ChipFieldFilterPanel\r\n          filter={filter as BackendFilter<FilterChipFieldControl>}\r\n        />\r\n      );\r\n    case FilterControlType.DateRangePicker:\r\n      return (\r\n        <DateRangeFilterPanel\r\n          filter={filter as BackendFilter<DatePickerFilterControl>}\r\n        />\r\n      );\r\n    case FilterControlType.SelectModel:\r\n      return (\r\n        <NormalizedModelFilterPanel\r\n          filter={filter as BackendFilter<FilterSelectModelControl>}\r\n        />\r\n      );\r\n    case FilterControlType.Input:\r\n      return (\r\n        <InputFilterPanel\r\n          filter={filter as BackendFilter<FilterTextInputControl>}\r\n        />\r\n      );\r\n    case FilterControlType.BooleanToggle:\r\n      return (\r\n        <BooleanFilterPanel\r\n          filter={filter as BackendFilter<FilterBooleanToggleControl>}\r\n        />\r\n      );\r\n    case 'custom':\r\n      const CustomComponent = filter.control.panel;\r\n      return (\r\n        <CustomComponent\r\n          filter={filter as BackendFilter<CustomFilterControl>}\r\n        />\r\n      );\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n","import {Button, ButtonProps} from '../../ui/buttons/button';\r\nimport {BackendFilter} from './backend-filter';\r\nimport {FilterAltIcon} from '../../icons/material/FilterAlt';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {useIsMobileMediaQuery} from '../../utils/hooks/is-mobile-media-query';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport {AddFilterDialog} from './add-filter-dialog';\r\nimport {ReactElement} from 'react';\r\n\r\ninterface AddFilterButtonProps {\r\n  filters: BackendFilter[];\r\n  icon?: ReactElement;\r\n  color?: ButtonProps['color'];\r\n  variant?: ButtonProps['variant'];\r\n  disabled?: boolean;\r\n  size?: ButtonProps['size'];\r\n  className?: string;\r\n}\r\nexport function AddFilterButton({\r\n  filters,\r\n  icon = <FilterAltIcon />,\r\n  color = 'primary',\r\n  variant = 'outline',\r\n  size = 'sm',\r\n  disabled,\r\n  className,\r\n}: AddFilterButtonProps) {\r\n  const isMobile = useIsMobileMediaQuery();\r\n\r\n  const desktopButton = (\r\n    <Button\r\n      variant={variant}\r\n      color={color}\r\n      startIcon={icon}\r\n      disabled={disabled}\r\n      size={size}\r\n      className={className}\r\n    >\r\n      <Trans message=\"Filter\" />\r\n    </Button>\r\n  );\r\n\r\n  const mobileButton = (\r\n    <IconButton\r\n      color={color}\r\n      size=\"sm\"\r\n      variant={variant}\r\n      disabled={disabled}\r\n      className={className}\r\n    >\r\n      {icon}\r\n    </IconButton>\r\n  );\r\n\r\n  return (\r\n    <DialogTrigger type=\"popover\">\r\n      {isMobile ? mobileButton : desktopButton}\r\n      <AddFilterDialog filters={filters} />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n","import React, {ComponentPropsWithoutRef, ReactNode} from 'react';\r\nimport {BackendFilter} from './filters/backend-filter';\r\nimport {useTrans} from '../i18n/use-trans';\r\nimport {TextField} from '../ui/forms/input-field/text-field/text-field';\r\nimport {SearchIcon} from '../icons/material/Search';\r\nimport {AddFilterButton} from './filters/add-filter-button';\r\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\r\nimport {message} from '@common/i18n/message';\r\n\r\ninterface Props {\r\n  actions?: ReactNode;\r\n  filters?: BackendFilter[];\r\n  filtersLoading?: boolean;\r\n  searchPlaceholder?: MessageDescriptor;\r\n  searchValue?: string;\r\n  onSearchChange: (value: string) => void;\r\n}\r\nexport function DataTableHeader({\r\n  actions,\r\n  filters,\r\n  filtersLoading,\r\n  searchPlaceholder = message('Type to search...'),\r\n  searchValue = '',\r\n  onSearchChange,\r\n}: Props) {\r\n  const {trans} = useTrans();\r\n  return (\r\n    <HeaderLayout>\r\n      <TextField\r\n        size=\"sm\"\r\n        className=\"mr-auto min-w-180 max-w-440 flex-auto\"\r\n        inputWrapperClassName=\"mr-24 md:mr-0\"\r\n        placeholder={trans(searchPlaceholder)}\r\n        startAdornment={<SearchIcon size=\"sm\" />}\r\n        value={searchValue}\r\n        onChange={e => {\r\n          onSearchChange(e.target.value);\r\n        }}\r\n      />\r\n      {filters && (\r\n        <AddFilterButton filters={filters} disabled={filtersLoading} />\r\n      )}\r\n      {actions}\r\n    </HeaderLayout>\r\n  );\r\n}\r\n\r\ninterface AnimatedHeaderProps extends ComponentPropsWithoutRef<'div'> {\r\n  children: ReactNode;\r\n}\r\nexport function HeaderLayout({children, ...domProps}: AnimatedHeaderProps) {\r\n  return (\r\n    <div\r\n      className=\"hidden-scrollbar relative mb-24 flex h-42 items-center gap-8 overflow-x-auto text-muted md:gap-12\"\r\n      {...domProps}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import {Trans} from '@common/i18n/trans';\r\nimport React, {ReactNode} from 'react';\r\nimport {HeaderLayout} from '@common/datatable/data-table-header';\r\n\r\ninterface Props {\r\n  actions?: ReactNode;\r\n  selectedItemsCount: number;\r\n}\r\nexport function SelectedStateDatatableHeader({\r\n  actions,\r\n  selectedItemsCount,\r\n}: Props) {\r\n  return (\r\n    <HeaderLayout data-testid=\"datatable-selected-header\">\r\n      <div className=\"mr-auto\">\r\n        <Trans\r\n          message=\"[one 1 item|other :count items] selected\"\r\n          values={{count: selectedItemsCount}}\r\n        />\r\n      </div>\r\n      {actions}\r\n    </HeaderLayout>\r\n  );\r\n}\r\n","import {m} from 'framer-motion';\r\nimport {opacityAnimation} from '@common/ui/animation/opacity-animation';\r\nimport {Skeleton} from '@common/ui/skeleton/skeleton';\r\nimport React from 'react';\r\n\r\nexport function FilterListSkeleton() {\r\n  return (\r\n    <m.div\r\n      className=\"flex items-center gap-6 h-30\"\r\n      key=\"filter-list-skeleton\"\r\n      {...opacityAnimation}\r\n    >\r\n      <Skeleton variant=\"rect\" size=\"h-full w-144\" radius=\"rounded-md\" />\r\n      <Skeleton variant=\"rect\" size=\"h-full w-112\" radius=\"rounded-md\" />\r\n      <Skeleton variant=\"rect\" size=\"h-full w-172\" radius=\"rounded-md\" />\r\n    </m.div>\r\n  );\r\n}\r\n","import React, {\r\n  cloneElement,\r\n  ComponentProps,\r\n  ReactElement,\r\n  ReactNode,\r\n  useState,\r\n} from 'react';\r\nimport {TableDataItem} from '../ui/tables/types/table-data-item';\r\nimport {BackendFilter} from './filters/backend-filter';\r\nimport {MessageDescriptor} from '../i18n/message-descriptor';\r\nimport {ColumnConfig} from './column-config';\r\nimport {useTrans} from '../i18n/use-trans';\r\nimport {useBackendFilterUrlParams} from './filters/backend-filter-url-params';\r\nimport {\r\n  GetDatatableDataParams,\r\n  useDatatableData,\r\n} from './requests/paginated-resources';\r\nimport {DataTableContext} from './page/data-table-context';\r\nimport {AnimatePresence, m} from 'framer-motion';\r\nimport {ProgressBar} from '../ui/progress/progress-bar';\r\nimport {Table, TableProps} from '../ui/tables/table';\r\nimport {DataTablePaginationFooter} from './data-table-pagination-footer';\r\nimport {DataTableHeader} from './data-table-header';\r\nimport {FilterList} from './filters/filter-list/filter-list';\r\nimport {SelectedStateDatatableHeader} from '@common/datatable/selected-state-datatable-header';\r\nimport clsx from 'clsx';\r\nimport {useIsMobileMediaQuery} from '@common/utils/hooks/is-mobile-media-query';\r\nimport {BackendFiltersUrlKey} from '@common/datatable/filters/backend-filters-url-key';\r\nimport {opacityAnimation} from '@common/ui/animation/opacity-animation';\r\nimport {FilterListSkeleton} from '@common/datatable/filters/filter-list/filter-list-skeleton';\r\n\r\nexport interface DataTableProps<T extends TableDataItem> {\r\n  filters?: BackendFilter[];\r\n  filtersLoading?: boolean;\r\n  columns: ColumnConfig<T>[];\r\n  searchPlaceholder?: MessageDescriptor;\r\n  queryParams?: Record<string, string | number | undefined | null>;\r\n  endpoint: string;\r\n  resourceName?: ReactNode;\r\n  emptyStateMessage: ReactElement<{isFiltering: boolean}>;\r\n  actions?: ReactNode;\r\n  enableSelection?: boolean;\r\n  selectionStyle?: TableProps<T>['selectionStyle'];\r\n  selectedActions?: ReactNode;\r\n  onRowAction?: TableProps<T>['onAction'];\r\n  tableDomProps?: ComponentProps<'table'>;\r\n  children?: ReactNode;\r\n  collapseTableOnMobile?: boolean;\r\n  cellHeight?: string;\r\n}\r\nexport function DataTable<T extends TableDataItem>({\r\n  filters,\r\n  filtersLoading,\r\n  columns,\r\n  searchPlaceholder,\r\n  queryParams,\r\n  endpoint,\r\n  actions,\r\n  selectedActions,\r\n  emptyStateMessage,\r\n  tableDomProps,\r\n  onRowAction,\r\n  enableSelection = true,\r\n  selectionStyle = 'checkbox',\r\n  children,\r\n  cellHeight,\r\n  collapseTableOnMobile = true,\r\n}: DataTableProps<T>) {\r\n  const isMobile = useIsMobileMediaQuery();\r\n  const {trans} = useTrans();\r\n  const {encodedFilters} = useBackendFilterUrlParams(filters);\r\n  const [params, setParams] = useState<GetDatatableDataParams>({perPage: 15});\r\n  const [selectedRows, setSelectedRows] = useState<(string | number)[]>([]);\r\n  const query = useDatatableData<T>(\r\n    endpoint,\r\n    {\r\n      ...params,\r\n      ...queryParams,\r\n      [BackendFiltersUrlKey]: encodedFilters,\r\n    },\r\n    undefined,\r\n    () => setSelectedRows([]),\r\n  );\r\n\r\n  const isFiltering = !!(params.query || params.filters || encodedFilters);\r\n  const pagination = query.data?.pagination;\r\n\r\n  return (\r\n    <DataTableContext.Provider\r\n      value={{\r\n        selectedRows,\r\n        setSelectedRows,\r\n        endpoint,\r\n        params,\r\n        setParams,\r\n        query,\r\n      }}\r\n    >\r\n      {children}\r\n      <AnimatePresence initial={false} mode=\"wait\">\r\n        {selectedRows.length ? (\r\n          <SelectedStateDatatableHeader\r\n            selectedItemsCount={selectedRows.length}\r\n            actions={selectedActions}\r\n            key=\"selected\"\r\n          />\r\n        ) : (\r\n          <DataTableHeader\r\n            searchPlaceholder={searchPlaceholder}\r\n            searchValue={params.query}\r\n            onSearchChange={query => setParams({...params, query})}\r\n            actions={actions}\r\n            filters={filters}\r\n            filtersLoading={filtersLoading}\r\n            key=\"default\"\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {filters && (\r\n        <div className=\"mb-14\">\r\n          <AnimatePresence initial={false} mode=\"wait\">\r\n            {filtersLoading && encodedFilters ? (\r\n              <FilterListSkeleton />\r\n            ) : (\r\n              <m.div key=\"filter-list\" {...opacityAnimation}>\r\n                <FilterList filters={filters} />\r\n              </m.div>\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n      )}\r\n\r\n      <div\r\n        className={clsx(\r\n          'relative rounded-panel',\r\n          (!isMobile || !collapseTableOnMobile) && 'border',\r\n        )}\r\n      >\r\n        {query.isFetching && (\r\n          <ProgressBar\r\n            isIndeterminate\r\n            className=\"absolute left-0 top-0 z-10 w-full\"\r\n            aria-label={trans({message: 'Loading'})}\r\n            size=\"xs\"\r\n          />\r\n        )}\r\n\r\n        <div className=\"relative overflow-x-auto md:overflow-hidden\">\r\n          <Table\r\n            {...tableDomProps}\r\n            columns={columns}\r\n            data={pagination?.data || []}\r\n            sortDescriptor={params}\r\n            onSortChange={descriptor => {\r\n              setParams({...params, ...descriptor});\r\n            }}\r\n            selectedRows={selectedRows}\r\n            enableSelection={enableSelection}\r\n            selectionStyle={selectionStyle}\r\n            onSelectionChange={setSelectedRows}\r\n            onAction={onRowAction}\r\n            collapseOnMobile={collapseTableOnMobile}\r\n            cellHeight={cellHeight}\r\n          />\r\n        </div>\r\n\r\n        {(query.isFetched || query.isPlaceholderData) &&\r\n        !pagination?.data.length ? (\r\n          <div className=\"pt-50\">\r\n            {cloneElement(emptyStateMessage, {\r\n              isFiltering,\r\n            })}\r\n          </div>\r\n        ) : undefined}\r\n\r\n        <DataTablePaginationFooter\r\n          query={query}\r\n          onPageChange={page => setParams({...params, page})}\r\n          onPerPageChange={perPage => setParams({...params, perPage})}\r\n        />\r\n      </div>\r\n    </DataTableContext.Provider>\r\n  );\r\n}\r\n","import React, {ReactElement, ReactNode, useId} from 'react';\r\nimport {TableDataItem} from '../../ui/tables/types/table-data-item';\r\nimport {DataTable, DataTableProps} from '../data-table';\r\nimport {TableProps} from '../../ui/tables/table';\r\nimport {StaticPageTitle} from '../../seo/static-page-title';\r\nimport {MessageDescriptor} from '../../i18n/message-descriptor';\r\nimport clsx from 'clsx';\r\n\r\ninterface Props<T extends TableDataItem> extends DataTableProps<T> {\r\n  title?: ReactElement<MessageDescriptor>;\r\n  headerContent?: ReactNode;\r\n  headerItemsAlign?: string;\r\n  enableSelection?: boolean;\r\n  onRowAction?: TableProps<T>['onAction'];\r\n  padding?: string;\r\n  className?: string;\r\n}\r\nexport function DataTablePage<T extends TableDataItem>({\r\n  title,\r\n  headerContent,\r\n  headerItemsAlign = 'items-end',\r\n  className,\r\n  padding,\r\n  ...dataTableProps\r\n}: Props<T>) {\r\n  const titleId = useId();\r\n\r\n  return (\r\n    <div className={clsx(padding ?? 'p-12 md:p-24', className)}>\r\n      {title && (\r\n        <div\r\n          className={clsx(\r\n            'mb-16',\r\n            headerContent && `flex ${headerItemsAlign} gap-4`,\r\n          )}\r\n        >\r\n          <StaticPageTitle>{title}</StaticPageTitle>\r\n          <h1 className=\"text-3xl font-light first:capitalize\" id={titleId}>\r\n            {title}\r\n          </h1>\r\n          {headerContent}\r\n        </div>\r\n      )}\r\n\r\n      <DataTable\r\n        {...dataTableProps}\r\n        tableDomProps={{\r\n          'aria-labelledby': title ? titleId : undefined,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '../../http/query-client';\r\nimport {BackendResponse} from '../../http/backend-response/backend-response';\r\nimport {toast} from '../../ui/toast/toast';\r\nimport {DatatableDataQueryKey} from './paginated-resources';\r\nimport {useDataTable} from '../page/data-table-context';\r\nimport {message} from '../../i18n/message';\r\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\r\nimport {Key} from 'react';\r\n\r\ninterface Response extends BackendResponse {\r\n  //\r\n}\r\n\r\nexport function useDeleteSelectedRows() {\r\n  const {endpoint, selectedRows, setSelectedRows} = useDataTable();\r\n  return useMutation({\r\n    mutationFn: () => deleteSelectedRows(endpoint, selectedRows),\r\n    onSuccess: async () => {\r\n      await queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey(endpoint),\r\n      });\r\n      toast(\r\n        message('Deleted [one 1 record|other :count records]', {\r\n          values: {count: selectedRows.length},\r\n        }),\r\n      );\r\n      setSelectedRows([]);\r\n    },\r\n    onError: err =>\r\n      showHttpErrorToast(err, message('Could not delete records')),\r\n  });\r\n}\r\n\r\nfunction deleteSelectedRows(endpoint: string, ids: Key[]): Promise<Response> {\r\n  return apiClient.delete(`${endpoint}/${ids.join(',')}`).then(r => r.data);\r\n}\r\n","import {Button} from '../../ui/buttons/button';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {ConfirmationDialog} from '../../ui/overlays/dialog/confirmation-dialog';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport React from 'react';\r\nimport {useDeleteSelectedRows} from '../requests/delete-selected-rows';\r\nimport {useDataTable} from './data-table-context';\r\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\r\n\r\nexport function DeleteSelectedItemsAction() {\r\n  return (\r\n    <DialogTrigger type=\"modal\">\r\n      <Button variant=\"flat\" color=\"danger\" className=\"ml-auto\">\r\n        <Trans message=\"Delete\" />\r\n      </Button>\r\n      <DeleteItemsDialog />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n\r\nfunction DeleteItemsDialog() {\r\n  const deleteSelectedRows = useDeleteSelectedRows();\r\n  const {selectedRows} = useDataTable();\r\n  const {close} = useDialogContext();\r\n  return (\r\n    <ConfirmationDialog\r\n      isLoading={deleteSelectedRows.isPending}\r\n      title={\r\n        <Trans\r\n          message=\"Delete [one 1 item|other :count items]?\"\r\n          values={{count: selectedRows.length}}\r\n        />\r\n      }\r\n      body={\r\n        <Trans message=\"This will permanently remove the items and cannot be undone.\" />\r\n      }\r\n      confirm={<Trans message=\"Delete\" />}\r\n      isDanger\r\n      onConfirm={() => {\r\n        deleteSelectedRows.mutate(undefined, {onSuccess: () => close()});\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import React, {ReactNode} from 'react';\r\nimport {IllustratedMessage} from '../../ui/images/illustrated-message';\r\nimport {SvgImage} from '../../ui/images/svg-image/svg-image';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {useIsMobileMediaQuery} from '../../utils/hooks/is-mobile-media-query';\r\n\r\nexport interface DataTableEmptyStateMessageProps {\r\n  isFiltering?: boolean;\r\n  title: ReactNode;\r\n  filteringTitle?: ReactNode;\r\n  image: string;\r\n  size?: 'sm' | 'md';\r\n  className?: string;\r\n}\r\nexport function DataTableEmptyStateMessage({\r\n  isFiltering,\r\n  title,\r\n  filteringTitle,\r\n  image,\r\n  size,\r\n  className,\r\n}: DataTableEmptyStateMessageProps) {\r\n  const isMobile = useIsMobileMediaQuery();\r\n  if (!size) {\r\n    size = isMobile ? 'sm' : 'md';\r\n  }\r\n\r\n  // allow user to disable filtering message variation by not passing in \"filteringTitle\"\r\n  return (\r\n    <IllustratedMessage\r\n      className={className}\r\n      size={size}\r\n      image={<SvgImage src={image} />}\r\n      title={isFiltering && filteringTitle ? filteringTitle : title}\r\n      description={\r\n        isFiltering && filteringTitle ? (\r\n          <Trans message=\"Try another search query or different filters\" />\r\n        ) : undefined\r\n      }\r\n    />\r\n  );\r\n}\r\n","export default \"__VITE_ASSET__d109d853__\"","import {AddIcon} from '../icons/material/Add';\r\nimport {Button} from '../ui/buttons/button';\r\nimport React, {ReactElement, ReactNode} from 'react';\r\nimport {useIsMobileMediaQuery} from '../utils/hooks/is-mobile-media-query';\r\nimport {IconButton} from '../ui/buttons/icon-button';\r\nimport {To} from 'react-router-dom';\r\nimport {ButtonBaseProps} from '../ui/buttons/button-base';\r\n\r\nexport interface DataTableAddItemButtonProps {\r\n  children: ReactNode;\r\n  to?: To;\r\n  href?: string;\r\n  download?: boolean | string;\r\n  elementType?: ButtonBaseProps['elementType'];\r\n  onClick?: ButtonBaseProps['onClick'];\r\n  icon?: ReactElement;\r\n  disabled?: boolean;\r\n}\r\nexport const DataTableAddItemButton = React.forwardRef<\r\n  HTMLButtonElement,\r\n  DataTableAddItemButtonProps\r\n>(\r\n  (\r\n    {children, to, elementType, onClick, href, download, icon, disabled},\r\n    ref,\r\n  ) => {\r\n    const isMobile = useIsMobileMediaQuery();\r\n\r\n    if (isMobile) {\r\n      return (\r\n        <IconButton\r\n          ref={ref}\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          className=\"flex-shrink-0\"\r\n          size=\"sm\"\r\n          to={to}\r\n          href={href}\r\n          download={download}\r\n          elementType={elementType}\r\n          onClick={onClick}\r\n          disabled={disabled}\r\n        >\r\n          {icon || <AddIcon />}\r\n        </IconButton>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Button\r\n        ref={ref}\r\n        startIcon={icon || <AddIcon />}\r\n        variant=\"flat\"\r\n        color=\"primary\"\r\n        size=\"sm\"\r\n        to={to}\r\n        href={href}\r\n        download={download}\r\n        elementType={elementType}\r\n        onClick={onClick}\r\n        disabled={disabled}\r\n      >\r\n        {children}\r\n      </Button>\r\n    );\r\n  },\r\n);\r\n","import {apiClient} from '../../http/query-client';\r\nimport {BackendResponse} from '../../http/backend-response/backend-response';\r\nimport {useMutation} from '@tanstack/react-query';\r\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\r\n\r\ninterface Response extends BackendResponse {\r\n  downloadPath?: string;\r\n  result?: 'jobQueued';\r\n}\r\n\r\nexport type ExportCsvPayload = Record<string, string | number | undefined>;\r\n\r\nexport function useExportCsv(endpoint: string) {\r\n  return useMutation({\r\n    mutationFn: (payload?: ExportCsvPayload) => exportCsv(endpoint, payload),\r\n    onError: err => showHttpErrorToast(err),\r\n  });\r\n}\r\n\r\nfunction exportCsv(\r\n  endpoint: string,\r\n  payload: ExportCsvPayload | undefined,\r\n): Promise<Response> {\r\n  return apiClient.post(endpoint, payload).then(r => r.data);\r\n}\r\n","import {DialogBody} from '../../ui/overlays/dialog/dialog-body';\r\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\r\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\r\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\r\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {Trans} from '../../i18n/trans';\r\n\r\nexport function CsvExportInfoDialog() {\r\n  const {close} = useDialogContext();\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Csv export\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <Trans\r\n          message=\"Your request is being processed. We'll email you when the report is ready to download. In\r\n            certain cases, it might take a little longer, depending on the number of items beings\r\n            exported and the volume of activity.\"\r\n        />\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button variant=\"flat\" color=\"primary\" onClick={close}>\r\n          <Trans message=\"Got it\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {IconButton} from '../../ui/buttons/icon-button';\r\nimport {FileDownloadIcon} from '../../icons/material/FileDownload';\r\nimport React, {Fragment, useState} from 'react';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport {ExportCsvPayload, useExportCsv} from '../requests/use-export-csv';\r\nimport {downloadFileFromUrl} from '../../uploads/utils/download-file-from-url';\r\nimport {CsvExportInfoDialog} from './csv-export-info-dialog';\r\n\r\ninterface DataTableExportCsvButtonProps {\r\n  endpoint: string;\r\n  payload?: ExportCsvPayload;\r\n}\r\nexport function DataTableExportCsvButton({\r\n  endpoint,\r\n  payload,\r\n}: DataTableExportCsvButtonProps) {\r\n  const [dialogIsOpen, setDialogIsOpen] = useState(false);\r\n  const exportCsv = useExportCsv(endpoint);\r\n\r\n  return (\r\n    <Fragment>\r\n      <IconButton\r\n        variant=\"outline\"\r\n        color=\"primary\"\r\n        size=\"sm\"\r\n        className=\"flex-shrink-0\"\r\n        disabled={exportCsv.isPending}\r\n        onClick={() => {\r\n          exportCsv.mutate(payload, {\r\n            onSuccess: response => {\r\n              if (response.downloadPath) {\r\n                downloadFileFromUrl(response.downloadPath);\r\n              } else {\r\n                setDialogIsOpen(true);\r\n              }\r\n            },\r\n          });\r\n        }}\r\n      >\r\n        <FileDownloadIcon />\r\n      </IconButton>\r\n      <DialogTrigger\r\n        type=\"modal\"\r\n        isOpen={dialogIsOpen}\r\n        onOpenChange={setDialogIsOpen}\r\n      >\r\n        <CsvExportInfoDialog />\r\n      </DialogTrigger>\r\n    </Fragment>\r\n  );\r\n}\r\n","import React, {ReactNode} from 'react';\r\nimport {Avatar, AvatarProps} from '../../ui/images/avatar';\r\nimport {Skeleton} from '@common/ui/skeleton/skeleton';\r\nimport clsx from 'clsx';\r\n\r\ninterface Props {\r\n  image?: string;\r\n  label: ReactNode;\r\n  description?: ReactNode;\r\n  labelClassName?: string;\r\n  avatarSize?: AvatarProps['size'];\r\n}\r\nexport function NameWithAvatar({\r\n  image,\r\n  label,\r\n  description,\r\n  labelClassName,\r\n  avatarSize = 'md',\r\n}: Props) {\r\n  return (\r\n    <div className=\"flex items-center gap-12\">\r\n      {image && (\r\n        <Avatar size={avatarSize} className=\"flex-shrink-0\" src={image} />\r\n      )}\r\n      <div className=\"min-w-0 overflow-hidden\">\r\n        <div\r\n          className={clsx(labelClassName, 'overflow-hidden overflow-ellipsis')}\r\n        >\r\n          {label}\r\n        </div>\r\n        {description && (\r\n          <div className=\"overflow-hidden overflow-ellipsis text-xs text-muted\">\r\n            {description}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function NameWithAvatarPlaceholder({\r\n  labelClassName,\r\n  showDescription,\r\n}: Partial<Props> & {\r\n  showDescription?: boolean;\r\n}) {\r\n  return (\r\n    <div className=\"flex w-full max-w-4/5 items-center gap-12\">\r\n      <Skeleton size=\"w-40 h-40 md:w-32 md:h-32\" variant=\"rect\" />\r\n      <div className=\"flex-auto\">\r\n        <div className={clsx(labelClassName, 'leading-3')}>\r\n          <Skeleton />\r\n        </div>\r\n        {showDescription && (\r\n          <div className=\"mt-4 leading-3 text-muted\">{<Skeleton />}</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const PersonOffIcon = createSvgIcon(\r\n  <path d=\"m20 17.17-3.37-3.38c.64.22 1.23.48 1.77.76.97.51 1.58 1.52 1.6 2.62zm1.19 4.02-1.41 1.41-2.61-2.6H4v-2.78c0-1.12.61-2.15 1.61-2.66 1.29-.66 2.87-1.22 4.67-1.45L1.39 4.22 2.8 2.81l18.39 18.38zM15.17 18l-3-3H12c-2.37 0-4.29.73-5.48 1.34-.32.16-.52.5-.52.88V18h9.17zM12 6c1.1 0 2 .9 2 2 0 .86-.54 1.59-1.3 1.87l1.48 1.48C15.28 10.64 16 9.4 16 8c0-2.21-1.79-4-4-4-1.4 0-2.64.72-3.35 1.82l1.48 1.48C10.41 6.54 11.14 6 12 6z\" />\r\n, 'PersonOffOutlined');\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {User} from '@common/auth/user';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\r\nimport {message} from '@common/i18n/message';\r\n\r\ninterface Response extends BackendResponse {\r\n  user: User;\r\n}\r\n\r\nexport interface BanUserPayload {\r\n  ban_until?: string;\r\n  permanent?: boolean;\r\n  comment?: string;\r\n}\r\n\r\nexport function useBanUser(\r\n  form: UseFormReturn<BanUserPayload>,\r\n  userId: number,\r\n) {\r\n  return useMutation({\r\n    mutationFn: (payload: BanUserPayload) => banUser(userId, payload),\r\n    onSuccess: async () => {\r\n      toast(message('User suspended'));\r\n      await queryClient.invalidateQueries({queryKey: ['users']});\r\n    },\r\n    onError: r => onFormQueryError(r, form),\r\n  });\r\n}\r\n\r\nfunction banUser(userId: number, payload: BanUserPayload): Promise<Response> {\r\n  return apiClient.post(`users/${userId}/ban`, payload).then(r => r.data);\r\n}\r\n","import {Dialog} from '@common/ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\r\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\r\nimport {Form} from '@common/ui/forms/form';\r\nimport {useForm} from 'react-hook-form';\r\nimport {\r\n  BanUserPayload,\r\n  useBanUser,\r\n} from '@common/admin/users/requests/use-ban-user';\r\nimport {FormDatePicker} from '@common/ui/forms/input-field/date/date-picker/date-picker';\r\nimport {User} from '@common/auth/user';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {message} from '@common/i18n/message';\r\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\r\n\r\ninterface Props {\r\n  user: User;\r\n}\r\nexport function BanUserDialog({user}: Props) {\r\n  const {trans} = useTrans();\r\n  const {close, formId} = useDialogContext();\r\n  const form = useForm<BanUserPayload>({\r\n    defaultValues: {\r\n      permanent: true,\r\n    },\r\n  });\r\n  const isPermanent = form.watch('permanent');\r\n  const banUser = useBanUser(form, user.id);\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Suspend :name\" values={{name: user.display_name}} />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <Form\r\n          id={formId}\r\n          form={form}\r\n          onSubmit={values =>\r\n            banUser.mutate(values, {onSuccess: () => close()})\r\n          }\r\n        >\r\n          <FormDatePicker\r\n            name=\"ban_until\"\r\n            label={<Trans message=\"Suspend until\" />}\r\n            disabled={isPermanent}\r\n          />\r\n          <FormSwitch name=\"permanent\" className=\"mt-12\">\r\n            <Trans message=\"Permanent\" />\r\n          </FormSwitch>\r\n          <FormTextField\r\n            className=\"mt-24\"\r\n            name=\"comment\"\r\n            inputElementType=\"textarea\"\r\n            maxLength={250}\r\n            label={<Trans message=\"Reason\" />}\r\n            placeholder={trans(message('Optional'))}\r\n          />\r\n        </Form>\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button onClick={() => close()}>\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          form={formId}\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n          disabled={banUser.isPending}\r\n        >\r\n          <Trans message=\"Suspend\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {message} from '@common/i18n/message';\r\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\r\n\r\ninterface Response extends BackendResponse {}\r\n\r\nexport function useUnbanUser(userId: number) {\r\n  return useMutation({\r\n    mutationFn: () => unbanUser(userId),\r\n    onSuccess: () => {\r\n      toast(message('User unsuspended'));\r\n      queryClient.invalidateQueries({queryKey: ['users']});\r\n    },\r\n    onError: r => showHttpErrorToast(r),\r\n  });\r\n}\r\n\r\nfunction unbanUser(userId: number): Promise<Response> {\r\n  return apiClient.delete(`users/${userId}/unban`).then(r => r.data);\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {apiClient} from '@common/http/query-client';\r\nimport {message} from '@common/i18n/message';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {User} from '@common/auth/user';\r\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\r\n\r\ninterface Response extends BackendResponse {\r\n  user: User;\r\n}\r\n\r\ninterface Payload {\r\n  userId: string | number;\r\n}\r\n\r\nexport function useImpersonateUser() {\r\n  return useMutation({\r\n    mutationFn: (payload: Payload) => impersonateUser(payload),\r\n    onSuccess: async response => {\r\n      toast(message(`Impersonating User \"${response.user.display_name}\"`));\r\n      window.location.href = '/';\r\n    },\r\n    onError: r => showHttpErrorToast(r),\r\n  });\r\n}\r\n\r\nfunction impersonateUser(payload: Payload) {\r\n  return apiClient\r\n    .post<Response>(`admin/users/impersonate/${payload.userId}`, payload)\r\n    .then(r => r.data);\r\n}\r\n","import {ColumnConfig} from '@common/datatable/column-config';\r\nimport {User} from '@common/auth/user';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\r\nimport {CheckIcon} from '@common/icons/material/Check';\r\nimport {CloseIcon} from '@common/icons/material/Close';\r\nimport {ChipList} from '@common/ui/forms/input-field/chip-field/chip-list';\r\nimport {Chip} from '@common/ui/forms/input-field/chip-field/chip';\r\nimport {Link} from 'react-router-dom';\r\nimport clsx from 'clsx';\r\nimport {FormattedDate} from '@common/i18n/formatted-date';\r\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\r\nimport {IconButton} from '@common/ui/buttons/icon-button';\r\nimport {EditIcon} from '@common/icons/material/Edit';\r\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\r\nimport {PersonOffIcon} from '@common/icons/material/PersonOff';\r\nimport {BanUserDialog} from '@common/admin/users/ban-user-dialog';\r\nimport React from 'react';\r\nimport {useUnbanUser} from '@common/admin/users/requests/use-unban-user';\r\nimport {ConfirmationDialog} from '@common/ui/overlays/dialog/confirmation-dialog';\r\nimport {useImpersonateUser} from '@common/admin/users/requests/use-impersonate-user';\r\nimport {LoginIcon} from '@common/icons/material/Login';\r\n\r\nexport const userDatatableColumns: ColumnConfig<User>[] = [\r\n  {\r\n    key: 'name',\r\n    allowsSorting: true,\r\n    sortingKey: 'email',\r\n    width: 'flex-3 min-w-200',\r\n    visibleInMode: 'all',\r\n    header: () => <Trans message=\"User\" />,\r\n    body: user => (\r\n      <NameWithAvatar\r\n        image={user.avatar}\r\n        label={user.display_name}\r\n        description={user.email}\r\n      />\r\n    ),\r\n  },\r\n  {\r\n    key: 'subscribed',\r\n    header: () => <Trans message=\"Subscribed\" />,\r\n    width: 'w-96',\r\n    body: user =>\r\n      user.subscriptions?.length ? (\r\n        <CheckIcon className=\"text-positive icon-md\" />\r\n      ) : (\r\n        <CloseIcon className=\"text-danger icon-md\" />\r\n      ),\r\n  },\r\n  {\r\n    key: 'roles',\r\n    header: () => <Trans message=\"Roles\" />,\r\n    body: user => (\r\n      <ChipList radius=\"rounded\" size=\"xs\">\r\n        {user?.roles?.map(role => (\r\n          <Chip key={role.id} selectable>\r\n            <Link\r\n              className={clsx('capitalize')}\r\n              target=\"_blank\"\r\n              to={`/admin/roles/${role.id}/edit`}\r\n            >\r\n              <Trans message={role.name} />\r\n            </Link>\r\n          </Chip>\r\n        ))}\r\n      </ChipList>\r\n    ),\r\n  },\r\n  {\r\n    key: 'firstName',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"First name\" />,\r\n    body: user => user.first_name,\r\n  },\r\n  {\r\n    key: 'lastName',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Last name\" />,\r\n    body: user => user.last_name,\r\n  },\r\n  {\r\n    key: 'createdAt',\r\n    allowsSorting: true,\r\n    width: 'w-96',\r\n    header: () => <Trans message=\"Created at\" />,\r\n    body: user => (\r\n      <time>\r\n        <FormattedDate date={user.created_at} />\r\n      </time>\r\n    ),\r\n  },\r\n  {\r\n    key: 'actions',\r\n    header: () => <Trans message=\"Actions\" />,\r\n    width: 'w-128 flex-shrink-0',\r\n    hideHeader: true,\r\n    align: 'end',\r\n    visibleInMode: 'all',\r\n    body: user => (\r\n      <div className=\"text-muted\">\r\n        <Link to={`${user.id}/edit`}>\r\n          <Tooltip label={<Trans message=\"Edit user\" />}>\r\n            <IconButton size=\"md\">\r\n              <EditIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </Link>\r\n        {user.banned_at ? (\r\n          <UnbanButton user={user} />\r\n        ) : (\r\n          <DialogTrigger type=\"modal\">\r\n            <Tooltip label={<Trans message=\"Suspend user\" />}>\r\n              <IconButton size=\"md\">\r\n                <PersonOffIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <BanUserDialog user={user} />\r\n          </DialogTrigger>\r\n        )}\r\n        <ImpersonateButton user={user} />\r\n      </div>\r\n    ),\r\n  },\r\n];\r\n\r\ninterface UnbanButtonProps {\r\n  user: User;\r\n}\r\nfunction UnbanButton({user}: UnbanButtonProps) {\r\n  const unban = useUnbanUser(user.id);\r\n  return (\r\n    <DialogTrigger\r\n      type=\"modal\"\r\n      onClose={confirmed => {\r\n        if (confirmed) {\r\n          unban.mutate();\r\n        }\r\n      }}\r\n    >\r\n      <Tooltip label={<Trans message=\"Remove suspension\" />}>\r\n        <IconButton size=\"md\" color=\"danger\">\r\n          <PersonOffIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <ConfirmationDialog\r\n        isDanger\r\n        title={\r\n          <Trans message=\"Suspend :name\" values={{name: user.display_name}} />\r\n        }\r\n        body={\r\n          <Trans message=\"Are you sure you want to remove suspension from this user?\" />\r\n        }\r\n        confirm={<Trans message=\"Unsuspend\" />}\r\n      />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n\r\ninterface ImpersonateButtonProps {\r\n  user: User;\r\n}\r\nfunction ImpersonateButton({user}: ImpersonateButtonProps) {\r\n  const impersonate = useImpersonateUser();\r\n  return (\r\n    <DialogTrigger type=\"modal\">\r\n      <Tooltip label={<Trans message=\"Login as user\" />}>\r\n        <IconButton size=\"md\">\r\n          <LoginIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <ConfirmationDialog\r\n        title={\r\n          <Trans\r\n            message=\"Login as :name\"\r\n            values={{name: user.display_name}}\r\n          />\r\n        }\r\n        isLoading={impersonate.isPending}\r\n        body={<Trans message=\"Are you sure you want to login as this user?\" />}\r\n        confirm={<Trans message=\"Login\" />}\r\n        onConfirm={() => {\r\n          impersonate.mutate({userId: user.id});\r\n        }}\r\n      />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n","import React, {Fragment} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {UserDatatableFilters} from './user-datatable-filters';\r\nimport {DataTablePage} from '../../datatable/page/data-table-page';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\r\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\r\nimport teamSvg from '../roles/team.svg';\r\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\r\nimport {DataTableExportCsvButton} from '../../datatable/csv-export/data-table-export-csv-button';\r\nimport {useSettings} from '../../core/settings/use-settings';\r\nimport {userDatatableColumns} from '@common/admin/users/user-datatable-columns';\r\n\r\nexport function UserDatatable() {\r\n  const {billing} = useSettings();\r\n\r\n  const filteredColumns = !billing.enable\r\n    ? userDatatableColumns.filter(c => c.key !== 'subscribed')\r\n    : userDatatableColumns;\r\n\r\n  return (\r\n    <Fragment>\r\n      <DataTablePage\r\n        endpoint=\"users\"\r\n        title={<Trans message=\"Users\" />}\r\n        filters={UserDatatableFilters}\r\n        columns={filteredColumns}\r\n        actions={<Actions />}\r\n        queryParams={{with: 'subscriptions,bans'}}\r\n        selectedActions={<DeleteSelectedItemsAction />}\r\n        emptyStateMessage={\r\n          <DataTableEmptyStateMessage\r\n            image={teamSvg}\r\n            title={<Trans message=\"No users have been created yet\" />}\r\n            filteringTitle={<Trans message=\"No matching users\" />}\r\n          />\r\n        }\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction Actions() {\r\n  return (\r\n    <Fragment>\r\n      <DataTableExportCsvButton endpoint=\"users/csv/export\" />\r\n      <DataTableAddItemButton elementType={Link} to=\"new\">\r\n        <Trans message=\"Add new user\" />\r\n      </DataTableAddItemButton>\r\n    </Fragment>\r\n  );\r\n}\r\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...a) => api.dispatch(...a), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api)\n    return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\n      console.warn(\n        \"[zustand devtools middleware] Please install/enable Redux devtools extension\"\n      );\n    }\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording)\n      return r;\n    const action = nameOrAction === void 0 ? { type: anonymousActionType || \"anonymous\" } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...a) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && a[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...a);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools)\n              return;\n            if (typeof api.dispatch !== \"function\")\n              return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState)\n              return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, f) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0)\n    f(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nconst combine = (initialState, create) => (...a) => Object.assign({}, initialState, create(...a));\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(\n      name,\n      JSON.stringify(newValue, options == null ? void 0 : options.replacer)\n    ),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst oldImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    getStorage: () => localStorage,\n    serialize: JSON.stringify,\n    deserialize: JSON.parse,\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage;\n  try {\n    storage = options.getStorage();\n  } catch (e) {\n  }\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const thenableSerialize = toThenable(options.serialize);\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    let errorInSync;\n    const thenable = thenableSerialize({ state, version: options.version }).then(\n      (serializedValue) => storage.setItem(options.name, serializedValue)\n    ).catch((e) => {\n      errorInSync = e;\n    });\n    if (errorInSync) {\n      throw errorInSync;\n    }\n    return thenable;\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a;\n    if (!storage)\n      return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => cb(get()));\n    const postRehydrationCallback = ((_a = options.onRehydrateStorage) == null ? void 0 : _a.call(options, get())) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue) => {\n      if (storageValue) {\n        return options.deserialize(storageValue);\n      }\n    }).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.getStorage) {\n        storage = newOptions.getStorage();\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  hydrate();\n  return stateFromStorage || configResult;\n};\nconst newImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage)\n      return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            return options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return deserializedStorageValue.state;\n        }\n      }\n    }).then((migratedState) => {\n      var _a2;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      return setItem();\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persistImpl = (config, baseOptions) => {\n  if (\"getStorage\" in baseOptions || \"serialize\" in baseOptions || \"deserialize\" in baseOptions) {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead.\"\n      );\n    }\n    return oldImpl(config, baseOptions);\n  }\n  return newImpl(config, baseOptions);\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","export function chunkArray<T>(array: T[], chunkSize: number): T[][] {\r\n  return array.reduce<any>((resultArray, item, index) => {\r\n    const chunkIndex = Math.floor(index / chunkSize);\r\n\r\n    if (!resultArray[chunkIndex]) {\r\n      resultArray[chunkIndex] = [];\r\n    }\r\n\r\n    resultArray[chunkIndex].push(item);\r\n\r\n    return resultArray;\r\n  }, []);\r\n}\r\n","import {\r\n  IAppearanceConfig,\r\n  MenuSectionConfig,\r\n} from '@common/admin/appearance/types/appearance-editor-config';\r\nimport {message} from '@common/i18n/message';\r\nimport {chunkArray} from '@common/utils/array/chunk-array';\r\nimport {AppearanceEditorBreadcrumbItem} from '@common/admin/appearance/types/appearance-editor-section';\r\n\r\nexport const DefaultAppearanceConfig: IAppearanceConfig = {\r\n  preview: {\r\n    defaultRoute: '/',\r\n    navigationRoutes: [],\r\n  },\r\n  sections: {\r\n    general: {\r\n      label: message('General'),\r\n      position: 1,\r\n      buildBreadcrumb: () => [\r\n        {\r\n          label: message('General'),\r\n          location: `general`,\r\n        },\r\n      ],\r\n    },\r\n    themes: {\r\n      label: message('Themes'),\r\n      position: 2,\r\n      buildBreadcrumb: (pathname, formValue) => {\r\n        const parts = pathname.split('/').filter(p => !!p);\r\n        const [, , , themeIndex] = parts;\r\n        const breadcrumb: AppearanceEditorBreadcrumbItem[] = [\r\n          {\r\n            label: message('Themes'),\r\n            location: `themes`,\r\n          },\r\n        ];\r\n        if (themeIndex != null) {\r\n          breadcrumb.push({\r\n            label: formValue.appearance.themes.all[+themeIndex]?.name,\r\n            location: `themes/${themeIndex}`,\r\n          });\r\n        }\r\n        if (parts.at(-1) === 'font') {\r\n          breadcrumb.push({\r\n            label: message('Font'),\r\n            location: `themes/${themeIndex}/font`,\r\n          });\r\n        }\r\n        if (parts.at(-1) === 'radius') {\r\n          breadcrumb.push({\r\n            label: message('Rounding'),\r\n            location: `themes/${themeIndex}/radius`,\r\n          });\r\n        }\r\n        return breadcrumb;\r\n      },\r\n    },\r\n    menus: {\r\n      label: message('Menus'),\r\n      position: 3,\r\n      buildBreadcrumb: (pathname, formValue) => {\r\n        // /admin/appearance/menus/0/items/1\r\n        const parts = pathname.split('/').filter(p => !!p);\r\n        const [, , ...rest] = parts;\r\n        // admin/appearance\r\n        const breadcrumb: AppearanceEditorBreadcrumbItem[] = [\r\n          {\r\n            label: message('Menus'),\r\n            location: 'menus',\r\n          },\r\n        ];\r\n        // chunk every two items: [form group, item index]\r\n        const chunked = chunkArray(rest, 2);\r\n        chunked.forEach(([sectionName, sectionIndex], chunkIndex) => {\r\n          // menu\r\n          if (sectionName === 'menus' && sectionIndex != null) {\r\n            breadcrumb.push({\r\n              label: formValue.settings.menus[+sectionIndex]?.name,\r\n              location: `menus/${sectionIndex}`,\r\n            });\r\n            // menu item\r\n          } else if (sectionName === 'items' && sectionIndex != null) {\r\n            const [, menuIndex] = chunked[chunkIndex - 1];\r\n            breadcrumb.push({\r\n              label:\r\n                formValue.settings.menus[+menuIndex].items[+sectionIndex]\r\n                  ?.label,\r\n              location: `menus/${menuIndex}/${sectionIndex}`,\r\n            });\r\n          }\r\n        });\r\n        return breadcrumb;\r\n      },\r\n      config: {\r\n        availableRoutes: [\r\n          '/',\r\n          '/login',\r\n          '/register',\r\n          '/contact',\r\n          '/pricing',\r\n          '/account-settings',\r\n          '/admin',\r\n          '/admin/appearance',\r\n          '/admin/settings',\r\n          '/admin/plans',\r\n          '/admin/subscriptions',\r\n          '/admin/users',\r\n          '/admin/roles',\r\n          '/admin/pages',\r\n          '/admin/tags',\r\n          '/admin/files',\r\n          '/admin/localizations',\r\n          '/admin/ads',\r\n          '/admin/settings/authentication',\r\n          '/admin/settings/branding',\r\n          '/admin/settings/cache',\r\n          '/admin/settings/providers',\r\n          '/api-docs',\r\n        ],\r\n        positions: [\r\n          'admin-navbar',\r\n          'admin-sidebar',\r\n          'custom-page-navbar',\r\n          'auth-page-footer',\r\n          'auth-dropdown',\r\n          'account-settings-page',\r\n          'billing-page',\r\n          'checkout-page-navbar',\r\n          'checkout-page-footer',\r\n          'pricing-table-page',\r\n          'contact-us-page',\r\n          'notifications-page',\r\n          'footer',\r\n          'footer-secondary',\r\n        ],\r\n      } as MenuSectionConfig,\r\n    },\r\n    'custom-code': {\r\n      label: message('Custom Code'),\r\n      position: 4,\r\n      buildBreadcrumb: () => [\r\n        {\r\n          label: message('Custom code'),\r\n          location: `custom-code`,\r\n        },\r\n      ],\r\n    },\r\n    'seo-settings': {\r\n      label: message('SEO Settings'),\r\n      position: 5,\r\n      buildBreadcrumb: () => [\r\n        {\r\n          label: message('SEO'),\r\n          location: `seo`,\r\n        },\r\n      ],\r\n    },\r\n  },\r\n};\r\n","import React, {ReactNode} from 'react';\r\nimport clsx from 'clsx';\r\nimport {getInputFieldClassNames} from '../input-field/get-input-field-class-names';\r\nimport {UseSliderProps, UseSliderReturn} from './use-slider';\r\n\r\nexport interface BaseSliderProps extends UseSliderProps {\r\n  slider: UseSliderReturn;\r\n  children: ReactNode;\r\n}\r\n\r\nexport function BaseSlider(props: BaseSliderProps) {\r\n  const {\r\n    size = 'md',\r\n    inline,\r\n    label,\r\n    showValueLabel = !!label,\r\n    className,\r\n    width = 'w-full',\r\n    slider,\r\n    children,\r\n    trackColor = 'primary',\r\n    fillColor = 'primary',\r\n  } = props;\r\n\r\n  const {\r\n    domProps,\r\n    trackRef,\r\n    getThumbPercent,\r\n    getThumbValueLabel,\r\n    labelId,\r\n    groupId,\r\n    thumbIds,\r\n    isDisabled,\r\n    numberFormatter,\r\n    minValue,\r\n    maxValue,\r\n    step,\r\n    values,\r\n    getValueLabel,\r\n  } = slider;\r\n\r\n  let outputValue = '';\r\n  let maxLabelLength = Math.max(\r\n    [...numberFormatter.format(minValue)].length,\r\n    [...numberFormatter.format(maxValue)].length,\r\n    [...numberFormatter.format(step)].length,\r\n  );\r\n\r\n  if (getValueLabel) {\r\n    outputValue = getValueLabel(values[0]);\r\n  } else if (values.length === 1) {\r\n    outputValue = getThumbValueLabel(0);\r\n  } else if (values.length === 2) {\r\n    // This should really use the NumberFormat#formatRange proposal...\r\n    // https://github.com/tc39/ecma402/issues/393\r\n    // https://github.com/tc39/proposal-intl-numberformat-v3#formatrange-ecma-402-393\r\n    outputValue = `${getThumbValueLabel(0)}  ${getThumbValueLabel(1)}`;\r\n    maxLabelLength =\r\n      3 +\r\n      2 *\r\n        Math.max(\r\n          maxLabelLength,\r\n          [...numberFormatter.format(minValue)].length,\r\n          [...numberFormatter.format(maxValue)].length,\r\n        );\r\n  }\r\n  const style = getInputFieldClassNames({\r\n    size,\r\n    disabled: isDisabled,\r\n    labelDisplay: 'flex',\r\n  });\r\n\r\n  const wrapperClassname = clsx('touch-none', className, width, {\r\n    'flex items-center': inline,\r\n  });\r\n\r\n  return (\r\n    <div className={wrapperClassname} role=\"group\" id={groupId}>\r\n      {(label || showValueLabel) && (\r\n        <div className={clsx(style.label, 'select-none')}>\r\n          {label && (\r\n            <label\r\n              onClick={() => {\r\n                // Safari does not focus <input type=\"range\"> elements when clicking on an associated <label>,\r\n                // so do it manually. In addition, make sure we show the focus ring.\r\n                document.getElementById(thumbIds[0])?.focus();\r\n              }}\r\n              id={labelId}\r\n              htmlFor={groupId}\r\n            >\r\n              {label}\r\n            </label>\r\n          )}\r\n          {showValueLabel && (\r\n            <output\r\n              htmlFor={thumbIds[0]}\r\n              className=\"ml-auto text-right\"\r\n              aria-live=\"off\"\r\n              style={\r\n                !maxLabelLength\r\n                  ? undefined\r\n                  : {\r\n                      width: `${maxLabelLength}ch`,\r\n                      minWidth: `${maxLabelLength}ch`,\r\n                    }\r\n              }\r\n            >\r\n              {outputValue}\r\n            </output>\r\n          )}\r\n        </div>\r\n      )}\r\n      <div\r\n        ref={trackRef}\r\n        className={clsx('relative', getWrapperHeight(props))}\r\n        {...domProps}\r\n        role=\"presentation\"\r\n      >\r\n        <div\r\n          className={clsx(\r\n            'absolute inset-0 m-auto rounded',\r\n            getTrackColor(trackColor, isDisabled),\r\n            getTrackHeight(size),\r\n          )}\r\n        />\r\n        <div\r\n          className={clsx(\r\n            'absolute inset-0 my-auto rounded',\r\n            getFillColor(fillColor, isDisabled),\r\n            getTrackHeight(size),\r\n          )}\r\n          style={{width: `${Math.max(getThumbPercent(0) * 100, 0)}%`}}\r\n        />\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction getWrapperHeight({size, wrapperHeight}: UseSliderProps): string {\r\n  if (wrapperHeight) return wrapperHeight;\r\n  switch (size) {\r\n    case 'xs':\r\n      return 'h-14';\r\n    case 'sm':\r\n      return 'h-20';\r\n    default:\r\n      return 'h-30';\r\n  }\r\n}\r\n\r\nfunction getTrackHeight(size: UseSliderProps['size']): string {\r\n  switch (size) {\r\n    case 'xs':\r\n      return 'h-2';\r\n    case 'sm':\r\n      return 'h-3';\r\n    default:\r\n      return 'h-4';\r\n  }\r\n}\r\n\r\nfunction getTrackColor(color: string, isDisabled: boolean): string {\r\n  if (isDisabled) {\r\n    color = 'disabled';\r\n  }\r\n  switch (color) {\r\n    case 'disabled':\r\n      return 'bg-slider-disabled/60';\r\n    case 'primary':\r\n      return 'bg-primary-light';\r\n    case 'neutral':\r\n      return 'bg-divider';\r\n    default:\r\n      return color;\r\n  }\r\n}\r\n\r\nfunction getFillColor(color: string, isDisabled: boolean): string {\r\n  if (isDisabled) {\r\n    color = 'disabled';\r\n  }\r\n  switch (color) {\r\n    case 'disabled':\r\n      return 'bg-slider-disabled';\r\n    case 'primary':\r\n      return 'bg-primary';\r\n    default:\r\n      return color;\r\n  }\r\n}\r\n","import {\r\n  mergeProps,\r\n  snapValueToStep,\r\n  useGlobalListeners,\r\n} from '@react-aria/utils';\r\nimport {useControlledState} from '@react-stately/utils';\r\nimport React, {\r\n  HTMLAttributes,\r\n  ReactNode,\r\n  RefObject,\r\n  useId,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport {clamp} from '@common/utils/number/clamp';\r\nimport {usePointerEvents} from '../../interactions/use-pointer-events';\r\nimport {useNumberFormatter} from '@common/i18n/use-number-formatter';\r\nimport type {NumberFormatOptions} from '@internationalized/number';\r\n\r\nexport interface UseSliderProps<T = number[]> {\r\n  formatOptions?: NumberFormatOptions;\r\n  onPointerDown?: () => void;\r\n  onPointerMove?: (e: React.PointerEvent) => void;\r\n  onChange?: (value: T) => void;\r\n  onChangeEnd?: (value: T) => void;\r\n  value?: T;\r\n  defaultValue?: T;\r\n  getValueLabel?: (value: number) => string;\r\n  minValue?: number;\r\n  maxValue?: number;\r\n  step?: number;\r\n  isDisabled?: boolean;\r\n  size?: 'xs' | 'sm' | 'md';\r\n  label?: ReactNode;\r\n  inline?: boolean;\r\n  className?: string;\r\n  width?: string;\r\n  showValueLabel?: boolean;\r\n  fillColor?: 'primary' | string;\r\n  trackColor?: 'primary' | 'neutral' | string;\r\n  showThumbOnHoverOnly?: boolean;\r\n  thumbSize?: string;\r\n  wrapperHeight?: string;\r\n}\r\n\r\nexport interface UseSliderReturn {\r\n  domProps: HTMLAttributes<HTMLElement>;\r\n  trackRef: RefObject<HTMLDivElement>;\r\n  isPointerOver: boolean;\r\n  showThumbOnHoverOnly?: boolean;\r\n  thumbSize?: string;\r\n  step: number;\r\n  isDisabled: boolean;\r\n  values: number[];\r\n  minValue: number;\r\n  maxValue: number;\r\n  focusedThumb: number | undefined;\r\n  labelId: string | undefined;\r\n  groupId: string;\r\n  thumbIds: string[];\r\n  numberFormatter: Intl.NumberFormat;\r\n  getThumbPercent: (index: number) => number;\r\n  getThumbMinValue: (index: number) => number;\r\n  getThumbMaxValue: (index: number) => number;\r\n  getThumbValueLabel: (index: number) => string;\r\n  setThumbValue: (index: number, value: number) => void;\r\n  updateDraggedThumbs: (index: number, dragging: boolean) => void;\r\n  isThumbDragging: (index: number) => boolean;\r\n  setThumbEditable: (index: number, editable: boolean) => void;\r\n  setFocusedThumb: (index: number | undefined) => void;\r\n  getValueLabel?: (value: number) => string;\r\n}\r\n\r\nexport function useSlider({\r\n  minValue = 0,\r\n  maxValue = 100,\r\n  isDisabled = false,\r\n  step = 1,\r\n  formatOptions,\r\n  onChangeEnd,\r\n  onPointerDown,\r\n  label,\r\n  getValueLabel,\r\n  showThumbOnHoverOnly,\r\n  thumbSize,\r\n  onPointerMove,\r\n  ...props\r\n}: UseSliderProps): UseSliderReturn {\r\n  const [isPointerOver, setIsPointerOver] = useState(false);\r\n  const numberFormatter = useNumberFormatter(formatOptions);\r\n  const {addGlobalListener, removeGlobalListener} = useGlobalListeners();\r\n  const trackRef = useRef<HTMLDivElement>(null);\r\n\r\n  // values will be stored in internal state as an array for both slider and range slider\r\n  const [values, setValues] = useControlledState<number[]>(\r\n    props.value ? props.value : undefined,\r\n    props.defaultValue ?? ([minValue] as any),\r\n    props.onChange as any,\r\n  );\r\n  // need to also store values in ref, because state value would\r\n  // lag behind by one between pointer down and move callbacks\r\n  const valuesRef = useRef<number[] | null>(null);\r\n  valuesRef.current = values;\r\n\r\n  // indices of thumbs that are being dragged currently (state and ref for same reasons as above)\r\n  const [draggedThumbs, setDraggedThumbs] = useState<boolean[]>(\r\n    new Array(values.length).fill(false),\r\n  );\r\n  const draggedThumbsRef = useRef<boolean[] | null>(null);\r\n  draggedThumbsRef.current = draggedThumbs;\r\n\r\n  // formatted value for <output> and thumb aria labels\r\n  function getFormattedValue(value: number) {\r\n    return numberFormatter.format(value);\r\n  }\r\n\r\n  const isThumbDragging = (index: number) => {\r\n    return draggedThumbsRef.current?.[index] || false;\r\n  };\r\n\r\n  const getThumbValueLabel = (index: number) =>\r\n    getFormattedValue(values[index]);\r\n\r\n  const getThumbMinValue = (index: number) =>\r\n    index === 0 ? minValue : values[index - 1];\r\n  const getThumbMaxValue = (index: number) =>\r\n    index === values.length - 1 ? maxValue : values[index + 1];\r\n\r\n  const setThumbValue = (index: number, value: number) => {\r\n    if (isDisabled || !isThumbEditable(index) || !valuesRef.current) {\r\n      return;\r\n    }\r\n    const thisMin = getThumbMinValue(index);\r\n    const thisMax = getThumbMaxValue(index);\r\n\r\n    // Round value to multiple of step, clamp value between min and max\r\n    value = snapValueToStep(value, thisMin, thisMax, step);\r\n    valuesRef.current = replaceIndex(valuesRef.current, index, value);\r\n    setValues(valuesRef.current);\r\n  };\r\n\r\n  // update \"dragging\" status of specified thumb\r\n  const updateDraggedThumbs = (index: number, dragging: boolean) => {\r\n    if (isDisabled || !isThumbEditable(index)) {\r\n      return;\r\n    }\r\n\r\n    const wasDragging = draggedThumbsRef.current?.[index];\r\n    draggedThumbsRef.current = replaceIndex(\r\n      draggedThumbsRef.current || [],\r\n      index,\r\n      dragging,\r\n    );\r\n    setDraggedThumbs(draggedThumbsRef.current);\r\n\r\n    // Call onChangeEnd if no handles are dragging.\r\n    if (onChangeEnd && wasDragging && !draggedThumbsRef.current.some(Boolean)) {\r\n      onChangeEnd(valuesRef.current || []);\r\n    }\r\n  };\r\n\r\n  const [focusedThumb, setFocusedThumb] = useState<number | undefined>(\r\n    undefined,\r\n  );\r\n\r\n  const getValuePercent = (value: number) => {\r\n    const x = Math.min(1, (value - minValue) / (maxValue - minValue));\r\n    if (isNaN(x)) {\r\n      return 0;\r\n    }\r\n    return x;\r\n  };\r\n\r\n  const getThumbPercent = (index: number) =>\r\n    getValuePercent(valuesRef.current![index]);\r\n\r\n  const setThumbPercent = (index: number, percent: number) => {\r\n    setThumbValue(index, getPercentValue(percent));\r\n  };\r\n\r\n  const getRoundedValue = (value: number) =>\r\n    Math.round((value - minValue) / step) * step + minValue;\r\n\r\n  const getPercentValue = (percent: number) => {\r\n    const val = percent * (maxValue - minValue) + minValue;\r\n    return clamp(getRoundedValue(val), minValue, maxValue);\r\n  };\r\n\r\n  // allows disabling individual thumbs in range slider, instead of disable the whole slider\r\n  const editableThumbsRef = useRef<boolean[]>(\r\n    new Array(values.length).fill(true),\r\n  );\r\n  const isThumbEditable = (index: number) => editableThumbsRef.current[index];\r\n  const setThumbEditable = (index: number, editable: boolean) => {\r\n    editableThumbsRef.current[index] = editable;\r\n  };\r\n\r\n  // When the user clicks or drags the track, we want the motion to set and drag the\r\n  // closest thumb. Hence, we also need to install useMove() on the track element.\r\n  // Here, we keep track of which index is the \"closest\" to the drag start point.\r\n  // It is set onMouseDown/onTouchDown; see trackProps below.\r\n  const realTimeTrackDraggingIndex = useRef<number | null>(null);\r\n\r\n  const currentPointer = useRef<number | null | undefined>(undefined);\r\n  const handlePointerDown = (e: React.PointerEvent) => {\r\n    if (\r\n      e.pointerType === 'mouse' &&\r\n      (e.button !== 0 || e.altKey || e.ctrlKey || e.metaKey)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    onPointerDown?.();\r\n\r\n    // We only trigger track-dragging if the user clicks on the track itself and nothing is currently being dragged.\r\n    if (\r\n      trackRef.current &&\r\n      !isDisabled &&\r\n      values.every((_, i) => !draggedThumbs[i])\r\n    ) {\r\n      const size = trackRef.current.offsetWidth;\r\n      // Find the closest thumb\r\n      const trackPosition = trackRef.current.getBoundingClientRect().left;\r\n      const offset = e.clientX - trackPosition;\r\n      const percent = offset / size;\r\n      const value = getPercentValue(percent);\r\n\r\n      // to find the closet thumb we split the array based on the first thumb position to the \"right/end\" of the click.\r\n      let closestThumb;\r\n      const split = values.findIndex(v => value - v < 0);\r\n      if (split === 0) {\r\n        // If the index is zero then the closest thumb is the first one\r\n        closestThumb = split;\r\n      } else if (split === -1) {\r\n        // If no index is found they've clicked past all the thumbs\r\n        closestThumb = values.length - 1;\r\n      } else {\r\n        const lastLeft = values[split - 1];\r\n        const firstRight = values[split];\r\n        // Pick the last left/start thumb, unless they are stacked on top of each other, then pick the right/end one\r\n        if (Math.abs(lastLeft - value) < Math.abs(firstRight - value)) {\r\n          closestThumb = split - 1;\r\n        } else {\r\n          closestThumb = split;\r\n        }\r\n      }\r\n\r\n      // Confirm that the found closest thumb is editable, not disabled, and move it\r\n      if (closestThumb >= 0 && isThumbEditable(closestThumb)) {\r\n        // Don't un-focus anything\r\n        e.preventDefault();\r\n\r\n        realTimeTrackDraggingIndex.current = closestThumb;\r\n        setFocusedThumb(closestThumb);\r\n        currentPointer.current = e.pointerId;\r\n\r\n        updateDraggedThumbs(realTimeTrackDraggingIndex.current, true);\r\n        setThumbValue(closestThumb, value);\r\n\r\n        addGlobalListener(window, 'pointerup', onUpTrack, false);\r\n      } else {\r\n        realTimeTrackDraggingIndex.current = null;\r\n      }\r\n    }\r\n  };\r\n\r\n  const currentPosition = useRef<number | null>(null);\r\n  const {domProps: moveDomProps} = usePointerEvents({\r\n    onPointerDown: handlePointerDown,\r\n    onMoveStart() {\r\n      currentPosition.current = null;\r\n    },\r\n    onMove(e, deltaX) {\r\n      const size = trackRef.current?.offsetWidth || 0;\r\n\r\n      if (currentPosition.current == null) {\r\n        currentPosition.current =\r\n          getThumbPercent(realTimeTrackDraggingIndex.current || 0) * size;\r\n      }\r\n\r\n      currentPosition.current += deltaX;\r\n\r\n      if (realTimeTrackDraggingIndex.current != null && trackRef.current) {\r\n        const percent = clamp(currentPosition.current / size, 0, 1);\r\n        setThumbPercent(realTimeTrackDraggingIndex.current, percent);\r\n      }\r\n    },\r\n    onMoveEnd() {\r\n      if (realTimeTrackDraggingIndex.current != null) {\r\n        updateDraggedThumbs(realTimeTrackDraggingIndex.current, false);\r\n        realTimeTrackDraggingIndex.current = null;\r\n      }\r\n    },\r\n  });\r\n\r\n  const domProps = mergeProps(moveDomProps, {\r\n    onPointerEnter: () => {\r\n      setIsPointerOver(true);\r\n    },\r\n    onPointerLeave: () => {\r\n      setIsPointerOver(false);\r\n    },\r\n    onPointerMove: (e: React.PointerEvent) => {\r\n      onPointerMove?.(e);\r\n    },\r\n  });\r\n\r\n  const onUpTrack = (e: PointerEvent) => {\r\n    const id = e.pointerId;\r\n    if (id === currentPointer.current) {\r\n      if (realTimeTrackDraggingIndex.current != null) {\r\n        updateDraggedThumbs(realTimeTrackDraggingIndex.current, false);\r\n        realTimeTrackDraggingIndex.current = null;\r\n      }\r\n\r\n      removeGlobalListener(window, 'pointerup', onUpTrack, false);\r\n    }\r\n  };\r\n\r\n  const id = useId();\r\n  const labelId = label ? `${id}-label` : undefined;\r\n  const groupId = `${id}-group`;\r\n  const thumbIds = [...Array(values.length)].map((v, i) => {\r\n    return `${id}-thumb-${i}`;\r\n  });\r\n\r\n  return {\r\n    domProps,\r\n    trackRef,\r\n    isDisabled,\r\n    step,\r\n    values,\r\n    minValue,\r\n    maxValue,\r\n    focusedThumb,\r\n    labelId,\r\n    groupId,\r\n    thumbIds,\r\n    numberFormatter,\r\n    getThumbPercent,\r\n    getThumbMinValue,\r\n    getThumbMaxValue,\r\n    getThumbValueLabel,\r\n    isThumbDragging,\r\n    setThumbValue,\r\n    updateDraggedThumbs,\r\n    setThumbEditable,\r\n    setFocusedThumb,\r\n    getValueLabel,\r\n    isPointerOver,\r\n    showThumbOnHoverOnly,\r\n    thumbSize,\r\n  };\r\n}\r\n\r\nfunction replaceIndex<T>(array: T[], index: number, value: T) {\r\n  if (array[index] === value) {\r\n    return array;\r\n  }\r\n\r\n  return [...array.slice(0, index), value, ...array.slice(index + 1)];\r\n}\r\n","import React, {Ref, useCallback, useEffect, useRef} from 'react';\r\nimport clsx from 'clsx';\r\nimport {UseSliderReturn} from './use-slider';\r\nimport {useGlobalListeners, useObjectRef} from '@react-aria/utils';\r\nimport {createEventHandler} from '@common/utils/dom/create-event-handler';\r\nimport {BaseSliderProps} from '@common/ui/forms/slider/base-slider';\r\n\r\ninterface SliderThumb {\r\n  index: number;\r\n  slider: UseSliderReturn;\r\n  isDisabled?: boolean;\r\n  ariaLabel?: string;\r\n  inputRef?: Ref<HTMLInputElement>;\r\n  onBlur?: React.FocusEventHandler;\r\n  fillColor?: BaseSliderProps['fillColor'];\r\n}\r\n\r\nexport function SliderThumb({\r\n  index,\r\n  slider,\r\n  isDisabled: isThumbDisabled,\r\n  ariaLabel,\r\n  inputRef,\r\n  onBlur,\r\n  fillColor = 'primary',\r\n}: SliderThumb) {\r\n  const inputObjRef = useObjectRef(inputRef);\r\n  const {addGlobalListener, removeGlobalListener} = useGlobalListeners();\r\n\r\n  const {\r\n    step,\r\n    values,\r\n    focusedThumb,\r\n    labelId,\r\n    thumbIds,\r\n    isDisabled: isSliderDisabled,\r\n    getThumbPercent,\r\n    getThumbMinValue,\r\n    getThumbMaxValue,\r\n    getThumbValueLabel,\r\n    setThumbValue,\r\n    updateDraggedThumbs,\r\n    isThumbDragging,\r\n    setThumbEditable,\r\n    setFocusedThumb,\r\n    isPointerOver,\r\n    showThumbOnHoverOnly,\r\n    thumbSize = 'w-18 h-18',\r\n  } = slider;\r\n\r\n  const isDragging = isThumbDragging(index);\r\n  const value = values[index];\r\n\r\n  // Immediately register editability with the state\r\n  setThumbEditable(index, !isThumbDisabled);\r\n  const isDisabled = isThumbDisabled || isSliderDisabled;\r\n\r\n  const focusInput = useCallback(() => {\r\n    if (inputObjRef.current) {\r\n      inputObjRef.current.focus({preventScroll: true});\r\n    }\r\n  }, [inputObjRef]);\r\n\r\n  // we will focus the native range input when slider is clicked or thumb is\r\n  // focused in some other way, and let browser handle keyboard interactions\r\n  const isFocused = focusedThumb === index;\r\n  useEffect(() => {\r\n    if (isFocused) {\r\n      focusInput();\r\n    }\r\n  }, [isFocused, focusInput]);\r\n\r\n  const currentPointer = useRef<number | undefined>(undefined);\r\n  const handlePointerUp = (e: PointerEvent) => {\r\n    if (e.pointerId === currentPointer.current) {\r\n      focusInput();\r\n      updateDraggedThumbs(index, false);\r\n      removeGlobalListener(window, 'pointerup', handlePointerUp, false);\r\n    }\r\n  };\r\n\r\n  const className = clsx(\r\n    'outline-none rounded-full top-1/2 -translate-y-1/2 -translate-x-1/2 absolute inset-0 transition-button duration-200',\r\n    thumbSize,\r\n    !isDisabled && 'shadow-md',\r\n    thumbColor({fillColor, isDisabled, isDragging: isDragging}),\r\n    // show thumb on hover and while dragging, otherwise \"blur\" event will fire on thumb and dragging will stop\r\n    !showThumbOnHoverOnly ||\r\n      (showThumbOnHoverOnly && isDragging) ||\r\n      isPointerOver\r\n      ? 'visible'\r\n      : 'invisible',\r\n  );\r\n\r\n  return (\r\n    <div\r\n      role=\"presentation\"\r\n      className={className}\r\n      style={{\r\n        left: `${Math.max(getThumbPercent(index) * 100, 0)}%`,\r\n      }}\r\n      onPointerDown={e => {\r\n        if (e.button !== 0 || e.altKey || e.ctrlKey || e.metaKey) {\r\n          return;\r\n        }\r\n        focusInput();\r\n        currentPointer.current = e.pointerId;\r\n        updateDraggedThumbs(index, true);\r\n\r\n        addGlobalListener(window, 'pointerup', handlePointerUp, false);\r\n      }}\r\n    >\r\n      <input\r\n        id={thumbIds[index]}\r\n        onKeyDown={createEventHandler(() => {\r\n          updateDraggedThumbs(index, true);\r\n        })}\r\n        onKeyUp={createEventHandler(() => {\r\n          // make sure \"onChangeEnd\" is fired on keyboard navigation\r\n          updateDraggedThumbs(index, false);\r\n        })}\r\n        ref={inputObjRef}\r\n        tabIndex={!isDisabled ? 0 : undefined}\r\n        min={getThumbMinValue(index)}\r\n        max={getThumbMaxValue(index)}\r\n        step={step}\r\n        value={value}\r\n        disabled={isDisabled}\r\n        aria-label={ariaLabel}\r\n        aria-labelledby={labelId}\r\n        aria-orientation=\"horizontal\"\r\n        aria-valuetext={getThumbValueLabel(index)}\r\n        onFocus={() => {\r\n          setFocusedThumb(index);\r\n        }}\r\n        onBlur={e => {\r\n          setFocusedThumb(undefined);\r\n          updateDraggedThumbs(index, false);\r\n          onBlur?.(e);\r\n        }}\r\n        onChange={e => {\r\n          setThumbValue(index, parseFloat(e.target.value));\r\n        }}\r\n        type=\"range\"\r\n        className=\"sr-only\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface SliderThumbColorProps {\r\n  isDisabled?: boolean;\r\n  isDragging: boolean;\r\n  fillColor?: BaseSliderProps['fillColor'];\r\n}\r\n\r\nfunction thumbColor({\r\n  isDisabled,\r\n  isDragging,\r\n  fillColor,\r\n}: SliderThumbColorProps): string {\r\n  if (isDisabled) {\r\n    return 'bg-slider-disabled cursor-default';\r\n  }\r\n\r\n  if (fillColor && fillColor !== 'primary') {\r\n    return fillColor;\r\n  }\r\n\r\n  return clsx(\r\n    'hover:bg-primary-dark',\r\n    isDragging ? 'bg-primary-dark' : 'bg-primary',\r\n  );\r\n}\r\n","import {BaseSlider} from './base-slider';\r\nimport {useSlider, UseSliderProps} from './use-slider';\r\nimport React, {Ref} from 'react';\r\nimport {SliderThumb} from './slider-thumb';\r\nimport {useController} from 'react-hook-form';\r\nimport {mergeProps} from '@react-aria/utils';\r\n\r\ninterface SliderProps extends UseSliderProps<number> {\r\n  inputRef?: Ref<HTMLInputElement>;\r\n  onBlur?: React.FocusEventHandler;\r\n}\r\nexport function Slider({inputRef, onBlur, ...props}: SliderProps) {\r\n  const {onChange, onChangeEnd, value, defaultValue, ...otherProps} = props;\r\n\r\n  const baseProps: UseSliderProps = {\r\n    ...otherProps,\r\n    // Normalize `value: number[]` to `value: number`\r\n    value: value != null ? [value] : undefined,\r\n    defaultValue: defaultValue != null ? [defaultValue] : undefined,\r\n    onChange: (v: number[]): void => {\r\n      onChange?.(v[0]);\r\n    },\r\n    onChangeEnd: (v: number[]): void => {\r\n      onChangeEnd?.(v[0]);\r\n    },\r\n  };\r\n\r\n  const slider = useSlider(baseProps);\r\n\r\n  return (\r\n    <BaseSlider {...baseProps} slider={slider}>\r\n      <SliderThumb\r\n        fillColor={props.fillColor}\r\n        index={0}\r\n        slider={slider}\r\n        inputRef={inputRef}\r\n        onBlur={onBlur}\r\n      />\r\n    </BaseSlider>\r\n  );\r\n}\r\n\r\nexport interface FormSliderProps extends SliderProps {\r\n  name: string;\r\n}\r\n\r\nexport function FormSlider({name, ...props}: FormSliderProps) {\r\n  const {\r\n    field: {onChange, onBlur, value = '', ref},\r\n  } = useController({\r\n    name,\r\n  });\r\n\r\n  const formProps: SliderProps = {\r\n    onChange,\r\n    onBlur,\r\n    value: value || '', // avoid issues with \"null\" value when setting form defaults from backend model\r\n  };\r\n\r\n  return <Slider inputRef={ref} {...mergeProps(formProps, props)} />;\r\n}\r\n","import clsx from 'clsx';\r\nimport {forwardRef, ReactNode} from 'react';\r\nimport {KeyboardArrowRightIcon} from '../../icons/material/KeyboardArrowRight';\r\nimport {ButtonBase, ButtonBaseProps} from '../../ui/buttons/button-base';\r\n\r\ninterface Props extends ButtonBaseProps {\r\n  startIcon?: ReactNode;\r\n  description?: ReactNode;\r\n}\r\nexport const AppearanceButton = forwardRef<HTMLButtonElement, Props>(\r\n  ({startIcon, children, className, description, ...other}, ref) => {\r\n    return (\r\n      <ButtonBase\r\n        ref={ref}\r\n        display=\"flex\"\r\n        className={clsx(\r\n          'relative mb-10 h-54 w-full items-center gap-10 rounded-input border bg px-14 text-sm hover:bg-hover',\r\n          className,\r\n        )}\r\n        variant={null}\r\n        {...other}\r\n      >\r\n        {startIcon}\r\n        <span className=\"block min-w-0\">\r\n          <span className=\"block\">{children}</span>\r\n          {description && (\r\n            <span className=\"block overflow-hidden overflow-ellipsis whitespace-nowrap text-xs text-muted\">\r\n              {description}\r\n            </span>\r\n          )}\r\n        </span>\r\n        <KeyboardArrowRightIcon\r\n          aria-hidden\r\n          className=\"ml-auto text-muted icon-sm\"\r\n        />\r\n      </ButtonBase>\r\n    );\r\n  },\r\n);\r\n","import {createSvgIcon} from '../../../../icons/create-svg-icon';\r\n\r\nexport const ColorIcon = createSvgIcon(\r\n  <path\r\n    stroke=\"#E0E0E0\"\r\n    d=\"M24,44c-7.168,0-13-5.816-13-12.971C11,24,24,4,24,4s13,20,13,27.029C37,38.184,31.168,44,24,44z\"\r\n  />\r\n);\r\n","import e,{useRef as r,useMemo as t,useEffect as n,useState as o,useCallback as a,useLayoutEffect as l}from\"react\";function u(){return(u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function c(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r.indexOf(t=a[n])>=0||(o[t]=e[t]);return o}function i(e){var t=r(e),n=r(function(e){t.current&&t.current(e)});return t.current=e,n.current}var s=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=1),e>t?t:e<r?r:e},f=function(e){return\"touches\"in e},v=function(e){return e&&e.ownerDocument.defaultView||self},d=function(e,r,t){var n=e.getBoundingClientRect(),o=f(r)?function(e,r){for(var t=0;t<e.length;t++)if(e[t].identifier===r)return e[t];return e[0]}(r.touches,t):r;return{left:s((o.pageX-(n.left+v(e).pageXOffset))/n.width),top:s((o.pageY-(n.top+v(e).pageYOffset))/n.height)}},h=function(e){!f(e)&&e.preventDefault()},m=e.memo(function(o){var a=o.onMove,l=o.onKey,s=c(o,[\"onMove\",\"onKey\"]),m=r(null),g=i(a),p=i(l),b=r(null),_=r(!1),x=t(function(){var e=function(e){h(e),(f(e)?e.touches.length>0:e.buttons>0)&&m.current?g(d(m.current,e,b.current)):t(!1)},r=function(){return t(!1)};function t(t){var n=_.current,o=v(m.current),a=t?o.addEventListener:o.removeEventListener;a(n?\"touchmove\":\"mousemove\",e),a(n?\"touchend\":\"mouseup\",r)}return[function(e){var r=e.nativeEvent,n=m.current;if(n&&(h(r),!function(e,r){return r&&!f(e)}(r,_.current)&&n)){if(f(r)){_.current=!0;var o=r.changedTouches||[];o.length&&(b.current=o[0].identifier)}n.focus(),g(d(n,r,b.current)),t(!0)}},function(e){var r=e.which||e.keyCode;r<37||r>40||(e.preventDefault(),p({left:39===r?.05:37===r?-.05:0,top:40===r?.05:38===r?-.05:0}))},t]},[p,g]),C=x[0],E=x[1],H=x[2];return n(function(){return H},[H]),e.createElement(\"div\",u({},s,{onTouchStart:C,onMouseDown:C,className:\"react-colorful__interactive\",ref:m,onKeyDown:E,tabIndex:0,role:\"slider\"}))}),g=function(e){return e.filter(Boolean).join(\" \")},p=function(r){var t=r.color,n=r.left,o=r.top,a=void 0===o?.5:o,l=g([\"react-colorful__pointer\",r.className]);return e.createElement(\"div\",{className:l,style:{top:100*a+\"%\",left:100*n+\"%\"}},e.createElement(\"div\",{className:\"react-colorful__pointer-fill\",style:{backgroundColor:t}}))},b=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=Math.pow(10,r)),Math.round(t*e)/t},_={grad:.9,turn:360,rad:360/(2*Math.PI)},x=function(e){return L(C(e))},C=function(e){return\"#\"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?b(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?b(parseInt(e.substring(6,8),16)/255,2):1}},E=function(e,r){return void 0===r&&(r=\"deg\"),Number(e)*(_[r]||1)},H=function(e){var r=/hsla?\\(?\\s*(-?\\d*\\.?\\d+)(deg|rad|grad|turn)?[,\\s]+(-?\\d*\\.?\\d+)%?[,\\s]+(-?\\d*\\.?\\d+)%?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i.exec(e);return r?N({h:E(r[1],r[2]),s:Number(r[3]),l:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)}):{h:0,s:0,v:0,a:1}},M=H,N=function(e){var r=e.s,t=e.l;return{h:e.h,s:(r*=(t<50?t:100-t)/100)>0?2*r/(t+r)*100:0,v:t+r,a:e.a}},w=function(e){return K(I(e))},y=function(e){var r=e.s,t=e.v,n=e.a,o=(200-r)*t/100;return{h:b(e.h),s:b(o>0&&o<200?r*t/100/(o<=100?o:200-o)*100:0),l:b(o/2),a:b(n,2)}},q=function(e){var r=y(e);return\"hsl(\"+r.h+\", \"+r.s+\"%, \"+r.l+\"%)\"},k=function(e){var r=y(e);return\"hsla(\"+r.h+\", \"+r.s+\"%, \"+r.l+\"%, \"+r.a+\")\"},I=function(e){var r=e.h,t=e.s,n=e.v,o=e.a;r=r/360*6,t/=100,n/=100;var a=Math.floor(r),l=n*(1-t),u=n*(1-(r-a)*t),c=n*(1-(1-r+a)*t),i=a%6;return{r:b(255*[n,u,l,l,c,n][i]),g:b(255*[c,n,n,u,l,l][i]),b:b(255*[l,l,c,n,n,u][i]),a:b(o,2)}},O=function(e){var r=/hsva?\\(?\\s*(-?\\d*\\.?\\d+)(deg|rad|grad|turn)?[,\\s]+(-?\\d*\\.?\\d+)%?[,\\s]+(-?\\d*\\.?\\d+)%?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i.exec(e);return r?A({h:E(r[1],r[2]),s:Number(r[3]),v:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)}):{h:0,s:0,v:0,a:1}},j=O,z=function(e){var r=/rgba?\\(?\\s*(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i.exec(e);return r?L({r:Number(r[1])/(r[2]?100/255:1),g:Number(r[3])/(r[4]?100/255:1),b:Number(r[5])/(r[6]?100/255:1),a:void 0===r[7]?1:Number(r[7])/(r[8]?100:1)}):{h:0,s:0,v:0,a:1}},B=z,D=function(e){var r=e.toString(16);return r.length<2?\"0\"+r:r},K=function(e){var r=e.r,t=e.g,n=e.b,o=e.a,a=o<1?D(b(255*o)):\"\";return\"#\"+D(r)+D(t)+D(n)+a},L=function(e){var r=e.r,t=e.g,n=e.b,o=e.a,a=Math.max(r,t,n),l=a-Math.min(r,t,n),u=l?a===r?(t-n)/l:a===t?2+(n-r)/l:4+(r-t)/l:0;return{h:b(60*(u<0?u+6:u)),s:b(a?l/a*100:0),v:b(a/255*100),a:o}},A=function(e){return{h:b(e.h),s:b(e.s),v:b(e.v),a:b(e.a,2)}},S=e.memo(function(r){var t=r.hue,n=r.onChange,o=g([\"react-colorful__hue\",r.className]);return e.createElement(\"div\",{className:o},e.createElement(m,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:s(t+360*e.left,0,360)})},\"aria-label\":\"Hue\",\"aria-valuenow\":b(t),\"aria-valuemax\":\"360\",\"aria-valuemin\":\"0\"},e.createElement(p,{className:\"react-colorful__hue-pointer\",left:t/360,color:q({h:t,s:100,v:100,a:1})})))}),T=e.memo(function(r){var t=r.hsva,n=r.onChange,o={backgroundColor:q({h:t.h,s:100,v:100,a:1})};return e.createElement(\"div\",{className:\"react-colorful__saturation\",style:o},e.createElement(m,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:s(t.s+100*e.left,0,100),v:s(t.v-100*e.top,0,100)})},\"aria-label\":\"Color\",\"aria-valuetext\":\"Saturation \"+b(t.s)+\"%, Brightness \"+b(t.v)+\"%\"},e.createElement(p,{className:\"react-colorful__saturation-pointer\",top:1-t.v/100,left:t.s/100,color:q(t)})))}),F=function(e,r){if(e===r)return!0;for(var t in e)if(e[t]!==r[t])return!1;return!0},P=function(e,r){return e.replace(/\\s/g,\"\")===r.replace(/\\s/g,\"\")},X=function(e,r){return e.toLowerCase()===r.toLowerCase()||F(C(e),C(r))};function Y(e,t,l){var u=i(l),c=o(function(){return e.toHsva(t)}),s=c[0],f=c[1],v=r({color:t,hsva:s});n(function(){if(!e.equal(t,v.current.color)){var r=e.toHsva(t);v.current={hsva:r,color:t},f(r)}},[t,e]),n(function(){var r;F(s,v.current.hsva)||e.equal(r=e.fromHsva(s),v.current.color)||(v.current={hsva:s,color:r},u(r))},[s,e,u]);var d=a(function(e){f(function(r){return Object.assign({},r,e)})},[]);return[s,d]}var R,V=\"undefined\"!=typeof window?l:n,$=function(){return R||(\"undefined\"!=typeof __webpack_nonce__?__webpack_nonce__:void 0)},G=function(e){R=e},J=new Map,Q=function(e){V(function(){var r=e.current?e.current.ownerDocument:document;if(void 0!==r&&!J.has(r)){var t=r.createElement(\"style\");t.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:\"\";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\\'data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill-opacity=\".05\"><path d=\"M8 0h8v8H8zM0 8h8v8H0z\"/></svg>\\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',J.set(r,t);var n=$();n&&t.setAttribute(\"nonce\",n),r.head.appendChild(t)}},[])},U=function(t){var n=t.className,o=t.colorModel,a=t.color,l=void 0===a?o.defaultColor:a,i=t.onChange,s=c(t,[\"className\",\"colorModel\",\"color\",\"onChange\"]),f=r(null);Q(f);var v=Y(o,l,i),d=v[0],h=v[1],m=g([\"react-colorful\",n]);return e.createElement(\"div\",u({},s,{ref:f,className:m}),e.createElement(T,{hsva:d,onChange:h}),e.createElement(S,{hue:d.h,onChange:h,className:\"react-colorful__last-control\"}))},W={defaultColor:\"000\",toHsva:x,fromHsva:function(e){return w({h:e.h,s:e.s,v:e.v,a:1})},equal:X},Z=function(r){return e.createElement(U,u({},r,{colorModel:W}))},ee=function(r){var t=r.className,n=r.hsva,o=r.onChange,a={backgroundImage:\"linear-gradient(90deg, \"+k(Object.assign({},n,{a:0}))+\", \"+k(Object.assign({},n,{a:1}))+\")\"},l=g([\"react-colorful__alpha\",t]),u=b(100*n.a);return e.createElement(\"div\",{className:l},e.createElement(\"div\",{className:\"react-colorful__alpha-gradient\",style:a}),e.createElement(m,{onMove:function(e){o({a:e.left})},onKey:function(e){o({a:s(n.a+e.left)})},\"aria-label\":\"Alpha\",\"aria-valuetext\":u+\"%\",\"aria-valuenow\":u,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"},e.createElement(p,{className:\"react-colorful__alpha-pointer\",left:n.a,color:k(n)})))},re=function(t){var n=t.className,o=t.colorModel,a=t.color,l=void 0===a?o.defaultColor:a,i=t.onChange,s=c(t,[\"className\",\"colorModel\",\"color\",\"onChange\"]),f=r(null);Q(f);var v=Y(o,l,i),d=v[0],h=v[1],m=g([\"react-colorful\",n]);return e.createElement(\"div\",u({},s,{ref:f,className:m}),e.createElement(T,{hsva:d,onChange:h}),e.createElement(S,{hue:d.h,onChange:h}),e.createElement(ee,{hsva:d,onChange:h,className:\"react-colorful__last-control\"}))},te={defaultColor:\"0001\",toHsva:x,fromHsva:w,equal:X},ne=function(r){return e.createElement(re,u({},r,{colorModel:te}))},oe={defaultColor:{h:0,s:0,l:0,a:1},toHsva:N,fromHsva:y,equal:F},ae=function(r){return e.createElement(re,u({},r,{colorModel:oe}))},le={defaultColor:\"hsla(0, 0%, 0%, 1)\",toHsva:H,fromHsva:k,equal:P},ue=function(r){return e.createElement(re,u({},r,{colorModel:le}))},ce={defaultColor:{h:0,s:0,l:0},toHsva:function(e){return N({h:e.h,s:e.s,l:e.l,a:1})},fromHsva:function(e){return{h:(r=y(e)).h,s:r.s,l:r.l};var r},equal:F},ie=function(r){return e.createElement(U,u({},r,{colorModel:ce}))},se={defaultColor:\"hsl(0, 0%, 0%)\",toHsva:M,fromHsva:q,equal:P},fe=function(r){return e.createElement(U,u({},r,{colorModel:se}))},ve={defaultColor:{h:0,s:0,v:0,a:1},toHsva:function(e){return e},fromHsva:A,equal:F},de=function(r){return e.createElement(re,u({},r,{colorModel:ve}))},he={defaultColor:\"hsva(0, 0%, 0%, 1)\",toHsva:O,fromHsva:function(e){var r=A(e);return\"hsva(\"+r.h+\", \"+r.s+\"%, \"+r.v+\"%, \"+r.a+\")\"},equal:P},me=function(r){return e.createElement(re,u({},r,{colorModel:he}))},ge={defaultColor:{h:0,s:0,v:0},toHsva:function(e){return{h:e.h,s:e.s,v:e.v,a:1}},fromHsva:function(e){var r=A(e);return{h:r.h,s:r.s,v:r.v}},equal:F},pe=function(r){return e.createElement(U,u({},r,{colorModel:ge}))},be={defaultColor:\"hsv(0, 0%, 0%)\",toHsva:j,fromHsva:function(e){var r=A(e);return\"hsv(\"+r.h+\", \"+r.s+\"%, \"+r.v+\"%)\"},equal:P},_e=function(r){return e.createElement(U,u({},r,{colorModel:be}))},xe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:L,fromHsva:I,equal:F},Ce=function(r){return e.createElement(re,u({},r,{colorModel:xe}))},Ee={defaultColor:\"rgba(0, 0, 0, 1)\",toHsva:z,fromHsva:function(e){var r=I(e);return\"rgba(\"+r.r+\", \"+r.g+\", \"+r.b+\", \"+r.a+\")\"},equal:P},He=function(r){return e.createElement(re,u({},r,{colorModel:Ee}))},Me={defaultColor:{r:0,g:0,b:0},toHsva:function(e){return L({r:e.r,g:e.g,b:e.b,a:1})},fromHsva:function(e){return{r:(r=I(e)).r,g:r.g,b:r.b};var r},equal:F},Ne=function(r){return e.createElement(U,u({},r,{colorModel:Me}))},we={defaultColor:\"rgb(0, 0, 0)\",toHsva:B,fromHsva:function(e){var r=I(e);return\"rgb(\"+r.r+\", \"+r.g+\", \"+r.b+\")\"},equal:P},ye=function(r){return e.createElement(U,u({},r,{colorModel:we}))},qe=/^#?([0-9A-F]{3,8})$/i,ke=function(r){var t=r.color,l=void 0===t?\"\":t,s=r.onChange,f=r.onBlur,v=r.escape,d=r.validate,h=r.format,m=r.process,g=c(r,[\"color\",\"onChange\",\"onBlur\",\"escape\",\"validate\",\"format\",\"process\"]),p=o(function(){return v(l)}),b=p[0],_=p[1],x=i(s),C=i(f),E=a(function(e){var r=v(e.target.value);_(r),d(r)&&x(m?m(r):r)},[v,m,d,x]),H=a(function(e){d(e.target.value)||_(v(l)),C(e)},[l,v,d,C]);return n(function(){_(v(l))},[l,v]),e.createElement(\"input\",u({},g,{value:h?h(b):b,spellCheck:\"false\",onChange:E,onBlur:H}))},Ie=function(e){return\"#\"+e},Oe=function(r){var t=r.prefixed,n=r.alpha,o=c(r,[\"prefixed\",\"alpha\"]),l=a(function(e){return e.replace(/([^0-9A-F]+)/gi,\"\").substring(0,n?8:6)},[n]),i=a(function(e){return function(e,r){var t=qe.exec(e),n=t?t[1].length:0;return 3===n||6===n||!!r&&4===n||!!r&&8===n}(e,n)},[n]);return e.createElement(ke,u({},o,{escape:l,format:t?Ie:void 0,process:Ie,validate:i}))};export{ne as HexAlphaColorPicker,Oe as HexColorInput,Z as HexColorPicker,ie as HslColorPicker,fe as HslStringColorPicker,ae as HslaColorPicker,ue as HslaStringColorPicker,pe as HsvColorPicker,_e as HsvStringColorPicker,de as HsvaColorPicker,me as HsvaStringColorPicker,Ne as RgbColorPicker,ye as RgbStringColorPicker,Ce as RgbaColorPicker,He as RgbaStringColorPicker,G as setNonce};\n//# sourceMappingURL=index.module.js.map\n","var $2d805fd52bb48883$exports = {};\n$2d805fd52bb48883$exports = {\n    \"alpha\": `\\u{623}\\u{644}\\u{641}\\u{627}`,\n    \"black\": `\\u{623}\\u{633}\\u{648}\\u{62F}`,\n    \"blue\": `\\u{623}\\u{632}\\u{631}\\u{642}`,\n    \"blue purple\": `\\u{623}\\u{631}\\u{62C}\\u{648}\\u{627}\\u{646}\\u{64A} \\u{645}\\u{632}\\u{631}\\u{642}`,\n    \"brightness\": `\\u{627}\\u{644}\\u{633}\\u{637}\\u{648}\\u{639}`,\n    \"brown\": `\\u{628}\\u{646}\\u{64A}`,\n    \"brown yellow\": `\\u{623}\\u{635}\\u{641}\\u{631} \\u{628}\\u{646}\\u{64A}`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `\\u{633}\\u{645}\\u{627}\\u{648}\\u{64A}`,\n    \"cyan blue\": `\\u{623}\\u{632}\\u{631}\\u{642} \\u{633}\\u{645}\\u{627}\\u{648}\\u{64A}`,\n    \"dark\": `\\u{62F}\\u{627}\\u{643}\\u{646}`,\n    \"gray\": `\\u{631}\\u{645}\\u{627}\\u{62F}\\u{64A}`,\n    \"grayish\": `\\u{645}\\u{627}\\u{626}\\u{644} \\u{644}\\u{644}\\u{631}\\u{645}\\u{627}\\u{62F}\\u{64A}`,\n    \"green\": `\\u{623}\\u{62E}\\u{636}\\u{631}`,\n    \"green cyan\": `\\u{633}\\u{645}\\u{627}\\u{648}\\u{64A} \\u{645}\\u{62E}\\u{636}\\u{631}`,\n    \"hue\": `\\u{62F}\\u{631}\\u{62C}\\u{629} \\u{627}\\u{644}\\u{644}\\u{648}\\u{646}`,\n    \"light\": `\\u{641}\\u{627}\\u{62A}\\u{62D}`,\n    \"lightness\": `\\u{627}\\u{644}\\u{625}\\u{636}\\u{627}\\u{621}\\u{629}`,\n    \"magenta\": `\\u{623}\\u{631}\\u{62C}\\u{648}\\u{627}\\u{646}\\u{64A}`,\n    \"magenta pink\": `\\u{623}\\u{631}\\u{62C}\\u{648}\\u{627}\\u{646}\\u{64A} \\u{648}\\u{631}\\u{62F}\\u{64A}`,\n    \"orange\": `\\u{628}\\u{631}\\u{62A}\\u{642}\\u{627}\\u{644}\\u{64A}`,\n    \"orange yellow\": `\\u{623}\\u{635}\\u{641}\\u{631} \\u{628}\\u{631}\\u{62A}\\u{642}\\u{627}\\u{644}\\u{64A}`,\n    \"pale\": `\\u{628}\\u{627}\\u{647}\\u{62A}`,\n    \"pink\": `\\u{648}\\u{631}\\u{62F}\\u{64A}`,\n    \"pink red\": `\\u{623}\\u{62D}\\u{645}\\u{631} \\u{648}\\u{631}\\u{62F}\\u{64A}`,\n    \"purple\": `\\u{623}\\u{631}\\u{62C}\\u{648}\\u{627}\\u{646}\\u{64A}`,\n    \"purple magenta\": `\\u{628}\\u{646}\\u{641}\\u{633}\\u{62C}\\u{64A}`,\n    \"red\": `\\u{623}\\u{62D}\\u{645}\\u{631}`,\n    \"red orange\": `\\u{628}\\u{631}\\u{62A}\\u{642}\\u{627}\\u{644}\\u{64A} \\u{645}\\u{62D}\\u{645}\\u{631}`,\n    \"saturation\": `\\u{627}\\u{644}\\u{62A}\\u{634}\\u{628}\\u{639}`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} \\u{634}\\u{641}\\u{627}\\u{641}`,\n    \"very dark\": `\\u{62F}\\u{627}\\u{643}\\u{646} \\u{62C}\\u{62F}\\u{64B}\\u{627}`,\n    \"very light\": `\\u{641}\\u{627}\\u{62A}\\u{62D} \\u{62C}\\u{62F}\\u{64B}\\u{627}`,\n    \"vibrant\": `\\u{633}\\u{627}\\u{637}\\u{639}`,\n    \"white\": `\\u{623}\\u{628}\\u{64A}\\u{636}`,\n    \"yellow\": `\\u{623}\\u{635}\\u{641}\\u{631}`,\n    \"yellow green\": `\\u{623}\\u{62E}\\u{636}\\u{631} \\u{645}\\u{635}\\u{641}\\u{631}`\n};\n\n\nexport {$2d805fd52bb48883$exports as default};\n//# sourceMappingURL=ar-AE.module.js.map\n","var $6c28468dc1df643c$exports = {};\n$6c28468dc1df643c$exports = {\n    \"alpha\": `\\u{410}\\u{43B}\\u{444}\\u{430}`,\n    \"black\": `\\u{447}\\u{435}\\u{440}\\u{43D}\\u{43E}`,\n    \"blue\": `\\u{421}\\u{438}\\u{43D}\\u{44C}\\u{43E}`,\n    \"blue purple\": `\\u{441}\\u{438}\\u{43D}\\u{44C}\\u{43E} \\u{43B}\\u{438}\\u{43B}\\u{430}\\u{432}\\u{43E}`,\n    \"brightness\": `\\u{42F}\\u{440}\\u{43A}\\u{43E}\\u{441}\\u{442}`,\n    \"brown\": `\\u{43A}\\u{430}\\u{444}\\u{44F}\\u{432}\\u{43E}`,\n    \"brown yellow\": `\\u{43A}\\u{430}\\u{444}\\u{44F}\\u{432}\\u{43E} \\u{436}\\u{44A}\\u{43B}\\u{442}\\u{43E}`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `\\u{446}\\u{438}\\u{430}\\u{43D}`,\n    \"cyan blue\": `\\u{446}\\u{438}\\u{430}\\u{43D} \\u{441}\\u{438}\\u{43D}\\u{44C}\\u{43E}`,\n    \"dark\": `\\u{442}\\u{44A}\\u{43C}\\u{43D}\\u{43E}`,\n    \"gray\": `\\u{441}\\u{438}\\u{432}\\u{43E}`,\n    \"grayish\": `\\u{441}\\u{438}\\u{432}\\u{43A}\\u{430}\\u{432}`,\n    \"green\": `\\u{417}\\u{435}\\u{43B}\\u{435}\\u{43D}\\u{43E}`,\n    \"green cyan\": `\\u{437}\\u{435}\\u{43B}\\u{435}\\u{43D} \\u{446}\\u{438}\\u{430}\\u{43D}`,\n    \"hue\": `\\u{41E}\\u{442}\\u{442}\\u{435}\\u{43D}\\u{44A}\\u{43A}`,\n    \"light\": `\\u{441}\\u{432}\\u{435}\\u{442}\\u{43B}\\u{43E}`,\n    \"lightness\": `\\u{41B}\\u{435}\\u{43A}\\u{43E}\\u{442}\\u{430}`,\n    \"magenta\": `\\u{43C}\\u{430}\\u{433}\\u{435}\\u{43D}\\u{442}\\u{430}`,\n    \"magenta pink\": `\\u{43C}\\u{430}\\u{433}\\u{435}\\u{43D}\\u{442}\\u{430} \\u{440}\\u{43E}\\u{437}\\u{43E}\\u{432}\\u{43E}`,\n    \"orange\": `\\u{43E}\\u{440}\\u{430}\\u{43D}\\u{436}\\u{435}\\u{432}\\u{43E}`,\n    \"orange yellow\": `\\u{43E}\\u{440}\\u{430}\\u{43D}\\u{436}\\u{435}\\u{432}\\u{43E} \\u{436}\\u{44A}\\u{43B}\\u{442}\\u{43E}`,\n    \"pale\": `\\u{431}\\u{43B}\\u{435}\\u{434}\\u{43E}`,\n    \"pink\": `\\u{440}\\u{43E}\\u{437}\\u{43E}\\u{432}\\u{43E}`,\n    \"pink red\": `\\u{440}\\u{43E}\\u{437}\\u{43E}\\u{432}\\u{43E} \\u{447}\\u{435}\\u{440}\\u{432}\\u{435}\\u{43D}\\u{43E}`,\n    \"purple\": `\\u{43B}\\u{438}\\u{43B}\\u{430}\\u{432}\\u{43E}`,\n    \"purple magenta\": `\\u{43B}\\u{438}\\u{43B}\\u{430}\\u{432}\\u{43E} \\u{43C}\\u{430}\\u{433}\\u{435}\\u{43D}\\u{442}\\u{430}`,\n    \"red\": `\\u{427}\\u{435}\\u{440}\\u{432}\\u{435}\\u{43D}\\u{43E}`,\n    \"red orange\": `\\u{447}\\u{435}\\u{440}\\u{432}\\u{435}\\u{43D} \\u{43F}\\u{43E}\\u{440}\\u{442}\\u{43E}\\u{43A}\\u{430}\\u{43B}`,\n    \"saturation\": `\\u{41D}\\u{430}\\u{441}\\u{438}\\u{442}\\u{435}\\u{43D}\\u{43E}\\u{441}\\u{442}`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} \\u{43F}\\u{440}\\u{43E}\\u{437}\\u{440}\\u{430}\\u{447}\\u{435}\\u{43D}`,\n    \"very dark\": `\\u{43C}\\u{43D}\\u{43E}\\u{433}\\u{43E} \\u{442}\\u{44A}\\u{43C}\\u{43D}\\u{43E}`,\n    \"very light\": `\\u{43C}\\u{43D}\\u{43E}\\u{433}\\u{43E} \\u{441}\\u{432}\\u{435}\\u{442}\\u{43B}\\u{43E}`,\n    \"vibrant\": ` \\u{44F}\\u{440}\\u{43A}\\u{43E}`,\n    \"white\": `\\u{431}\\u{44F}\\u{43B}\\u{43E}`,\n    \"yellow\": `\\u{436}\\u{44A}\\u{43B}\\u{442}\\u{43E}`,\n    \"yellow green\": `\\u{436}\\u{44A}\\u{43B}\\u{442}\\u{43E} \\u{437}\\u{435}\\u{43B}\\u{435}\\u{43D}`\n};\n\n\nexport {$6c28468dc1df643c$exports as default};\n//# sourceMappingURL=bg-BG.module.js.map\n","var $807554f8230db0ed$exports = {};\n$807554f8230db0ed$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `\\u{10D}ern\\xe1`,\n    \"blue\": `Modr\\xe1`,\n    \"blue purple\": `modrofialov\\xe1`,\n    \"brightness\": `Jas`,\n    \"brown\": `hn\\u{11B}d\\xe1`,\n    \"brown yellow\": `hn\\u{11B}do\\u{17E}lut\\xe1`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `tyrkysov\\xe1`,\n    \"cyan blue\": `tyrkysovomodr\\xe1`,\n    \"dark\": `tmav\\xe1`,\n    \"gray\": `\\u{161}ed\\xe1`,\n    \"grayish\": `na\\u{161}edl\\xe1`,\n    \"green\": `Zelen\\xe1`,\n    \"green cyan\": `zelenotyrkysov\\xe1`,\n    \"hue\": `Odst\\xedn`,\n    \"light\": `sv\\u{11B}tl\\xe1`,\n    \"lightness\": `Sv\\u{11B}tlost`,\n    \"magenta\": `purpurov\\xe1`,\n    \"magenta pink\": `purpurov\\u{11B} r\\u{16F}\\u{17E}ov\\xe1`,\n    \"orange\": `oran\\u{17E}ov\\xe1`,\n    \"orange yellow\": `oran\\u{17E}ovo\\u{17E}lut\\xe1`,\n    \"pale\": `bled\\xe1`,\n    \"pink\": `r\\u{16F}\\u{17E}ov\\xe1`,\n    \"pink red\": `r\\u{16F}\\u{17E}ovo\\u{10D}erven\\xe1`,\n    \"purple\": `fialov\\xe1`,\n    \"purple magenta\": `fialov\\u{11B} purpurov\\xe1`,\n    \"red\": `\\u{10C}erven\\xe1`,\n    \"red orange\": `\\u{10D}ervenooran\\u{17E}ov\\xe1`,\n    \"saturation\": `Sytost`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} pr\\u{16F}hledn\\xe9`,\n    \"very dark\": `velmi tmav\\xe1`,\n    \"very light\": `velmi sv\\u{11B}tl\\xe1`,\n    \"vibrant\": `z\\xe1\\u{159}iv\\xe1`,\n    \"white\": `b\\xedl\\xe1`,\n    \"yellow\": `\\u{17E}lut\\xe1`,\n    \"yellow green\": `\\u{17E}lutozelen\\xe1`\n};\n\n\nexport {$807554f8230db0ed$exports as default};\n//# sourceMappingURL=cs-CZ.module.js.map\n","var $7097f64386f1761c$exports = {};\n$7097f64386f1761c$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `sort`,\n    \"blue\": `Bl\\xe5`,\n    \"blue purple\": `bl\\xe5lilla`,\n    \"brightness\": `Lysstyrke`,\n    \"brown\": `brun`,\n    \"brown yellow\": `brungul`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `cyan`,\n    \"cyan blue\": `cyan bl\\xe5`,\n    \"dark\": `m\\xf8rk`,\n    \"gray\": `gr\\xe5`,\n    \"grayish\": `gr\\xe5lig`,\n    \"green\": `Gr\\xf8n`,\n    \"green cyan\": `gr\\xf8n cyan`,\n    \"hue\": `Tone`,\n    \"light\": `lys`,\n    \"lightness\": `Lyshed`,\n    \"magenta\": `magenta`,\n    \"magenta pink\": `magenta pink`,\n    \"orange\": `orange`,\n    \"orange yellow\": `orangegul`,\n    \"pale\": `bleg`,\n    \"pink\": `lyser\\xf8d`,\n    \"pink red\": `lyser\\xf8dlig r\\xf8d`,\n    \"purple\": `lilla`,\n    \"purple magenta\": `lilla magenta`,\n    \"red\": `R\\xf8d`,\n    \"red orange\": `r\\xf8dorange`,\n    \"saturation\": `Farvem\\xe6tning`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} gennemsigtig`,\n    \"very dark\": `meget m\\xf8rk`,\n    \"very light\": `meget lys`,\n    \"vibrant\": `klar`,\n    \"white\": `hvid`,\n    \"yellow\": `gul`,\n    \"yellow green\": `gulgr\\xf8n`\n};\n\n\nexport {$7097f64386f1761c$exports as default};\n//# sourceMappingURL=da-DK.module.js.map\n","var $bdd847d8beb08799$exports = {};\n$bdd847d8beb08799$exports = {\n    \"alpha\": `Alpha`,\n    \"black\": `Schwarz`,\n    \"blue\": `Blau`,\n    \"blue purple\": `Blaulila`,\n    \"brightness\": `Helligkeit`,\n    \"brown\": `Braun`,\n    \"brown yellow\": `Braungelb`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `Cyan`,\n    \"cyan blue\": `Cyanblau`,\n    \"dark\": `dunkles`,\n    \"gray\": `Grau`,\n    \"grayish\": `gr\\xe4uliches`,\n    \"green\": `Gr\\xfcn`,\n    \"green cyan\": `Gr\\xfcncyan`,\n    \"hue\": `Farbton`,\n    \"light\": `helles`,\n    \"lightness\": `Leuchtkraft`,\n    \"magenta\": `Magenta`,\n    \"magenta pink\": `Magentarosa`,\n    \"orange\": `Orange`,\n    \"orange yellow\": `Orangegelb`,\n    \"pale\": `blasses`,\n    \"pink\": `Rosa`,\n    \"pink red\": `Rosarot`,\n    \"purple\": `Lila`,\n    \"purple magenta\": `Lilamagenta`,\n    \"red\": `Rot`,\n    \"red orange\": `Rotorange`,\n    \"saturation\": `S\\xe4ttigung`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, zu ${args.percentTransparent} transparent`,\n    \"very dark\": `sehr dunkles`,\n    \"very light\": `sehr helles`,\n    \"vibrant\": `lebhaftes`,\n    \"white\": `Wei\\xdf`,\n    \"yellow\": `Gelb`,\n    \"yellow green\": `Gelbgr\\xfcn`\n};\n\n\nexport {$bdd847d8beb08799$exports as default};\n//# sourceMappingURL=de-DE.module.js.map\n","var $a53e00b683950971$exports = {};\n$a53e00b683950971$exports = {\n    \"alpha\": `\\u{386}\\u{3BB}\\u{3C6}\\u{3B1}`,\n    \"black\": `\\u{3BC}\\u{3B1}\\u{3CD}\\u{3C1}\\u{3BF}`,\n    \"blue\": `\\u{39C}\\u{3C0}\\u{3BB}\\u{3B5}`,\n    \"blue purple\": `\\u{3BC}\\u{3C0}\\u{3BB}\\u{3B5} \\u{3BC}\\u{3C9}\\u{3B2}`,\n    \"brightness\": `\\u{3A6}\\u{3C9}\\u{3C4}\\u{3B5}\\u{3B9}\\u{3BD}\\u{3CC}\\u{3C4}\\u{3B7}\\u{3C4}\\u{3B1}`,\n    \"brown\": `\\u{3BA}\\u{3B1}\\u{3C6}\\u{3AD}`,\n    \"brown yellow\": `\\u{3BA}\\u{3B1}\\u{3C6}\\u{3AD} \\u{3BA}\\u{3AF}\\u{3C4}\\u{3C1}\\u{3B9}\\u{3BD}\\u{3BF}`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `\\u{3BA}\\u{3C5}\\u{3B1}\\u{3BD}\\u{3CC}`,\n    \"cyan blue\": `\\u{3BA}\\u{3C5}\\u{3B1}\\u{3BD}\\u{3CC} \\u{3BC}\\u{3C0}\\u{3BB}\\u{3B5}`,\n    \"dark\": `\\u{3C3}\\u{3BA}\\u{3BF}\\u{3CD}\\u{3C1}\\u{3BF}`,\n    \"gray\": `\\u{3B3}\\u{3BA}\\u{3C1}\\u{3B9}`,\n    \"grayish\": `\\u{3B3}\\u{3BA}\\u{3C1}\\u{3B9}\\u{3B6}\\u{3C9}\\u{3C0}\\u{3CC}`,\n    \"green\": `\\u{3A0}\\u{3C1}\\u{3AC}\\u{3C3}\\u{3B9}\\u{3BD}\\u{3BF}`,\n    \"green cyan\": `\\u{3C0}\\u{3C1}\\u{3AC}\\u{3C3}\\u{3B9}\\u{3BD}\\u{3BF} \\u{3BA}\\u{3C5}\\u{3B1}\\u{3BD}\\u{3CC}`,\n    \"hue\": `\\u{3A4}\\u{3CC}\\u{3BD}\\u{3BF}\\u{3C2}`,\n    \"light\": `\\u{3B1}\\u{3BD}\\u{3BF}\\u{3B9}\\u{3C7}\\u{3C4}\\u{3CC}`,\n    \"lightness\": `\\u{3A6}\\u{3C9}\\u{3C4}\\u{3B5}\\u{3B9}\\u{3BD}\\u{3CC}\\u{3C4}\\u{3B7}\\u{3C4}\\u{3B1}`,\n    \"magenta\": `\\u{3BC}\\u{3B1}\\u{3C4}\\u{3B6}\\u{3AD}\\u{3BD}\\u{3C4}\\u{3B1}`,\n    \"magenta pink\": `\\u{3BC}\\u{3B1}\\u{3C4}\\u{3B6}\\u{3AD}\\u{3BD}\\u{3C4}\\u{3B1} \\u{3C1}\\u{3BF}\\u{3B6}`,\n    \"orange\": `\\u{3C0}\\u{3BF}\\u{3C1}\\u{3C4}\\u{3BF}\\u{3BA}\\u{3B1}\\u{3BB}\\u{3AF}`,\n    \"orange yellow\": `\\u{3C0}\\u{3BF}\\u{3C1}\\u{3C4}\\u{3BF}\\u{3BA}\\u{3B1}\\u{3BB}\\u{3AF} \\u{3BA}\\u{3AF}\\u{3C4}\\u{3C1}\\u{3B9}\\u{3BD}\\u{3BF}`,\n    \"pale\": `\\u{3B1}\\u{3BD}\\u{3BF}\\u{3B9}\\u{3C7}\\u{3C4}\\u{3CC}`,\n    \"pink\": `\\u{3C1}\\u{3BF}\\u{3B6}`,\n    \"pink red\": `\\u{3C1}\\u{3BF}\\u{3B6} \\u{3BA}\\u{3CC}\\u{3BA}\\u{3BA}\\u{3B9}\\u{3BD}\\u{3BF}`,\n    \"purple\": `\\u{3BC}\\u{3C9}\\u{3B2}`,\n    \"purple magenta\": `\\u{3BC}\\u{3C9}\\u{3B2} \\u{3BC}\\u{3B1}\\u{3C4}\\u{3B6}\\u{3AD}\\u{3BD}\\u{3C4}\\u{3B1}`,\n    \"red\": `\\u{39A}\\u{3CC}\\u{3BA}\\u{3BA}\\u{3B9}\\u{3BD}\\u{3BF}`,\n    \"red orange\": `\\u{3BA}\\u{3CC}\\u{3BA}\\u{3BA}\\u{3B9}\\u{3BD}\\u{3BF} \\u{3C0}\\u{3BF}\\u{3C1}\\u{3C4}\\u{3BF}\\u{3BA}\\u{3B1}\\u{3BB}\\u{3AF}`,\n    \"saturation\": `\\u{39A}\\u{3BF}\\u{3C1}\\u{3B5}\\u{3C3}\\u{3BC}\\u{3CC}\\u{3C2}`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} \\u{3B4}\\u{3B9}\\u{3B1}\\u{3C6}\\u{3B1}\\u{3BD}\\u{3AD}\\u{3C2}`,\n    \"very dark\": `\\u{3C0}\\u{3BF}\\u{3BB}\\u{3CD} \\u{3C3}\\u{3BA}\\u{3BF}\\u{3CD}\\u{3C1}\\u{3BF}`,\n    \"very light\": `\\u{3C0}\\u{3BF}\\u{3BB}\\u{3CD} \\u{3B1}\\u{3BD}\\u{3BF}\\u{3B9}\\u{3C7}\\u{3C4}\\u{3CC}`,\n    \"vibrant\": `\\u{3AD}\\u{3BD}\\u{3C4}\\u{3BF}\\u{3BD}\\u{3BF}`,\n    \"white\": `\\u{3BB}\\u{3B5}\\u{3C5}\\u{3BA}\\u{3CC}`,\n    \"yellow\": `\\u{3BA}\\u{3AF}\\u{3C4}\\u{3C1}\\u{3B9}\\u{3BD}\\u{3BF}`,\n    \"yellow green\": `\\u{3BA}\\u{3AF}\\u{3C4}\\u{3C1}\\u{3B9}\\u{3BD}\\u{3BF} \\u{3C0}\\u{3C1}\\u{3AC}\\u{3C3}\\u{3B9}\\u{3BD}\\u{3BF}`\n};\n\n\nexport {$a53e00b683950971$exports as default};\n//# sourceMappingURL=el-GR.module.js.map\n","var $21cdd87e84f28d89$exports = {};\n$21cdd87e84f28d89$exports = {\n    \"hue\": `Hue`,\n    \"saturation\": `Saturation`,\n    \"lightness\": `Lightness`,\n    \"brightness\": `Brightness`,\n    \"red\": `Red`,\n    \"green\": `Green`,\n    \"blue\": `Blue`,\n    \"alpha\": `Alpha`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} transparent`,\n    \"very dark\": `very dark`,\n    \"dark\": `dark`,\n    \"light\": `light`,\n    \"very light\": `very light`,\n    \"pale\": `pale`,\n    \"grayish\": `grayish`,\n    \"vibrant\": `vibrant`,\n    \"black\": `black`,\n    \"white\": `white`,\n    \"gray\": `gray`,\n    \"pink\": `pink`,\n    \"pink red\": `pink red`,\n    \"red orange\": `red orange`,\n    \"brown\": `brown`,\n    \"orange\": `orange`,\n    \"orange yellow\": `orange yellow`,\n    \"brown yellow\": `brown yellow`,\n    \"yellow\": `yellow`,\n    \"yellow green\": `yellow green`,\n    \"green cyan\": `green cyan`,\n    \"cyan\": `cyan`,\n    \"cyan blue\": `cyan blue`,\n    \"blue purple\": `blue purple`,\n    \"purple\": `purple`,\n    \"purple magenta\": `purple magenta`,\n    \"magenta\": `magenta`,\n    \"magenta pink\": `magenta pink`\n};\n\n\nexport {$21cdd87e84f28d89$exports as default};\n//# sourceMappingURL=en-US.module.js.map\n","var $92fee9698e4d675a$exports = {};\n$92fee9698e4d675a$exports = {\n    \"alpha\": `Alpha`,\n    \"black\": `negro`,\n    \"blue\": `Azul`,\n    \"blue purple\": `p\\xfarpura azulado`,\n    \"brightness\": `Brillo`,\n    \"brown\": `marr\\xf3n`,\n    \"brown yellow\": `amarillo amarronado`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `cian`,\n    \"cyan blue\": `azul cian`,\n    \"dark\": `oscuro`,\n    \"gray\": `gris`,\n    \"grayish\": `gris\\xe1ceo`,\n    \"green\": `Verde`,\n    \"green cyan\": `cian verdoso`,\n    \"hue\": `Tono`,\n    \"light\": `claro`,\n    \"lightness\": `Luminosidad`,\n    \"magenta\": `magenta`,\n    \"magenta pink\": `rosa magenta`,\n    \"orange\": `naranja`,\n    \"orange yellow\": `amarillo anaranjado`,\n    \"pale\": `p\\xe1lido`,\n    \"pink\": `rosa`,\n    \"pink red\": `rojo rosado`,\n    \"purple\": `morado`,\n    \"purple magenta\": `magenta viol\\xe1ceo`,\n    \"red\": `Rojo`,\n    \"red orange\": `naranja rojizo`,\n    \"saturation\": `Saturaci\\xf3n`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} transparente`,\n    \"very dark\": `muy oscuro`,\n    \"very light\": `muy claro`,\n    \"vibrant\": `intenso`,\n    \"white\": `blanco`,\n    \"yellow\": `amarillo`,\n    \"yellow green\": `verde amarillento`\n};\n\n\nexport {$92fee9698e4d675a$exports as default};\n//# sourceMappingURL=es-ES.module.js.map\n","var $7ea012e91a5ad3ee$exports = {};\n$7ea012e91a5ad3ee$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `must`,\n    \"blue\": `Sinine`,\n    \"blue purple\": `sinakaslilla`,\n    \"brightness\": `Heledus`,\n    \"brown\": `pruun`,\n    \"brown yellow\": `pruunikaskollane`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `ts\\xfcaan`,\n    \"cyan blue\": `ts\\xfcaansinine`,\n    \"dark\": `tume`,\n    \"gray\": `hall`,\n    \"grayish\": `hallikas`,\n    \"green\": `Roheline`,\n    \"green cyan\": `ts\\xfcaanroheline`,\n    \"hue\": `V\\xe4rv`,\n    \"light\": `valgus`,\n    \"lightness\": `Valgus`,\n    \"magenta\": `magentapunane`,\n    \"magenta pink\": `magentaroosa`,\n    \"orange\": `oran\\u{17E}`,\n    \"orange yellow\": `oran\\u{17E}ikaskollane`,\n    \"pale\": `kahvatu`,\n    \"pink\": `roosa`,\n    \"pink red\": `vaarikapunane`,\n    \"purple\": `lilla`,\n    \"purple magenta\": `purpurne magenta`,\n    \"red\": `Punane`,\n    \"red orange\": `punakasoran\\u{17E}`,\n    \"saturation\": `K\\xfcllastus`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} l\\xe4bipaistev`,\n    \"very dark\": `v\\xe4ga tume`,\n    \"very light\": `v\\xe4ga hele`,\n    \"vibrant\": `ere`,\n    \"white\": `valge`,\n    \"yellow\": `kollane`,\n    \"yellow green\": `kollakasroheline`\n};\n\n\nexport {$7ea012e91a5ad3ee$exports as default};\n//# sourceMappingURL=et-EE.module.js.map\n","var $8460c13bb2d75345$exports = {};\n$8460c13bb2d75345$exports = {\n    \"alpha\": `Alpha`,\n    \"black\": `musta`,\n    \"blue\": `Sininen`,\n    \"blue purple\": `sinivioletti`,\n    \"brightness\": `Kirkkaus`,\n    \"brown\": `ruskea`,\n    \"brown yellow\": `ruskeankeltainen`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `syaani`,\n    \"cyan blue\": `syaaninsininen`,\n    \"dark\": `tumma`,\n    \"gray\": `harmaa`,\n    \"grayish\": `harmahtava`,\n    \"green\": `Vihre\\xe4`,\n    \"green cyan\": `vihre\\xe4nsyaani`,\n    \"hue\": `S\\xe4vy`,\n    \"light\": `vaalea`,\n    \"lightness\": `Valom\\xe4\\xe4r\\xe4`,\n    \"magenta\": `magenta`,\n    \"magenta pink\": `magentapinkki`,\n    \"orange\": `oranssi`,\n    \"orange yellow\": `oranssinkeltainen`,\n    \"pale\": `vaalea`,\n    \"pink\": `pinkki`,\n    \"pink red\": `vaaleanpunainen`,\n    \"purple\": `violetti`,\n    \"purple magenta\": `violettimagenta`,\n    \"red\": `Punainen`,\n    \"red orange\": `punaoranssi`,\n    \"saturation\": `V\\xe4rikyll\\xe4isyys`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} l\\xe4pin\\xe4kyv\\xe4`,\n    \"very dark\": `hyvin tumma`,\n    \"very light\": `eritt\\xe4in vaalea`,\n    \"vibrant\": `eloisa`,\n    \"white\": `valkea`,\n    \"yellow\": `keltainen`,\n    \"yellow green\": `keltavihre\\xe4`\n};\n\n\nexport {$8460c13bb2d75345$exports as default};\n//# sourceMappingURL=fi-FI.module.js.map\n","var $2a2d5dc14e680587$exports = {};\n$2a2d5dc14e680587$exports = {\n    \"alpha\": `Alpha`,\n    \"black\": `Noir`,\n    \"blue\": `Bleu`,\n    \"blue purple\": `Violet bleu`,\n    \"brightness\": `Luminosit\\xe9`,\n    \"brown\": `Brun`,\n    \"brown yellow\": `Jaune brun`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `Cyan`,\n    \"cyan blue\": `Bleu cyan`,\n    \"dark\": `Sombre`,\n    \"gray\": `Gris`,\n    \"grayish\": `Gris\\xe2tre`,\n    \"green\": `Vert`,\n    \"green cyan\": `Cyan vert`,\n    \"hue\": `Teinte`,\n    \"light\": `Clair`,\n    \"lightness\": `Luminosit\\xe9`,\n    \"magenta\": `Magenta`,\n    \"magenta pink\": `Rose magenta`,\n    \"orange\": `Orange`,\n    \"orange yellow\": `Jaune orang\\xe9`,\n    \"pale\": `P\\xe2le`,\n    \"pink\": `Rose`,\n    \"pink red\": `Rouge ros\\xe9`,\n    \"purple\": `Violet`,\n    \"purple magenta\": `Magenta violet`,\n    \"red\": `Rouge`,\n    \"red orange\": `Orange rouge`,\n    \"saturation\": `Saturation`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} transparent`,\n    \"very dark\": `Tr\\xe8s sombre`,\n    \"very light\": `Tr\\xe8s clair`,\n    \"vibrant\": `Vif`,\n    \"white\": `Blanc`,\n    \"yellow\": `Jaune`,\n    \"yellow green\": `Vert jaune`\n};\n\n\nexport {$2a2d5dc14e680587$exports as default};\n//# sourceMappingURL=fr-FR.module.js.map\n","var $9a3f292371bb0589$exports = {};\n$9a3f292371bb0589$exports = {\n    \"alpha\": `\\u{5D0}\\u{5DC}\\u{5E4}\\u{5D0}`,\n    \"black\": `\\u{5E9}\\u{5D7}\\u{5D5}\\u{5E8}`,\n    \"blue\": `\\u{5DB}\\u{5D7}\\u{5D5}\\u{5DC}`,\n    \"blue purple\": `\\u{5DB}\\u{5D7}\\u{5D5}\\u{5DC} \\u{5E1}\\u{5D2}\\u{5D5}\\u{5DC}`,\n    \"brightness\": `\\u{5D1}\\u{5D4}\\u{5D9}\\u{5E8}\\u{5D5}\\u{5EA}`,\n    \"brown\": `\\u{5D7}\\u{5D5}\\u{5DD}`,\n    \"brown yellow\": `\\u{5D7}\\u{5D5}\\u{5DD} \\u{5E6}\\u{5D4}\\u{5D5}\\u{5D1}`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `\\u{5D8}\\u{5D5}\\u{5E8}\\u{5E7}\\u{5D9}\\u{5D6}`,\n    \"cyan blue\": `\\u{5DB}\\u{5D7}\\u{5D5}\\u{5DC} \\u{5E6}\\u{5D9}\\u{5D0}\\u{5DF}`,\n    \"dark\": `\\u{5DB}\\u{5D4}\\u{5D4}`,\n    \"gray\": `\\u{5D0}\\u{5E4}\\u{5D5}\\u{5E8}`,\n    \"grayish\": `\\u{5D0}\\u{5E4}\\u{5E8}\\u{5E4}\\u{5E8}`,\n    \"green\": `\\u{5D9}\\u{5E8}\\u{5D5}\\u{5E7}`,\n    \"green cyan\": `\\u{5E6}\\u{5D9}\\u{5D0}\\u{5DF} \\u{5D9}\\u{5E8}\\u{5D5}\\u{5E7}`,\n    \"hue\": `\\u{5D2}\\u{5D5}\\u{5D5}\\u{5DF}`,\n    \"light\": `\\u{5D0}\\u{5D5}\\u{5E8}`,\n    \"lightness\": `\\u{5DB}\\u{5DE}\\u{5D5}\\u{5EA} \\u{5D0}\\u{5D5}\\u{5E8}`,\n    \"magenta\": `\\u{5DE}\\u{5D2}'\\u{5E0}\\u{5D8}\\u{5D4}`,\n    \"magenta pink\": `\\u{5D5}\\u{5E8}\\u{5D5}\\u{5D3} \\u{5DE}\\u{5D2}'\\u{5E0}\\u{5D8}\\u{5D4}`,\n    \"orange\": `\\u{5DB}\\u{5EA}\\u{5D5}\\u{5DD}`,\n    \"orange yellow\": `\\u{5DB}\\u{5EA}\\u{5D5}\\u{5DD} \\u{5E6}\\u{5D4}\\u{5D5}\\u{5D1}`,\n    \"pale\": `\\u{5D7}\\u{5D9}\\u{5D5}\\u{5D5}\\u{5E8}`,\n    \"pink\": `\\u{5D5}\\u{5E8}\\u{5D5}\\u{5D3}`,\n    \"pink red\": `\\u{5D5}\\u{5E8}\\u{5D5}\\u{5D3} \\u{5D0}\\u{5D3}\\u{5D5}\\u{5DD}`,\n    \"purple\": `\\u{5E1}\\u{5D2}\\u{5D5}\\u{5DC}`,\n    \"purple magenta\": `\\u{5DE}\\u{5D2}'\\u{5E0}\\u{5D8}\\u{5D4} \\u{5E1}\\u{5D2}\\u{5D5}\\u{5DC}`,\n    \"red\": `\\u{5D0}\\u{5D3}\\u{5D5}\\u{5DD}`,\n    \"red orange\": `\\u{5DB}\\u{5EA}\\u{5D5}\\u{5DD} \\u{5D0}\\u{5D3}\\u{5D5}\\u{5DD}`,\n    \"saturation\": `\\u{5E8}\\u{5D5}\\u{5D5}\\u{5D9}\\u{5D4}`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} \\u{5E9}\\u{5E7}\\u{5D5}\\u{5E3}`,\n    \"very dark\": `\\u{5DB}\\u{5D4}\\u{5D4} \\u{5DE}\\u{5D0}\\u{5D5}\\u{5D3}`,\n    \"very light\": `\\u{5D1}\\u{5D4}\\u{5D9}\\u{5E8} \\u{5DE}\\u{5D0}\\u{5D5}\\u{5D3}`,\n    \"vibrant\": `\\u{5EA}\\u{5D5}\\u{5E1}\\u{5E1}`,\n    \"white\": `\\u{5DC}\\u{5D1}\\u{5DF}`,\n    \"yellow\": `\\u{5E6}\\u{5D4}\\u{5D5}\\u{5D1}`,\n    \"yellow green\": `\\u{5E6}\\u{5D4}\\u{5D5}\\u{5D1} \\u{5D9}\\u{5E8}\\u{5D5}\\u{5E7}`\n};\n\n\nexport {$9a3f292371bb0589$exports as default};\n//# sourceMappingURL=he-IL.module.js.map\n","var $4742231a685fa068$exports = {};\n$4742231a685fa068$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `crno`,\n    \"blue\": `Plava`,\n    \"blue purple\": `plavo ljubi\\u{10D}asta`,\n    \"brightness\": `Svjetlina`,\n    \"brown\": `sme\\u{111}a`,\n    \"brown yellow\": `sme\\u{111}e \\u{17E}uta`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `cijan`,\n    \"cyan blue\": `cijan plava`,\n    \"dark\": `tamno`,\n    \"gray\": `siva`,\n    \"grayish\": `sivkasto`,\n    \"green\": `Zelena`,\n    \"green cyan\": `zelena cijan`,\n    \"hue\": `Nijansa`,\n    \"light\": `svjetlo`,\n    \"lightness\": `Osvijetljenost`,\n    \"magenta\": `magenta`,\n    \"magenta pink\": `magentno ru\\u{17E}i\\u{10D}asta`,\n    \"orange\": `naran\\u{10D}asta`,\n    \"orange yellow\": `naran\\u{10D}asto \\u{17E}uta`,\n    \"pale\": `blijeda`,\n    \"pink\": `ru\\u{17E}i\\u{10D}asta`,\n    \"pink red\": `ru\\u{17E}i\\u{10D}asto crvena`,\n    \"purple\": `ljubi\\u{10D}asta`,\n    \"purple magenta\": `ljubi\\u{10D}asta magenta`,\n    \"red\": `Crvena`,\n    \"red orange\": `crveno naran\\u{10D}asta`,\n    \"saturation\": `Zasi\\u{107}enost`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} prozirnosti`,\n    \"very dark\": `jako tamna`,\n    \"very light\": `vrlo svijetlo`,\n    \"vibrant\": `vibrantna`,\n    \"white\": `bijela`,\n    \"yellow\": `\\u{17E}uto`,\n    \"yellow green\": `\\u{17E}uto zelena`\n};\n\n\nexport {$4742231a685fa068$exports as default};\n//# sourceMappingURL=hr-HR.module.js.map\n","var $05e247fd2960981e$exports = {};\n$05e247fd2960981e$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `fekete`,\n    \"blue\": `K\\xe9k`,\n    \"blue purple\": `k\\xe9k lila`,\n    \"brightness\": `F\\xe9nyess\\xe9g`,\n    \"brown\": `barna`,\n    \"brown yellow\": `barna s\\xe1rga`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `ci\\xe1nk\\xe9k`,\n    \"cyan blue\": `ci\\xe1nk\\xe9k`,\n    \"dark\": `s\\xf6t\\xe9t`,\n    \"gray\": `sz\\xfcrke`,\n    \"grayish\": `sz\\xfcrk\\xe9s`,\n    \"green\": `Z\\xf6ld`,\n    \"green cyan\": `z\\xf6ld ci\\xe1nk\\xe9k`,\n    \"hue\": `Sz\\xedn\\xe1rnyalat`,\n    \"light\": `vil\\xe1gos`,\n    \"lightness\": `Vil\\xe1goss\\xe1g`,\n    \"magenta\": `b\\xedbor`,\n    \"magenta pink\": `b\\xedbor r\\xf3zsasz\\xedn`,\n    \"orange\": `narancs`,\n    \"orange yellow\": `narancss\\xe1rga`,\n    \"pale\": `halv\\xe1ny`,\n    \"pink\": `r\\xf3zsasz\\xedn`,\n    \"pink red\": `r\\xf3zsasz\\xedn piros`,\n    \"purple\": `lila`,\n    \"purple magenta\": `lila b\\xedbor`,\n    \"red\": `Piros`,\n    \"red orange\": `piros narancs`,\n    \"saturation\": `Tel\\xedtetts\\xe9g`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} \\xe1tl\\xe1tsz\\xf3`,\n    \"very dark\": `nagyon s\\xf6t\\xe9t`,\n    \"very light\": `nagyon vil\\xe1gos`,\n    \"vibrant\": `\\xe9l\\xe9nk`,\n    \"white\": `feh\\xe9r`,\n    \"yellow\": `s\\xe1rga`,\n    \"yellow green\": `s\\xe1rga z\\xf6ld`\n};\n\n\nexport {$05e247fd2960981e$exports as default};\n//# sourceMappingURL=hu-HU.module.js.map\n","var $a67524a79ccbe190$exports = {};\n$a67524a79ccbe190$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `nero`,\n    \"blue\": `Blu`,\n    \"blue purple\": `blu viola`,\n    \"brightness\": `Luminosit\\xe0`,\n    \"brown\": `marrone`,\n    \"brown yellow\": `giallo bruno`,\n    \"colorName\": (args)=>`${args.hue} ${args.chroma} ${args.lightness}`,\n    \"cyan\": `ciano`,\n    \"cyan blue\": `blu ciano`,\n    \"dark\": `scuro`,\n    \"gray\": `grigio`,\n    \"grayish\": `grigiastro`,\n    \"green\": `Verde`,\n    \"green cyan\": `verde ciano`,\n    \"hue\": `Tonalit\\xe0`,\n    \"light\": `chiaro`,\n    \"lightness\": `Luminosit\\xe0`,\n    \"magenta\": `magenta`,\n    \"magenta pink\": `rosa magenta`,\n    \"orange\": `arancio`,\n    \"orange yellow\": `giallo arancio`,\n    \"pale\": `tenue`,\n    \"pink\": `rosa`,\n    \"pink red\": `rosa rosso`,\n    \"purple\": `viola`,\n    \"purple magenta\": `viola magenta`,\n    \"red\": `Rosso`,\n    \"red orange\": `rosso arancio`,\n    \"saturation\": `Saturazione`,\n    \"transparentColorName\": (args)=>`${args.hue} ${args.chroma} ${args.lightness}, trasparenza ${args.percentTransparent}`,\n    \"very dark\": `molto scuro`,\n    \"very light\": `molto chiaro`,\n    \"vibrant\": `vivace`,\n    \"white\": `bianco`,\n    \"yellow\": `giallo`,\n    \"yellow green\": `giallo verde`\n};\n\n\nexport {$a67524a79ccbe190$exports as default};\n//# sourceMappingURL=it-IT.module.js.map\n","var $a9eefe9d6c8cb7d5$exports = {};\n$a9eefe9d6c8cb7d5$exports = {\n    \"alpha\": `\\u{30A2}\\u{30EB}\\u{30D5}\\u{30A1}`,\n    \"black\": `\\u{30D6}\\u{30E9}\\u{30C3}\\u{30AF}`,\n    \"blue\": `\\u{9752}`,\n    \"blue purple\": `\\u{30D6}\\u{30EB}\\u{30FC}\\u{30D1}\\u{30FC}\\u{30D7}\\u{30EB}`,\n    \"brightness\": `\\u{660E}\\u{308B}\\u{3055}`,\n    \"brown\": `\\u{30D6}\\u{30E9}\\u{30A6}\\u{30F3}`,\n    \"brown yellow\": `\\u{30D6}\\u{30E9}\\u{30A6}\\u{30F3}\\u{30A4}\\u{30A8}\\u{30ED}\\u{30FC}`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `\\u{30B7}\\u{30A2}\\u{30F3}`,\n    \"cyan blue\": `\\u{30B7}\\u{30A2}\\u{30F3}\\u{30D6}\\u{30EB}\\u{30FC}`,\n    \"dark\": `\\u{30C0}\\u{30FC}\\u{30AF}`,\n    \"gray\": `\\u{30B0}\\u{30EC}\\u{30FC}`,\n    \"grayish\": `\\u{30B0}\\u{30EC}\\u{30A4}\\u{30C3}\\u{30B7}\\u{30E5}`,\n    \"green\": `\\u{7DD1}`,\n    \"green cyan\": `\\u{30B0}\\u{30EA}\\u{30FC}\\u{30F3}\\u{30B7}\\u{30A2}\\u{30F3}`,\n    \"hue\": `\\u{8272}\\u{76F8}`,\n    \"light\": `\\u{30E9}\\u{30A4}\\u{30C8}`,\n    \"lightness\": `\\u{660E}\\u{5EA6}`,\n    \"magenta\": `\\u{30DE}\\u{30BC}\\u{30F3}\\u{30BF}`,\n    \"magenta pink\": `\\u{30DE}\\u{30BC}\\u{30F3}\\u{30BF}\\u{30D4}\\u{30F3}\\u{30AF}`,\n    \"orange\": `\\u{30AA}\\u{30EC}\\u{30F3}\\u{30B8}`,\n    \"orange yellow\": `\\u{30AA}\\u{30EC}\\u{30F3}\\u{30B8}\\u{30A4}\\u{30A8}\\u{30ED}\\u{30FC}`,\n    \"pale\": `\\u{30DA}\\u{30FC}\\u{30EB}`,\n    \"pink\": `\\u{30D4}\\u{30F3}\\u{30AF}`,\n    \"pink red\": `\\u{30D4}\\u{30F3}\\u{30AF}\\u{30EC}\\u{30C3}\\u{30C9}`,\n    \"purple\": `\\u{30D1}\\u{30FC}\\u{30D7}\\u{30EB}`,\n    \"purple magenta\": `\\u{30D1}\\u{30FC}\\u{30D7}\\u{30EB}\\u{30DE}\\u{30BC}\\u{30F3}\\u{30BF}`,\n    \"red\": `\\u{8D64}`,\n    \"red orange\": `\\u{30EC}\\u{30C3}\\u{30C9}\\u{30AA}\\u{30EC}\\u{30F3}\\u{30B8}`,\n    \"saturation\": `\\u{5F69}\\u{5EA6}`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} \\u{900F}\\u{660E}`,\n    \"very dark\": `\\u{6700}\\u{3082}\\u{6697}\\u{3044}`,\n    \"very light\": `\\u{30D9}\\u{30EA}\\u{30FC}\\u{30E9}\\u{30A4}\\u{30C8}`,\n    \"vibrant\": `\\u{9BAE}\\u{3084}\\u{304B}`,\n    \"white\": `\\u{30DB}\\u{30EF}\\u{30A4}\\u{30C8}`,\n    \"yellow\": `\\u{30A4}\\u{30A8}\\u{30ED}\\u{30FC}`,\n    \"yellow green\": `\\u{30A4}\\u{30A8}\\u{30ED}\\u{30FC}\\u{30B0}\\u{30EA}\\u{30FC}\\u{30F3}`\n};\n\n\nexport {$a9eefe9d6c8cb7d5$exports as default};\n//# sourceMappingURL=ja-JP.module.js.map\n","var $4a6b836d4f1bfaba$exports = {};\n$4a6b836d4f1bfaba$exports = {\n    \"alpha\": `\\u{C54C}\\u{D30C}`,\n    \"black\": `\\u{AC80}\\u{C740}\\u{C0C9}`,\n    \"blue\": `\\u{D30C}\\u{B791}`,\n    \"blue purple\": `\\u{CCAD}\\u{C790}\\u{C0C9}`,\n    \"brightness\": `\\u{BA85}\\u{B3C4}`,\n    \"brown\": `\\u{AC08}\\u{C0C9}`,\n    \"brown yellow\": `\\u{D669}\\u{AC08}\\u{C0C9}`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `\\u{CCAD}\\u{B85D}\\u{C0C9}`,\n    \"cyan blue\": `\\u{CCAD}\\u{B85D}\\u{C0C9}`,\n    \"dark\": `\\u{B2E4}\\u{D06C}`,\n    \"gray\": `\\u{D68C}\\u{C0C9}`,\n    \"grayish\": `\\u{D68C}\\u{AC08}\\u{C0C9}`,\n    \"green\": `\\u{CD08}\\u{B85D}`,\n    \"green cyan\": `\\u{CCAD}\\u{B85D}\\u{C0C9}`,\n    \"hue\": `\\u{C0C9}\\u{C870}`,\n    \"light\": `\\u{B77C}\\u{C774}\\u{D2B8}`,\n    \"lightness\": `\\u{BC1D}\\u{AE30}`,\n    \"magenta\": `\\u{C790}\\u{D64D}\\u{C0C9}`,\n    \"magenta pink\": `\\u{B9C8}\\u{C820}\\u{D0C0} \\u{D551}\\u{D06C}`,\n    \"orange\": `\\u{C8FC}\\u{D669}\\u{C0C9}`,\n    \"orange yellow\": `\\u{BD88}\\u{ADF8}\\u{C2A4}\\u{B984}\\u{D55C} \\u{B178}\\u{B791}`,\n    \"pale\": `\\u{D759}\\u{C0C9}`,\n    \"pink\": `\\u{BD84}\\u{D64D}\\u{C0C9}`,\n    \"pink red\": `\\u{D551}\\u{D06C} \\u{B808}\\u{B4DC}`,\n    \"purple\": `\\u{C790}\\u{C8FC}\\u{C0C9}`,\n    \"purple magenta\": `\\u{BCF4}\\u{B77C}\\u{BE5B} \\u{C790}\\u{D64D}\\u{C0C9}`,\n    \"red\": `\\u{BE68}\\u{AC15}`,\n    \"red orange\": `\\u{BD89}\\u{C740} \\u{C8FC}\\u{D669}\\u{C0C9}`,\n    \"saturation\": `\\u{CC44}\\u{B3C4}`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} \\u{D22C}\\u{BA85}\\u{B3C4}`,\n    \"very dark\": `\\u{B9E4}\\u{C6B0} \\u{C5B4}\\u{B450}\\u{C6B4}`,\n    \"very light\": `\\u{B9E4}\\u{C6B0} \\u{C5F0}\\u{D568}`,\n    \"vibrant\": `\\u{AC15}\\u{B82C}\\u{D55C}`,\n    \"white\": `\\u{D770}\\u{C0C9}`,\n    \"yellow\": `\\u{B178}\\u{B780}\\u{C0C9}`,\n    \"yellow green\": `\\u{C5F0}\\u{B450}\\u{C0C9}`\n};\n\n\nexport {$4a6b836d4f1bfaba$exports as default};\n//# sourceMappingURL=ko-KR.module.js.map\n","var $c950e4b1c482abde$exports = {};\n$c950e4b1c482abde$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `juoda`,\n    \"blue\": `M\\u{117}lyna`,\n    \"blue purple\": `melsvai violetin\\u{117}`,\n    \"brightness\": `Ry\\u{161}kumas`,\n    \"brown\": `ruda`,\n    \"brown yellow\": `rusvai geltona`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `\\u{17E}alsvai m\\u{117}lyna`,\n    \"cyan blue\": `\\u{17E}alsvai m\\u{117}lyna`,\n    \"dark\": `tamsi`,\n    \"gray\": `pilka`,\n    \"grayish\": `pilk\\u{161}va`,\n    \"green\": `\\u{17D}alia`,\n    \"green cyan\": `\\u{17E}alsvai m\\u{117}lyna`,\n    \"hue\": `Atspalvis`,\n    \"light\": `\\u{161}viesi`,\n    \"lightness\": `\\u{160}viesumas`,\n    \"magenta\": `rausvai raudona`,\n    \"magenta pink\": `purpurin\\u{117}`,\n    \"orange\": `oran\\u{17E}in\\u{117}`,\n    \"orange yellow\": `oran\\u{17E}inio atspalvio geltona`,\n    \"pale\": `bly\\u{161}ki`,\n    \"pink\": `ro\\u{17E}in\\u{117}`,\n    \"pink red\": `ro\\u{17E}in\\u{117} raudona`,\n    \"purple\": `violetin\\u{117}`,\n    \"purple magenta\": `purpurin\\u{117} rausvai raudona`,\n    \"red\": `Raudona`,\n    \"red orange\": `rausvai oran\\u{17E}in\\u{117}`,\n    \"saturation\": `\\u{12E}sotinimas`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} skaidri`,\n    \"very dark\": `labai tamsi`,\n    \"very light\": `labai \\u{161}viesi`,\n    \"vibrant\": `ry\\u{161}ki`,\n    \"white\": `balta`,\n    \"yellow\": `geltona`,\n    \"yellow green\": `gelsvai \\u{17E}alia`\n};\n\n\nexport {$c950e4b1c482abde$exports as default};\n//# sourceMappingURL=lt-LT.module.js.map\n","var $d10d6b60dc50b438$exports = {};\n$d10d6b60dc50b438$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `melns`,\n    \"blue\": `Zila`,\n    \"blue purple\": `zili violets`,\n    \"brightness\": `Spilgtums`,\n    \"brown\": `br\\u{16B}ns`,\n    \"brown yellow\": `br\\u{16B}ni dzeltens`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `ci\\u{101}ns`,\n    \"cyan blue\": `ci\\u{101}na zils`,\n    \"dark\": `tum\\u{161}s`,\n    \"gray\": `pel\\u{113}ks`,\n    \"grayish\": `pel\\u{113}c\\u{12B}gs`,\n    \"green\": `Za\\u{13C}a`,\n    \"green cyan\": `za\\u{13C}\\u{161} ci\\u{101}ns`,\n    \"hue\": `Nokr\\u{101}sa`,\n    \"light\": `gai\\u{161}s`,\n    \"lightness\": `Gai\\u{161}ums`,\n    \"magenta\": `fuksiju`,\n    \"magenta pink\": `fuksiju roz\\u{101}`,\n    \"orange\": `oran\\u{17E}s`,\n    \"orange yellow\": `oran\\u{17E}i dzeltens`,\n    \"pale\": `b\\u{101}ls`,\n    \"pink\": `roz\\u{101}`,\n    \"pink red\": `roz\\u{12B}gi sarkans`,\n    \"purple\": `violets`,\n    \"purple magenta\": `violets fuksiju`,\n    \"red\": `Sarkana`,\n    \"red orange\": `sarkan\\u{12B}gi oran\\u{17E}s`,\n    \"saturation\": `Pies\\u{101}tin\\u{101}jums`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} caursp\\u{12B}d\\u{12B}gs`,\n    \"very dark\": `\\u{13C}oti tum\\u{161}s`,\n    \"very light\": `\\u{13C}oti gai\\u{161}s`,\n    \"vibrant\": `ko\\u{161}s`,\n    \"white\": `balts`,\n    \"yellow\": `dzeltens`,\n    \"yellow green\": `dzelteni za\\u{13C}\\u{161}`\n};\n\n\nexport {$d10d6b60dc50b438$exports as default};\n//# sourceMappingURL=lv-LV.module.js.map\n","var $371a732b2494f452$exports = {};\n$371a732b2494f452$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `svart`,\n    \"blue\": `Bl\\xe5`,\n    \"blue purple\": `bl\\xe5lilla`,\n    \"brightness\": `Lysstyrke`,\n    \"brown\": `brun`,\n    \"brown yellow\": `brungul`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `cyan`,\n    \"cyan blue\": `cyanbl\\xe5`,\n    \"dark\": `m\\xf8rk`,\n    \"gray\": `gr\\xe5`,\n    \"grayish\": `gr\\xe5aktig`,\n    \"green\": `Gr\\xf8nn`,\n    \"green cyan\": `gr\\xf8nncyan`,\n    \"hue\": `Fargetone`,\n    \"light\": `lys`,\n    \"lightness\": `Lyshet`,\n    \"magenta\": `magenta`,\n    \"magenta pink\": `magentarosa`,\n    \"orange\": `oransje`,\n    \"orange yellow\": `oransjegul`,\n    \"pale\": `blek`,\n    \"pink\": `rosa`,\n    \"pink red\": `rosar\\xf8d`,\n    \"purple\": `lilla`,\n    \"purple magenta\": `lillamagenta`,\n    \"red\": `R\\xf8d`,\n    \"red orange\": `r\\xf8doransje`,\n    \"saturation\": `Metning`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} gjennomsiktig`,\n    \"very dark\": `sv\\xe6rt m\\xf8rk`,\n    \"very light\": `sv\\xe6rt lys`,\n    \"vibrant\": `levende`,\n    \"white\": `hvit`,\n    \"yellow\": `gul`,\n    \"yellow green\": `gulgr\\xf8nn`\n};\n\n\nexport {$371a732b2494f452$exports as default};\n//# sourceMappingURL=nb-NO.module.js.map\n","var $6d042cae6243464b$exports = {};\n$6d042cae6243464b$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `zwart`,\n    \"blue\": `Blauw`,\n    \"blue purple\": `paarsblauw`,\n    \"brightness\": `Helderheid`,\n    \"brown\": `bruin`,\n    \"brown yellow\": `bruingeel`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `cyaan`,\n    \"cyan blue\": `cyaanblauw`,\n    \"dark\": `donker`,\n    \"gray\": `grijs`,\n    \"grayish\": `grijsachtig`,\n    \"green\": `Groen`,\n    \"green cyan\": `cyaangroen`,\n    \"hue\": `Kleurtoon`,\n    \"light\": `licht`,\n    \"lightness\": `Lichtsterkte`,\n    \"magenta\": `magenta`,\n    \"magenta pink\": `magentaroze`,\n    \"orange\": `oranje`,\n    \"orange yellow\": `oranjegeel`,\n    \"pale\": `bleek`,\n    \"pink\": `roze`,\n    \"pink red\": `rozerood`,\n    \"purple\": `paars`,\n    \"purple magenta\": `magentapaars`,\n    \"red\": `Rood`,\n    \"red orange\": `roodoranje`,\n    \"saturation\": `Verzadiging`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} transparant`,\n    \"very dark\": `heel donker`,\n    \"very light\": `heel licht`,\n    \"vibrant\": `levendig`,\n    \"white\": `wit`,\n    \"yellow\": `geel`,\n    \"yellow green\": `geelgroen`\n};\n\n\nexport {$6d042cae6243464b$exports as default};\n//# sourceMappingURL=nl-NL.module.js.map\n","var $d9ab5c2611e0bcd3$exports = {};\n$d9ab5c2611e0bcd3$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `czarny`,\n    \"blue\": `Niebieski`,\n    \"blue purple\": `niebiesko-fioletowy`,\n    \"brightness\": `Jasno\\u{15B}\\u{107}`,\n    \"brown\": `br\\u{105}zowy`,\n    \"brown yellow\": `br\\u{105}zowo-\\u{17C}\\xf3\\u{142}ty`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `cyjanowy`,\n    \"cyan blue\": `cyjanowo-niebieski`,\n    \"dark\": `ciemny`,\n    \"gray\": `szary`,\n    \"grayish\": `szarawy`,\n    \"green\": `Zielony`,\n    \"green cyan\": `zielono-cyjanowy`,\n    \"hue\": `Odcie\\u{144}`,\n    \"light\": `jasny`,\n    \"lightness\": `Jaskrawo\\u{15B}\\u{107}`,\n    \"magenta\": `purpurowy`,\n    \"magenta pink\": `purpurowo-r\\xf3\\u{17C}owy`,\n    \"orange\": `pomara\\u{144}czowy`,\n    \"orange yellow\": `pomara\\u{144}czowo-\\u{17C}\\xf3\\u{142}ty`,\n    \"pale\": `blady`,\n    \"pink\": `r\\xf3\\u{17C}owy`,\n    \"pink red\": `r\\xf3\\u{17C}owo-czerwony`,\n    \"purple\": `fioletowy`,\n    \"purple magenta\": `fioletowo-purpurowy`,\n    \"red\": `Czerwony`,\n    \"red orange\": `czerwono-pomara\\u{144}czowy`,\n    \"saturation\": `Nasycenie`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} przezroczysto\\u{15B}ci`,\n    \"very dark\": `bardzo ciemny`,\n    \"very light\": `bardzo jasny`,\n    \"vibrant\": `intensywny`,\n    \"white\": `bia\\u{142}y`,\n    \"yellow\": `\\u{17C}\\xf3\\u{142}ty`,\n    \"yellow green\": `\\u{17C}\\xf3\\u{142}to-zielony`\n};\n\n\nexport {$d9ab5c2611e0bcd3$exports as default};\n//# sourceMappingURL=pl-PL.module.js.map\n","var $73f77c9902e29ca6$exports = {};\n$73f77c9902e29ca6$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `preto`,\n    \"blue\": `Azul`,\n    \"blue purple\": `roxo azulado`,\n    \"brightness\": `Brilho`,\n    \"brown\": `marrom`,\n    \"brown yellow\": `marrom amarelado`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `ciano`,\n    \"cyan blue\": `azul-ciano`,\n    \"dark\": `escuro`,\n    \"gray\": `cinza`,\n    \"grayish\": `acinzentado`,\n    \"green\": `Verde`,\n    \"green cyan\": `verde-ciano`,\n    \"hue\": `Matiz`,\n    \"light\": `claro`,\n    \"lightness\": `Luminosidade`,\n    \"magenta\": `magenta`,\n    \"magenta pink\": `rosa-magenta`,\n    \"orange\": `laranja`,\n    \"orange yellow\": `amarelo alaranjado`,\n    \"pale\": `p\\xe1lido`,\n    \"pink\": `rosa`,\n    \"pink red\": `rosa avermelhado`,\n    \"purple\": `roxo`,\n    \"purple magenta\": `roxo-magenta`,\n    \"red\": `Vermelho`,\n    \"red orange\": `laranja avermelhado`,\n    \"saturation\": `Satura\\xe7\\xe3o`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} transparente`,\n    \"very dark\": `muito escuro`,\n    \"very light\": `muito claro`,\n    \"vibrant\": `vibrante`,\n    \"white\": `branco`,\n    \"yellow\": `amarelo`,\n    \"yellow green\": `verde amarelado`\n};\n\n\nexport {$73f77c9902e29ca6$exports as default};\n//# sourceMappingURL=pt-BR.module.js.map\n","var $4f461eb266a95c10$exports = {};\n$4f461eb266a95c10$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `preto`,\n    \"blue\": `Azul`,\n    \"blue purple\": `azul-p\\xfarpura`,\n    \"brightness\": `Luminosidade`,\n    \"brown\": `castanho`,\n    \"brown yellow\": `amarelo-castanho`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `ciano`,\n    \"cyan blue\": `azul-ciano`,\n    \"dark\": `escuro`,\n    \"gray\": `cinzento`,\n    \"grayish\": `acinzentado`,\n    \"green\": `Verde`,\n    \"green cyan\": `verde-ciano`,\n    \"hue\": `Tonalidade`,\n    \"light\": `claro`,\n    \"lightness\": `Claridade`,\n    \"magenta\": `magenta`,\n    \"magenta pink\": `rosa-magenta`,\n    \"orange\": `laranja`,\n    \"orange yellow\": `amarelo-laranja`,\n    \"pale\": `p\\xe1lido`,\n    \"pink\": `cor-de-rosa`,\n    \"pink red\": `vermelho-rosa`,\n    \"purple\": `p\\xfarpura`,\n    \"purple magenta\": `p\\xfarpura-magenta`,\n    \"red\": `Vermelho`,\n    \"red orange\": `laranja-vermelho`,\n    \"saturation\": `Satura\\xe7\\xe3o`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} transparente`,\n    \"very dark\": `muito escuro`,\n    \"very light\": `muito claro`,\n    \"vibrant\": `vibrante`,\n    \"white\": `branco`,\n    \"yellow\": `amarelo`,\n    \"yellow green\": `verde-amarelo`\n};\n\n\nexport {$4f461eb266a95c10$exports as default};\n//# sourceMappingURL=pt-PT.module.js.map\n","var $dc46bea2f2597899$exports = {};\n$dc46bea2f2597899$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `negru`,\n    \"blue\": `Albastru`,\n    \"blue purple\": `albastru-violet`,\n    \"brightness\": `Luminozitate`,\n    \"brown\": `maro`,\n    \"brown yellow\": `galben maro`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `bleu`,\n    \"cyan blue\": `albastru-bleu`,\n    \"dark\": `\\xeenchis`,\n    \"gray\": `gri`,\n    \"grayish\": `cenu\\u{219}iu`,\n    \"green\": `Verde`,\n    \"green cyan\": `verde bleu`,\n    \"hue\": `Nuan\\u{21B}\\u{103}`,\n    \"light\": `deschis`,\n    \"lightness\": `Luminozitate`,\n    \"magenta\": `fucsia`,\n    \"magenta pink\": `roz-fucsia`,\n    \"orange\": `portocaliu`,\n    \"orange yellow\": `galben-portocaliu`,\n    \"pale\": `pal`,\n    \"pink\": `roz`,\n    \"pink red\": `roz-ro\\u{219}u`,\n    \"purple\": `violet`,\n    \"purple magenta\": `violet-fucsia`,\n    \"red\": `Ro\\u{219}u`,\n    \"red orange\": `portocaliu-ro\\u{219}u`,\n    \"saturation\": `Satura\\u{21B}ie`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} transparent`,\n    \"very dark\": `foarte \\xeenchis`,\n    \"very light\": `foarte deschis`,\n    \"vibrant\": `plin de via\\u{21B}\\u{103}`,\n    \"white\": `alb`,\n    \"yellow\": `galben`,\n    \"yellow green\": `galben-verde`\n};\n\n\nexport {$dc46bea2f2597899$exports as default};\n//# sourceMappingURL=ro-RO.module.js.map\n","var $622bbd6719cc95af$exports = {};\n$622bbd6719cc95af$exports = {\n    \"alpha\": `\\u{410}\\u{43B}\\u{44C}\\u{444}\\u{430}`,\n    \"black\": `\\u{447}\\u{435}\\u{440}\\u{43D}\\u{44B}\\u{439}`,\n    \"blue\": `\\u{421}\\u{438}\\u{43D}\\u{438}\\u{439}`,\n    \"blue purple\": `\\u{441}\\u{438}\\u{43D}\\u{435}-\\u{444}\\u{438}\\u{43E}\\u{43B}\\u{435}\\u{442}\\u{43E}\\u{432}\\u{44B}\\u{439}`,\n    \"brightness\": `\\u{42F}\\u{440}\\u{43A}\\u{43E}\\u{441}\\u{442}\\u{44C}`,\n    \"brown\": `\\u{43A}\\u{43E}\\u{440}\\u{438}\\u{447}\\u{43D}\\u{435}\\u{432}\\u{44B}\\u{439}`,\n    \"brown yellow\": `\\u{43A}\\u{43E}\\u{440}\\u{438}\\u{447}\\u{43D}\\u{435}\\u{432}\\u{43E}-\\u{436}\\u{435}\\u{43B}\\u{442}\\u{44B}\\u{439}`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `\\u{433}\\u{43E}\\u{43B}\\u{443}\\u{431}\\u{43E}\\u{439}`,\n    \"cyan blue\": `\\u{446}\\u{432}\\u{435}\\u{442} \\u{43C}\\u{43E}\\u{440}\\u{441}\\u{43A}\\u{43E}\\u{439} \\u{432}\\u{43E}\\u{43B}\\u{43D}\\u{44B}`,\n    \"dark\": `\\u{442}\\u{435}\\u{43C}\\u{43D}\\u{44B}\\u{439}`,\n    \"gray\": `\\u{441}\\u{435}\\u{440}\\u{44B}\\u{439}`,\n    \"grayish\": `\\u{441}\\u{435}\\u{440}\\u{43E}\\u{432}\\u{430}\\u{442}\\u{44B}\\u{439}`,\n    \"green\": `\\u{417}\\u{435}\\u{43B}\\u{435}\\u{43D}\\u{44B}\\u{439}`,\n    \"green cyan\": `\\u{441}\\u{438}\\u{43D}\\u{435}-\\u{437}\\u{435}\\u{43B}\\u{435}\\u{43D}\\u{44B}\\u{439}`,\n    \"hue\": `\\u{41E}\\u{442}\\u{442}\\u{435}\\u{43D}\\u{43E}\\u{43A}`,\n    \"light\": `\\u{441}\\u{432}\\u{435}\\u{442}\\u{43B}\\u{44B}\\u{439}`,\n    \"lightness\": `\\u{41E}\\u{441}\\u{432}\\u{435}\\u{449}\\u{435}\\u{43D}\\u{43D}\\u{43E}\\u{441}\\u{442}\\u{44C}`,\n    \"magenta\": `\\u{43F}\\u{443}\\u{440}\\u{43F}\\u{443}\\u{440}\\u{43D}\\u{44B}\\u{439}`,\n    \"magenta pink\": `\\u{43F}\\u{443}\\u{440}\\u{43F}\\u{443}\\u{440}\\u{43D}\\u{43E}-\\u{440}\\u{43E}\\u{437}\\u{43E}\\u{432}\\u{44B}\\u{439}`,\n    \"orange\": `\\u{43E}\\u{440}\\u{430}\\u{43D}\\u{436}\\u{435}\\u{432}\\u{44B}\\u{439}`,\n    \"orange yellow\": `\\u{43E}\\u{440}\\u{430}\\u{43D}\\u{436}\\u{435}\\u{432}\\u{43E}-\\u{436}\\u{435}\\u{43B}\\u{442}\\u{44B}\\u{439}`,\n    \"pale\": `\\u{431}\\u{43B}\\u{435}\\u{434}\\u{43D}\\u{44B}\\u{439}`,\n    \"pink\": `\\u{440}\\u{43E}\\u{437}\\u{43E}\\u{432}\\u{44B}\\u{439}`,\n    \"pink red\": `\\u{440}\\u{43E}\\u{437}\\u{43E}\\u{432}\\u{43E}-\\u{43A}\\u{440}\\u{430}\\u{441}\\u{43D}\\u{44B}\\u{439}`,\n    \"purple\": `\\u{444}\\u{438}\\u{43E}\\u{43B}\\u{435}\\u{442}\\u{43E}\\u{432}\\u{44B}\\u{439}`,\n    \"purple magenta\": `\\u{444}\\u{438}\\u{43E}\\u{43B}\\u{435}\\u{442}\\u{43E}\\u{432}\\u{43E}-\\u{43F}\\u{443}\\u{440}\\u{43F}\\u{443}\\u{440}\\u{43D}\\u{44B}\\u{439}`,\n    \"red\": `\\u{41A}\\u{440}\\u{430}\\u{441}\\u{43D}\\u{44B}\\u{439}`,\n    \"red orange\": `\\u{43A}\\u{440}\\u{430}\\u{441}\\u{43D}\\u{43E}-\\u{43E}\\u{440}\\u{430}\\u{43D}\\u{436}\\u{435}\\u{432}\\u{44B}\\u{439}`,\n    \"saturation\": `\\u{41D}\\u{430}\\u{441}\\u{44B}\\u{449}\\u{435}\\u{43D}\\u{43D}\\u{43E}\\u{441}\\u{442}\\u{44C}`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, \\u{43F}\\u{440}\\u{43E}\\u{437}\\u{440}\\u{430}\\u{447}\\u{43D}\\u{44B}\\u{439} \\u{43D}\\u{430} ${args.percentTransparent}`,\n    \"very dark\": `\\u{43E}\\u{447}\\u{435}\\u{43D}\\u{44C} \\u{442}\\u{435}\\u{43C}\\u{43D}\\u{44B}\\u{439}`,\n    \"very light\": `\\u{43E}\\u{447}\\u{435}\\u{43D}\\u{44C} \\u{441}\\u{432}\\u{435}\\u{442}\\u{43B}\\u{44B}\\u{439}`,\n    \"vibrant\": `\\u{44F}\\u{440}\\u{43A}\\u{438}\\u{439}`,\n    \"white\": `\\u{431}\\u{435}\\u{43B}\\u{44B}\\u{439}`,\n    \"yellow\": `\\u{436}\\u{435}\\u{43B}\\u{442}\\u{44B}\\u{439}`,\n    \"yellow green\": `\\u{436}\\u{435}\\u{43B}\\u{442}\\u{43E}-\\u{437}\\u{435}\\u{43B}\\u{435}\\u{43D}\\u{44B}\\u{439}`\n};\n\n\nexport {$622bbd6719cc95af$exports as default};\n//# sourceMappingURL=ru-RU.module.js.map\n","var $4da03c1ecd9a9c7d$exports = {};\n$4da03c1ecd9a9c7d$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `\\u{10D}ierna`,\n    \"blue\": `Modr\\xe1`,\n    \"blue purple\": `modrofialov\\xe1`,\n    \"brightness\": `Jas`,\n    \"brown\": `hned\\xe1`,\n    \"brown yellow\": `hnedo\\u{17E}lt\\xe1`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `az\\xfarov\\xe1`,\n    \"cyan blue\": `az\\xfarov\\xe1 modr\\xe1`,\n    \"dark\": `tmav\\xe1`,\n    \"gray\": `siv\\xe1`,\n    \"grayish\": `sivast\\xe1`,\n    \"green\": `Zelen\\xe1`,\n    \"green cyan\": `zelen\\xe1 az\\xfarov\\xe1`,\n    \"hue\": `Odtie\\u{148}`,\n    \"light\": `svetl\\xe1`,\n    \"lightness\": `Svetlos\\u{165}`,\n    \"magenta\": `purpurov\\xe1`,\n    \"magenta pink\": `ru\\u{17E}ov\\xe1 purpurov\\xe1`,\n    \"orange\": `oran\\u{17E}ov\\xe1`,\n    \"orange yellow\": `oran\\u{17E}ovo\\u{17E}lt\\xe1`,\n    \"pale\": `bled\\xe1`,\n    \"pink\": `ru\\u{17E}ov\\xe1`,\n    \"pink red\": `ru\\u{17E}ovo\\u{10D}erven\\xe1`,\n    \"purple\": `fialov\\xe1`,\n    \"purple magenta\": `fialov\\xe1 purpurov\\xe1`,\n    \"red\": `\\u{10C}erven\\xe1`,\n    \"red orange\": `\\u{10D}ervenooran\\u{17E}ov\\xe1`,\n    \"saturation\": `S\\xfdtos\\u{165}`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} prieh\\u{13E}adn\\xe1`,\n    \"very dark\": `ve\\u{13E}mi tmav\\xe1`,\n    \"very light\": `ve\\u{13E}mi svetl\\xe1`,\n    \"vibrant\": `energick\\xe1`,\n    \"white\": `biela`,\n    \"yellow\": `\\u{17E}lt\\xe1`,\n    \"yellow green\": `\\u{17E}ltozelen\\xe1`\n};\n\n\nexport {$4da03c1ecd9a9c7d$exports as default};\n//# sourceMappingURL=sk-SK.module.js.map\n","var $edb6b2fe456ed4e8$exports = {};\n$edb6b2fe456ed4e8$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `\\u{10D}rna`,\n    \"blue\": `Modra`,\n    \"blue purple\": `modro vijoli\\u{10D}na`,\n    \"brightness\": `Svetlost`,\n    \"brown\": `rjava`,\n    \"brown yellow\": `rjavo rumena`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `cian`,\n    \"cyan blue\": `cian modra`,\n    \"dark\": `temna`,\n    \"gray\": `siva`,\n    \"grayish\": `sivkasta`,\n    \"green\": `Zelena`,\n    \"green cyan\": `zelena cian`,\n    \"hue\": `Barva`,\n    \"light\": `svetla`,\n    \"lightness\": `Lahkost`,\n    \"magenta\": `\\u{161}krlatna`,\n    \"magenta pink\": `\\u{161}krlatno roza`,\n    \"orange\": `oran\\u{17E}na`,\n    \"orange yellow\": `oran\\u{17E}no rumena`,\n    \"pale\": `bleda`,\n    \"pink\": `roza`,\n    \"pink red\": `roza rde\\u{10D}a`,\n    \"purple\": `vijoli\\u{10D}na`,\n    \"purple magenta\": `vijoli\\u{10D}no \\u{161}krlatna`,\n    \"red\": `Rde\\u{10D}a`,\n    \"red orange\": `rde\\u{10D}e oran\\u{17E}na`,\n    \"saturation\": `Nasi\\u{10D}enost`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} prozorna`,\n    \"very dark\": `zelo temna`,\n    \"very light\": `zelo svetla`,\n    \"vibrant\": `\\u{17E}ivahna`,\n    \"white\": `bela`,\n    \"yellow\": `rumena`,\n    \"yellow green\": `rumeno zelena`\n};\n\n\nexport {$edb6b2fe456ed4e8$exports as default};\n//# sourceMappingURL=sl-SI.module.js.map\n","var $264cd81c52b30815$exports = {};\n$264cd81c52b30815$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `crno`,\n    \"blue\": `Plava`,\n    \"blue purple\": `plavoljubi\\u{10D}asta`,\n    \"brightness\": `Osvetljenost`,\n    \"brown\": `sme\\u{111}a`,\n    \"brown yellow\": `sme\\u{111}e\\u{17E}uta`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `cijan`,\n    \"cyan blue\": `cijan plava`,\n    \"dark\": `tamno`,\n    \"gray\": `siva`,\n    \"grayish\": `sivkasta`,\n    \"green\": `Zelena`,\n    \"green cyan\": `zeleno cijan`,\n    \"hue\": `Nijansa`,\n    \"light\": `svetla`,\n    \"lightness\": `Osvetljenje`,\n    \"magenta\": `purpurnocrvena`,\n    \"magenta pink\": `magenta ru\\u{17E}i\\u{10D}asta`,\n    \"orange\": `narand\\u{17E}asta`,\n    \"orange yellow\": `narand\\u{17E}asto\\u{17E}uta`,\n    \"pale\": `bledo`,\n    \"pink\": `ru\\u{17E}i\\u{10D}asta`,\n    \"pink red\": `ru\\u{17E}i\\u{10D}astocrvena`,\n    \"purple\": `ljubi\\u{10D}asta`,\n    \"purple magenta\": `ljubi\\u{10D}asta magenta`,\n    \"red\": `Crvena`,\n    \"red orange\": `crvenonarand\\u{17E}asta`,\n    \"saturation\": `Zasi\\u{107}enje`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} prozirna`,\n    \"very dark\": `veoma tamno`,\n    \"very light\": `vrlo svetlo`,\n    \"vibrant\": `\\u{17E}ivopisna`,\n    \"white\": `bela`,\n    \"yellow\": `\\u{17E}uto`,\n    \"yellow green\": `\\u{17E}utozelena`\n};\n\n\nexport {$264cd81c52b30815$exports as default};\n//# sourceMappingURL=sr-SP.module.js.map\n","var $6f80afde0270dda7$exports = {};\n$6f80afde0270dda7$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `svart`,\n    \"blue\": `Bl\\xe5tt`,\n    \"blue purple\": `bl\\xe5lila`,\n    \"brightness\": `Ljusstyrka`,\n    \"brown\": `brun`,\n    \"brown yellow\": `brungul`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `cyan`,\n    \"cyan blue\": `cyanbl\\xe5`,\n    \"dark\": `m\\xf6rk`,\n    \"gray\": `gr\\xe5`,\n    \"grayish\": `gr\\xe5aktig`,\n    \"green\": `Gr\\xf6nt`,\n    \"green cyan\": `gr\\xf6n cyan`,\n    \"hue\": `Nyans`,\n    \"light\": `ljus`,\n    \"lightness\": `Ljushet`,\n    \"magenta\": `magenta`,\n    \"magenta pink\": `magentarosa`,\n    \"orange\": `orange`,\n    \"orange yellow\": `orangegul`,\n    \"pale\": `blek`,\n    \"pink\": `rosa`,\n    \"pink red\": `rosar\\xf6d`,\n    \"purple\": `lila`,\n    \"purple magenta\": `lila magenta`,\n    \"red\": `R\\xf6tt`,\n    \"red orange\": `r\\xf6dorange`,\n    \"saturation\": `M\\xe4ttnad`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} genomskinlig`,\n    \"very dark\": `mycket m\\xf6rk`,\n    \"very light\": `mycket ljus`,\n    \"vibrant\": `livfull`,\n    \"white\": `vit`,\n    \"yellow\": `gul`,\n    \"yellow green\": `gulgr\\xf6n`\n};\n\n\nexport {$6f80afde0270dda7$exports as default};\n//# sourceMappingURL=sv-SE.module.js.map\n","var $23a92651c6957668$exports = {};\n$23a92651c6957668$exports = {\n    \"alpha\": `Alfa`,\n    \"black\": `siyah`,\n    \"blue\": `Mavi`,\n    \"blue purple\": `mavi mor`,\n    \"brightness\": `Parlakl\\u{131}k`,\n    \"brown\": `kahverengi`,\n    \"brown yellow\": `kahverengi sar\\u{131}`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `camg\\xf6be\\u{11F}i`,\n    \"cyan blue\": `camg\\xf6be\\u{11F}i mavi`,\n    \"dark\": `koyu`,\n    \"gray\": `gri`,\n    \"grayish\": `grimsi`,\n    \"green\": `Ye\\u{15F}il`,\n    \"green cyan\": `ye\\u{15F}il camg\\xf6be\\u{11F}i`,\n    \"hue\": `Ton`,\n    \"light\": `a\\xe7\\u{131}k`,\n    \"lightness\": `Canl\\u{131}l\\u{131}k`,\n    \"magenta\": `eflatun`,\n    \"magenta pink\": `eflatun pembe`,\n    \"orange\": `turuncu`,\n    \"orange yellow\": `turuncu sar\\u{131}`,\n    \"pale\": `solgun`,\n    \"pink\": `pembe`,\n    \"pink red\": `pembe k\\u{131}rm\\u{131}z\\u{131}`,\n    \"purple\": `mor`,\n    \"purple magenta\": `mor eflatun`,\n    \"red\": `K\\u{131}rm\\u{131}z\\u{131}`,\n    \"red orange\": `k\\u{131}rm\\u{131}z\\u{131} portakal`,\n    \"saturation\": `Doygunluk`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} saydam`,\n    \"very dark\": `\\xe7ok koyu`,\n    \"very light\": `\\xe7ok a\\xe7\\u{131}k`,\n    \"vibrant\": `canl\\u{131}`,\n    \"white\": `beyaz`,\n    \"yellow\": `sar\\u{131}`,\n    \"yellow green\": `sar\\u{131} ye\\u{15F}il`\n};\n\n\nexport {$23a92651c6957668$exports as default};\n//# sourceMappingURL=tr-TR.module.js.map\n","var $0f9b1074d04f4954$exports = {};\n$0f9b1074d04f4954$exports = {\n    \"alpha\": `\\u{410}\\u{43B}\\u{44C}\\u{444}\\u{430}`,\n    \"black\": `\\u{447}\\u{43E}\\u{440}\\u{43D}\\u{438}\\u{439}`,\n    \"blue\": `\\u{421}\\u{438}\\u{43D}\\u{456}\\u{439}`,\n    \"blue purple\": `\\u{441}\\u{438}\\u{43D}\\u{44C}\\u{43E}-\\u{444}\\u{456}\\u{43E}\\u{43B}\\u{435}\\u{442}\\u{43E}\\u{432}\\u{438}\\u{439}`,\n    \"brightness\": `\\u{42F}\\u{441}\\u{43A}\\u{440}\\u{430}\\u{432}\\u{456}\\u{441}\\u{442}\\u{44C}`,\n    \"brown\": `\\u{43A}\\u{43E}\\u{440}\\u{438}\\u{447}\\u{43D}\\u{435}\\u{432}\\u{438}\\u{439}`,\n    \"brown yellow\": `\\u{43A}\\u{43E}\\u{440}\\u{438}\\u{447}\\u{43D}\\u{435}\\u{432}\\u{43E}-\\u{436}\\u{43E}\\u{432}\\u{442}\\u{438}\\u{439}`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `\\u{431}\\u{43B}\\u{430}\\u{43A}\\u{438}\\u{442}\\u{43D}\\u{438}\\u{439}`,\n    \"cyan blue\": `\\u{441}\\u{438}\\u{43D}\\u{44C}\\u{43E}-\\u{431}\\u{43B}\\u{430}\\u{43A}\\u{438}\\u{442}\\u{43D}\\u{438}\\u{439}`,\n    \"dark\": `\\u{442}\\u{435}\\u{43C}\\u{43D}\\u{438}\\u{439}`,\n    \"gray\": `\\u{441}\\u{456}\\u{440}\\u{438}\\u{439}`,\n    \"grayish\": `\\u{441}\\u{456}\\u{440}\\u{443}\\u{432}\\u{430}\\u{442}\\u{438}\\u{439}`,\n    \"green\": `\\u{417}\\u{435}\\u{43B}\\u{435}\\u{43D}\\u{438}\\u{439}`,\n    \"green cyan\": `\\u{437}\\u{435}\\u{43B}\\u{435}\\u{43D}\\u{43E}-\\u{431}\\u{43B}\\u{430}\\u{43A}\\u{438}\\u{442}\\u{43D}\\u{438}\\u{439}`,\n    \"hue\": `\\u{422}\\u{43E}\\u{43D}`,\n    \"light\": `\\u{441}\\u{432}\\u{456}\\u{442}\\u{43B}\\u{438}\\u{439}`,\n    \"lightness\": `\\u{41E}\\u{441}\\u{432}\\u{456}\\u{442}\\u{43B}\\u{435}\\u{43D}\\u{456}\\u{441}\\u{442}\\u{44C}`,\n    \"magenta\": `\\u{43F}\\u{443}\\u{440}\\u{43F}\\u{443}\\u{440}\\u{43E}\\u{432}\\u{438}\\u{439}`,\n    \"magenta pink\": `\\u{43F}\\u{443}\\u{440}\\u{43F}\\u{443}\\u{440}\\u{43E}\\u{432}\\u{43E}-\\u{440}\\u{43E}\\u{436}\\u{435}\\u{432}\\u{438}\\u{439}`,\n    \"orange\": `\\u{43F}\\u{43E}\\u{43C}\\u{430}\\u{440}\\u{430}\\u{43D}\\u{447}\\u{435}\\u{432}\\u{438}\\u{439}`,\n    \"orange yellow\": `\\u{43F}\\u{43E}\\u{43C}\\u{430}\\u{440}\\u{430}\\u{43D}\\u{447}\\u{435}\\u{432}\\u{43E}-\\u{436}\\u{43E}\\u{432}\\u{442}\\u{438}\\u{439}`,\n    \"pale\": `\\u{431}\\u{43B}\\u{456}\\u{434}\\u{438}\\u{439}`,\n    \"pink\": `\\u{440}\\u{43E}\\u{436}\\u{435}\\u{432}\\u{438}\\u{439}`,\n    \"pink red\": `\\u{440}\\u{43E}\\u{436}\\u{435}\\u{432}\\u{43E}-\\u{447}\\u{435}\\u{440}\\u{432}\\u{43E}\\u{43D}\\u{438}\\u{439}`,\n    \"purple\": `\\u{444}\\u{456}\\u{43E}\\u{43B}\\u{435}\\u{442}\\u{43E}\\u{432}\\u{438}\\u{439}`,\n    \"purple magenta\": `\\u{444}\\u{456}\\u{43E}\\u{43B}\\u{435}\\u{442}\\u{43E}\\u{432}\\u{43E}-\\u{43F}\\u{443}\\u{440}\\u{43F}\\u{443}\\u{440}\\u{43E}\\u{432}\\u{438}\\u{439}`,\n    \"red\": `\\u{427}\\u{435}\\u{440}\\u{432}\\u{43E}\\u{43D}\\u{438}\\u{439}`,\n    \"red orange\": `\\u{447}\\u{435}\\u{440}\\u{432}\\u{43E}\\u{43D}\\u{43E}-\\u{43F}\\u{43E}\\u{43C}\\u{430}\\u{440}\\u{430}\\u{43D}\\u{447}\\u{435}\\u{432}\\u{438}\\u{439}`,\n    \"saturation\": `\\u{41D}\\u{430}\\u{441}\\u{438}\\u{447}\\u{435}\\u{43D}\\u{456}\\u{441}\\u{442}\\u{44C}`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, \\u{43F}\\u{440}\\u{43E}\\u{437}\\u{43E}\\u{440}\\u{438}\\u{439} \\u{43D}\\u{430} ${args.percentTransparent}`,\n    \"very dark\": `\\u{434}\\u{443}\\u{436}\\u{435} \\u{442}\\u{435}\\u{43C}\\u{43D}\\u{438}\\u{439}`,\n    \"very light\": `\\u{434}\\u{443}\\u{436}\\u{435} \\u{441}\\u{432}\\u{456}\\u{442}\\u{43B}\\u{438}\\u{439}`,\n    \"vibrant\": `\\u{44F}\\u{441}\\u{43A}\\u{440}\\u{430}\\u{432}\\u{438}\\u{439}`,\n    \"white\": `\\u{431}\\u{456}\\u{43B}\\u{438}\\u{439}`,\n    \"yellow\": `\\u{436}\\u{43E}\\u{432}\\u{442}\\u{438}\\u{439}`,\n    \"yellow green\": `\\u{436}\\u{43E}\\u{432}\\u{442}\\u{43E}-\\u{437}\\u{435}\\u{43B}\\u{435}\\u{43D}\\u{438}\\u{439}`\n};\n\n\nexport {$0f9b1074d04f4954$exports as default};\n//# sourceMappingURL=uk-UA.module.js.map\n","var $a9cedf75b94e4916$exports = {};\n$a9cedf75b94e4916$exports = {\n    \"alpha\": `Alpha`,\n    \"black\": `\\u{9ED1}\\u{8272}`,\n    \"blue\": `\\u{84DD}\\u{8272}`,\n    \"blue purple\": `\\u{84DD}\\u{7D2B}\\u{8272}`,\n    \"brightness\": `\\u{4EAE}\\u{5EA6}`,\n    \"brown\": `\\u{68D5}\\u{8272}\\u{7684}`,\n    \"brown yellow\": `\\u{68D5}\\u{9EC4}\\u{8272}`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `\\u{84DD}\\u{7EFF}\\u{8272}`,\n    \"cyan blue\": `\\u{9752}\\u{84DD}\\u{8272}`,\n    \"dark\": `\\u{6DF1}\\u{8272}`,\n    \"gray\": `\\u{7070}\\u{8272}`,\n    \"grayish\": `\\u{6D45}\\u{7070}\\u{8272}\\u{7684}`,\n    \"green\": `\\u{7EFF}\\u{8272}`,\n    \"green cyan\": `\\u{7EFF}\\u{9752}\\u{8272}`,\n    \"hue\": `\\u{8272}\\u{76F8}`,\n    \"light\": `\\u{6D45}\\u{8272}`,\n    \"lightness\": `\\u{660E}\\u{4EAE}\\u{5EA6}`,\n    \"magenta\": `\\u{7D2B}\\u{7EA2}\\u{8272}`,\n    \"magenta pink\": `\\u{7D2B}\\u{7C89}\\u{8272}`,\n    \"orange\": `\\u{6A59}\\u{8272}`,\n    \"orange yellow\": `\\u{6A59}\\u{9EC4}\\u{8272}`,\n    \"pale\": `\\u{82CD}\\u{767D}\\u{7684}`,\n    \"pink\": `\\u{7C89}\\u{8272}`,\n    \"pink red\": `\\u{7C89}\\u{7EA2}\\u{8272}`,\n    \"purple\": `\\u{7D2B}\\u{8272}`,\n    \"purple magenta\": `\\u{7D2B}\\u{6D0B}\\u{7EA2}\\u{8272}`,\n    \"red\": `\\u{7EA2}\\u{8272}`,\n    \"red orange\": `\\u{7EA2}\\u{6A59}\\u{8272}`,\n    \"saturation\": `\\u{9971}\\u{548C}\\u{5EA6}`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} \\u{900F}\\u{660E}`,\n    \"very dark\": `\\u{5F88}\\u{6697}`,\n    \"very light\": `\\u{5F88}\\u{6D45}`,\n    \"vibrant\": `\\u{751F}\\u{673A}\\u{52C3}\\u{52C3}`,\n    \"white\": `\\u{767D}\\u{8272}`,\n    \"yellow\": `\\u{9EC4}\\u{8272}`,\n    \"yellow green\": `\\u{9EC4}\\u{8272}/\\u{7EFF}\\u{8272}`\n};\n\n\nexport {$a9cedf75b94e4916$exports as default};\n//# sourceMappingURL=zh-CN.module.js.map\n","var $37cff576474bc8d4$exports = {};\n$37cff576474bc8d4$exports = {\n    \"alpha\": `Alpha`,\n    \"black\": `\\u{9ED1}`,\n    \"blue\": `\\u{85CD}\\u{8272}`,\n    \"blue purple\": `\\u{85CD}\\u{7D2B}`,\n    \"brightness\": `\\u{4EAE}\\u{5EA6}`,\n    \"brown\": `\\u{68D5}`,\n    \"brown yellow\": `\\u{68D5}\\u{9EC3}`,\n    \"colorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}`,\n    \"cyan\": `\\u{9752}`,\n    \"cyan blue\": `\\u{9752}\\u{85CD}`,\n    \"dark\": `\\u{6697}`,\n    \"gray\": `\\u{7070}`,\n    \"grayish\": `\\u{504F}\\u{7070}`,\n    \"green\": `\\u{7DA0}\\u{8272}`,\n    \"green cyan\": `\\u{9752}\\u{7DA0}`,\n    \"hue\": `\\u{8272}\\u{76F8}`,\n    \"light\": `\\u{6DFA}`,\n    \"lightness\": `\\u{660E}\\u{4EAE}`,\n    \"magenta\": `\\u{6D0B}\\u{7D05}`,\n    \"magenta pink\": `\\u{6DFA}\\u{6D0B}\\u{7D05}`,\n    \"orange\": `\\u{6A59}`,\n    \"orange yellow\": `\\u{6A59}\\u{9EC3}`,\n    \"pale\": `\\u{6DE1}`,\n    \"pink\": `\\u{7C89}\\u{7D05}`,\n    \"pink red\": `\\u{7C89}\\u{7D05}`,\n    \"purple\": `\\u{7D2B}`,\n    \"purple magenta\": `\\u{7D2B}\\u{6D0B}\\u{7D05}`,\n    \"red\": `\\u{7D05}\\u{8272}`,\n    \"red orange\": `\\u{6A59}\\u{7D05}`,\n    \"saturation\": `\\u{98FD}\\u{548C}\\u{5EA6}`,\n    \"transparentColorName\": (args)=>`${args.lightness} ${args.chroma} ${args.hue}, ${args.percentTransparent} \\u{900F}\\u{660E}`,\n    \"very dark\": `\\u{5F88}\\u{6697}`,\n    \"very light\": `\\u{5F88}\\u{6DFA}`,\n    \"vibrant\": `\\u{9BAE}\\u{8C54}`,\n    \"white\": `\\u{767D}`,\n    \"yellow\": `\\u{9EC3}`,\n    \"yellow green\": `\\u{9EC3}\\u{7DA0}`\n};\n\n\nexport {$37cff576474bc8d4$exports as default};\n//# sourceMappingURL=zh-TW.module.js.map\n","import $7n5uc$arAEmodulejs from \"./ar-AE.mjs\";\nimport $7n5uc$bgBGmodulejs from \"./bg-BG.mjs\";\nimport $7n5uc$csCZmodulejs from \"./cs-CZ.mjs\";\nimport $7n5uc$daDKmodulejs from \"./da-DK.mjs\";\nimport $7n5uc$deDEmodulejs from \"./de-DE.mjs\";\nimport $7n5uc$elGRmodulejs from \"./el-GR.mjs\";\nimport $7n5uc$enUSmodulejs from \"./en-US.mjs\";\nimport $7n5uc$esESmodulejs from \"./es-ES.mjs\";\nimport $7n5uc$etEEmodulejs from \"./et-EE.mjs\";\nimport $7n5uc$fiFImodulejs from \"./fi-FI.mjs\";\nimport $7n5uc$frFRmodulejs from \"./fr-FR.mjs\";\nimport $7n5uc$heILmodulejs from \"./he-IL.mjs\";\nimport $7n5uc$hrHRmodulejs from \"./hr-HR.mjs\";\nimport $7n5uc$huHUmodulejs from \"./hu-HU.mjs\";\nimport $7n5uc$itITmodulejs from \"./it-IT.mjs\";\nimport $7n5uc$jaJPmodulejs from \"./ja-JP.mjs\";\nimport $7n5uc$koKRmodulejs from \"./ko-KR.mjs\";\nimport $7n5uc$ltLTmodulejs from \"./lt-LT.mjs\";\nimport $7n5uc$lvLVmodulejs from \"./lv-LV.mjs\";\nimport $7n5uc$nbNOmodulejs from \"./nb-NO.mjs\";\nimport $7n5uc$nlNLmodulejs from \"./nl-NL.mjs\";\nimport $7n5uc$plPLmodulejs from \"./pl-PL.mjs\";\nimport $7n5uc$ptBRmodulejs from \"./pt-BR.mjs\";\nimport $7n5uc$ptPTmodulejs from \"./pt-PT.mjs\";\nimport $7n5uc$roROmodulejs from \"./ro-RO.mjs\";\nimport $7n5uc$ruRUmodulejs from \"./ru-RU.mjs\";\nimport $7n5uc$skSKmodulejs from \"./sk-SK.mjs\";\nimport $7n5uc$slSImodulejs from \"./sl-SI.mjs\";\nimport $7n5uc$srSPmodulejs from \"./sr-SP.mjs\";\nimport $7n5uc$svSEmodulejs from \"./sv-SE.mjs\";\nimport $7n5uc$trTRmodulejs from \"./tr-TR.mjs\";\nimport $7n5uc$ukUAmodulejs from \"./uk-UA.mjs\";\nimport $7n5uc$zhCNmodulejs from \"./zh-CN.mjs\";\nimport $7n5uc$zhTWmodulejs from \"./zh-TW.mjs\";\n\nvar $f98dad178a72c00d$exports = {};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n$f98dad178a72c00d$exports = {\n    \"ar-AE\": $7n5uc$arAEmodulejs,\n    \"bg-BG\": $7n5uc$bgBGmodulejs,\n    \"cs-CZ\": $7n5uc$csCZmodulejs,\n    \"da-DK\": $7n5uc$daDKmodulejs,\n    \"de-DE\": $7n5uc$deDEmodulejs,\n    \"el-GR\": $7n5uc$elGRmodulejs,\n    \"en-US\": $7n5uc$enUSmodulejs,\n    \"es-ES\": $7n5uc$esESmodulejs,\n    \"et-EE\": $7n5uc$etEEmodulejs,\n    \"fi-FI\": $7n5uc$fiFImodulejs,\n    \"fr-FR\": $7n5uc$frFRmodulejs,\n    \"he-IL\": $7n5uc$heILmodulejs,\n    \"hr-HR\": $7n5uc$hrHRmodulejs,\n    \"hu-HU\": $7n5uc$huHUmodulejs,\n    \"it-IT\": $7n5uc$itITmodulejs,\n    \"ja-JP\": $7n5uc$jaJPmodulejs,\n    \"ko-KR\": $7n5uc$koKRmodulejs,\n    \"lt-LT\": $7n5uc$ltLTmodulejs,\n    \"lv-LV\": $7n5uc$lvLVmodulejs,\n    \"nb-NO\": $7n5uc$nbNOmodulejs,\n    \"nl-NL\": $7n5uc$nlNLmodulejs,\n    \"pl-PL\": $7n5uc$plPLmodulejs,\n    \"pt-BR\": $7n5uc$ptBRmodulejs,\n    \"pt-PT\": $7n5uc$ptPTmodulejs,\n    \"ro-RO\": $7n5uc$roROmodulejs,\n    \"ru-RU\": $7n5uc$ruRUmodulejs,\n    \"sk-SK\": $7n5uc$skSKmodulejs,\n    \"sl-SI\": $7n5uc$slSImodulejs,\n    \"sr-SP\": $7n5uc$srSPmodulejs,\n    \"sv-SE\": $7n5uc$svSEmodulejs,\n    \"tr-TR\": $7n5uc$trTRmodulejs,\n    \"uk-UA\": $7n5uc$ukUAmodulejs,\n    \"zh-CN\": $7n5uc$zhCNmodulejs,\n    \"zh-TW\": $7n5uc$zhTWmodulejs\n};\n\n\nexport {$f98dad178a72c00d$exports as default};\n//# sourceMappingURL=intlStrings.module.js.map\n","/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ const $5b160d28a433310d$var$localeSymbol = Symbol.for('react-aria.i18n.locale');\nconst $5b160d28a433310d$var$stringsSymbol = Symbol.for('react-aria.i18n.strings');\nlet $5b160d28a433310d$var$cachedGlobalStrings = undefined;\nclass $5b160d28a433310d$export$c17fa47878dc55b6 {\n    /** Returns a localized string for the given key and locale. */ getStringForLocale(key, locale) {\n        let strings = this.getStringsForLocale(locale);\n        let string = strings[key];\n        if (!string) throw new Error(`Could not find intl message ${key} in ${locale} locale`);\n        return string;\n    }\n    /** Returns all localized strings for the given locale. */ getStringsForLocale(locale) {\n        let strings = this.strings[locale];\n        if (!strings) {\n            strings = $5b160d28a433310d$var$getStringsForLocale(locale, this.strings, this.defaultLocale);\n            this.strings[locale] = strings;\n        }\n        return strings;\n    }\n    static getGlobalDictionaryForPackage(packageName) {\n        if (typeof window === 'undefined') return null;\n        let locale = window[$5b160d28a433310d$var$localeSymbol];\n        if ($5b160d28a433310d$var$cachedGlobalStrings === undefined) {\n            let globalStrings = window[$5b160d28a433310d$var$stringsSymbol];\n            if (!globalStrings) return null;\n            $5b160d28a433310d$var$cachedGlobalStrings = {};\n            for(let pkg in globalStrings)$5b160d28a433310d$var$cachedGlobalStrings[pkg] = new $5b160d28a433310d$export$c17fa47878dc55b6({\n                [locale]: globalStrings[pkg]\n            }, locale);\n        }\n        let dictionary = $5b160d28a433310d$var$cachedGlobalStrings === null || $5b160d28a433310d$var$cachedGlobalStrings === void 0 ? void 0 : $5b160d28a433310d$var$cachedGlobalStrings[packageName];\n        if (!dictionary) throw new Error(`Strings for package \"${packageName}\" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);\n        return dictionary;\n    }\n    constructor(messages, defaultLocale = 'en-US'){\n        // Clone messages so we don't modify the original object.\n        // Filter out entries with falsy values which may have been caused by applying optimize-locales-plugin.\n        this.strings = Object.fromEntries(Object.entries(messages).filter(([, v])=>v));\n        this.defaultLocale = defaultLocale;\n    }\n}\nfunction $5b160d28a433310d$var$getStringsForLocale(locale, strings, defaultLocale = 'en-US') {\n    // If there is an exact match, use it.\n    if (strings[locale]) return strings[locale];\n    // Attempt to find the closest match by language.\n    // For example, if the locale is fr-CA (French Canadian), but there is only\n    // an fr-FR (France) set of strings, use that.\n    // This could be replaced with Intl.LocaleMatcher once it is supported.\n    // https://github.com/tc39/proposal-intl-localematcher\n    let language = $5b160d28a433310d$var$getLanguage(locale);\n    if (strings[language]) return strings[language];\n    for(let key in strings){\n        if (key.startsWith(language + '-')) return strings[key];\n    }\n    // Nothing close, use english.\n    return strings[defaultLocale];\n}\nfunction $5b160d28a433310d$var$getLanguage(locale) {\n    // @ts-ignore\n    if (Intl.Locale) // @ts-ignore\n    return new Intl.Locale(locale).language;\n    return locale.split('-')[0];\n}\n\n\nexport {$5b160d28a433310d$export$c17fa47878dc55b6 as LocalizedStringDictionary};\n//# sourceMappingURL=LocalizedStringDictionary.module.js.map\n","/*\n * Copyright 2022 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ const $6db58dc88e78b024$var$pluralRulesCache = new Map();\nconst $6db58dc88e78b024$var$numberFormatCache = new Map();\nclass $6db58dc88e78b024$export$2f817fcdc4b89ae0 {\n    /** Formats a localized string for the given key with the provided variables. */ format(key, variables) {\n        let message = this.strings.getStringForLocale(key, this.locale);\n        return typeof message === 'function' ? message(variables, this) : message;\n    }\n    plural(count, options, type = 'cardinal') {\n        let opt = options['=' + count];\n        if (opt) return typeof opt === 'function' ? opt() : opt;\n        let key = this.locale + ':' + type;\n        let pluralRules = $6db58dc88e78b024$var$pluralRulesCache.get(key);\n        if (!pluralRules) {\n            pluralRules = new Intl.PluralRules(this.locale, {\n                type: type\n            });\n            $6db58dc88e78b024$var$pluralRulesCache.set(key, pluralRules);\n        }\n        let selected = pluralRules.select(count);\n        opt = options[selected] || options.other;\n        return typeof opt === 'function' ? opt() : opt;\n    }\n    number(value) {\n        let numberFormat = $6db58dc88e78b024$var$numberFormatCache.get(this.locale);\n        if (!numberFormat) {\n            numberFormat = new Intl.NumberFormat(this.locale);\n            $6db58dc88e78b024$var$numberFormatCache.set(this.locale, numberFormat);\n        }\n        return numberFormat.format(value);\n    }\n    select(options, value) {\n        let opt = options[value] || options.other;\n        return typeof opt === 'function' ? opt() : opt;\n    }\n    constructor(locale, strings){\n        this.locale = locale;\n        this.strings = strings;\n    }\n}\n\n\nexport {$6db58dc88e78b024$export$2f817fcdc4b89ae0 as LocalizedStringFormatter};\n//# sourceMappingURL=LocalizedStringFormatter.module.js.map\n","import $34yyy$intlStringsmodulejs from \"./intlStrings.mjs\";\nimport {clamp as $34yyy$clamp, toFixedNumber as $34yyy$toFixedNumber} from \"@react-stately/utils\";\nimport {LocalizedStringDictionary as $34yyy$LocalizedStringDictionary, LocalizedStringFormatter as $34yyy$LocalizedStringFormatter} from \"@internationalized/string\";\nimport {NumberFormatter as $34yyy$NumberFormatter} from \"@internationalized/number\";\n\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\n\n\nlet $799cddbef784668f$var$dictionary = new (0, $34yyy$LocalizedStringDictionary)((0, ($parcel$interopDefault($34yyy$intlStringsmodulejs))));\nfunction $799cddbef784668f$export$6e865ea70d7724f(value) {\n    let res = $799cddbef784668f$var$RGBColor.parse(value) || $799cddbef784668f$var$HSBColor.parse(value) || $799cddbef784668f$var$HSLColor.parse(value);\n    if (res) return res;\n    throw new Error('Invalid color value: ' + value);\n}\nfunction $799cddbef784668f$export$4cde5df63f53f473(v) {\n    if (typeof v === 'string') return $799cddbef784668f$export$6e865ea70d7724f(v);\n    else return v;\n}\nfunction $799cddbef784668f$export$1c0c08912582810c(colorSpace) {\n    switch(colorSpace){\n        case 'rgb':\n            return $799cddbef784668f$var$RGBColor.colorChannels;\n        case 'hsl':\n            return $799cddbef784668f$var$HSLColor.colorChannels;\n        case 'hsb':\n            return $799cddbef784668f$var$HSBColor.colorChannels;\n    }\n}\n// Lightness threshold between orange and brown.\nconst $799cddbef784668f$var$ORANGE_LIGHTNESS_THRESHOLD = 0.68;\n// Lightness threshold between pure yellow and \"yellow green\".\nconst $799cddbef784668f$var$YELLOW_GREEN_LIGHTNESS_THRESHOLD = 0.85;\n// The maximum lightness considered to be \"dark\".\nconst $799cddbef784668f$var$MAX_DARK_LIGHTNESS = 0.55;\n// The chroma threshold between gray and color.\nconst $799cddbef784668f$var$GRAY_THRESHOLD = 0.001;\nconst $799cddbef784668f$var$OKLCH_HUES = [\n    [\n        0,\n        'pink'\n    ],\n    [\n        15,\n        'red'\n    ],\n    [\n        48,\n        'orange'\n    ],\n    [\n        94,\n        'yellow'\n    ],\n    [\n        135,\n        'green'\n    ],\n    [\n        175,\n        'cyan'\n    ],\n    [\n        264,\n        'blue'\n    ],\n    [\n        284,\n        'purple'\n    ],\n    [\n        320,\n        'magenta'\n    ],\n    [\n        349,\n        'pink'\n    ]\n];\nclass $799cddbef784668f$var$Color {\n    toHexInt() {\n        return this.toFormat('rgb').toHexInt();\n    }\n    getChannelValue(channel) {\n        if (channel in this) return this[channel];\n        throw new Error('Unsupported color channel: ' + channel);\n    }\n    withChannelValue(channel, value) {\n        if (channel in this) {\n            let x = this.clone();\n            x[channel] = value;\n            return x;\n        }\n        throw new Error('Unsupported color channel: ' + channel);\n    }\n    getChannelName(channel, locale) {\n        let strings = (0, $34yyy$LocalizedStringDictionary).getGlobalDictionaryForPackage('@react-stately/color') || $799cddbef784668f$var$dictionary;\n        return strings.getStringForLocale(channel, locale);\n    }\n    getColorSpaceAxes(xyChannels) {\n        let { xChannel: xChannel, yChannel: yChannel } = xyChannels;\n        let xCh = xChannel || this.getColorChannels().find((c)=>c !== yChannel);\n        let yCh = yChannel || this.getColorChannels().find((c)=>c !== xCh);\n        let zCh = this.getColorChannels().find((c)=>c !== xCh && c !== yCh);\n        return {\n            xChannel: xCh,\n            yChannel: yCh,\n            zChannel: zCh\n        };\n    }\n    getColorName(locale) {\n        // Convert to oklch color space, which has perceptually uniform lightness across all hues.\n        let [l, c, h] = $799cddbef784668f$var$toOKLCH(this);\n        let strings = (0, $34yyy$LocalizedStringDictionary).getGlobalDictionaryForPackage('@react-stately/color') || $799cddbef784668f$var$dictionary;\n        if (l > 0.999) return strings.getStringForLocale('white', locale);\n        if (l < 0.001) return strings.getStringForLocale('black', locale);\n        let hue;\n        [hue, l] = this.getOklchHue(l, c, h, locale);\n        let lightness = '';\n        let chroma = '';\n        if (c <= 0.1 && c >= $799cddbef784668f$var$GRAY_THRESHOLD) {\n            if (l >= 0.7) chroma = 'pale';\n            else chroma = 'grayish';\n        } else if (c >= 0.15) chroma = 'vibrant';\n        if (l < 0.3) lightness = 'very dark';\n        else if (l < $799cddbef784668f$var$MAX_DARK_LIGHTNESS) lightness = 'dark';\n        else if (l < 0.7) ;\n        else if (l < 0.85) lightness = 'light';\n        else lightness = 'very light';\n        if (chroma) chroma = strings.getStringForLocale(chroma, locale);\n        if (lightness) lightness = strings.getStringForLocale(lightness, locale);\n        let alpha = this.getChannelValue('alpha');\n        let formatter = new (0, $34yyy$LocalizedStringFormatter)(locale, strings);\n        if (alpha < 1) {\n            let percentTransparent = new (0, $34yyy$NumberFormatter)(locale, {\n                style: 'percent'\n            }).format(1 - alpha);\n            return formatter.format('transparentColorName', {\n                lightness: lightness,\n                chroma: chroma,\n                hue: hue,\n                percentTransparent: percentTransparent\n            }).replace(/\\s+/g, ' ').trim();\n        } else return formatter.format('colorName', {\n            lightness: lightness,\n            chroma: chroma,\n            hue: hue\n        }).replace(/\\s+/g, ' ').trim();\n    }\n    getOklchHue(l, c, h, locale) {\n        let strings = (0, $34yyy$LocalizedStringDictionary).getGlobalDictionaryForPackage('@react-stately/color') || $799cddbef784668f$var$dictionary;\n        if (c < $799cddbef784668f$var$GRAY_THRESHOLD) return [\n            strings.getStringForLocale('gray', locale),\n            l\n        ];\n        for(let i = 0; i < $799cddbef784668f$var$OKLCH_HUES.length; i++){\n            let [hue, hueName] = $799cddbef784668f$var$OKLCH_HUES[i];\n            let [nextHue, nextHueName] = $799cddbef784668f$var$OKLCH_HUES[i + 1] || [\n                360,\n                'pink'\n            ];\n            if (h >= hue && h < nextHue) {\n                // Split orange hue into brown/orange depending on lightness.\n                if (hueName === 'orange') {\n                    if (l < $799cddbef784668f$var$ORANGE_LIGHTNESS_THRESHOLD) hueName = 'brown';\n                    else // Adjust lightness.\n                    l = l - $799cddbef784668f$var$ORANGE_LIGHTNESS_THRESHOLD + $799cddbef784668f$var$MAX_DARK_LIGHTNESS;\n                }\n                // If the hue is at least halfway to the next hue, add the next hue name as well.\n                if (h > hue + (nextHue - hue) / 2 && hueName !== nextHueName) hueName = `${hueName} ${nextHueName}`;\n                else if (hueName === 'yellow' && l < $799cddbef784668f$var$YELLOW_GREEN_LIGHTNESS_THRESHOLD) // Yellow shifts toward green at lower lightnesses.\n                hueName = 'yellow green';\n                let name = strings.getStringForLocale(hueName, locale).toLocaleLowerCase(locale);\n                return [\n                    name,\n                    l\n                ];\n            }\n        }\n        throw new Error('Unexpected hue');\n    }\n    getHueName(locale) {\n        let [l, c, h] = $799cddbef784668f$var$toOKLCH(this);\n        let [name] = this.getOklchHue(l, c, h, locale);\n        return name;\n    }\n}\nclass $799cddbef784668f$var$RGBColor extends $799cddbef784668f$var$Color {\n    static parse(value) {\n        let colors = [];\n        // matching #rgb, #rgba, #rrggbb, #rrggbbaa\n        if (/^#[\\da-f]+$/i.test(value) && [\n            4,\n            5,\n            7,\n            9\n        ].includes(value.length)) {\n            const values = (value.length < 6 ? value.replace(/[^#]/gi, '$&$&') : value).slice(1).split('');\n            while(values.length > 0)colors.push(parseInt(values.splice(0, 2).join(''), 16));\n            colors[3] = colors[3] !== undefined ? colors[3] / 255 : undefined;\n        }\n        // matching rgb(rrr, ggg, bbb), rgba(rrr, ggg, bbb, 0.a)\n        const match = value.match(/^rgba?\\((.*)\\)$/);\n        if (match === null || match === void 0 ? void 0 : match[1]) {\n            colors = match[1].split(',').map((value)=>Number(value.trim()));\n            colors = colors.map((num, i)=>(0, $34yyy$clamp)(num, 0, i < 3 ? 255 : 1));\n        }\n        var _colors_;\n        return colors.length < 3 ? undefined : new $799cddbef784668f$var$RGBColor(colors[0], colors[1], colors[2], (_colors_ = colors[3]) !== null && _colors_ !== void 0 ? _colors_ : 1);\n    }\n    toString(format = 'css') {\n        switch(format){\n            case 'hex':\n                return '#' + (this.red.toString(16).padStart(2, '0') + this.green.toString(16).padStart(2, '0') + this.blue.toString(16).padStart(2, '0')).toUpperCase();\n            case 'hexa':\n                return '#' + (this.red.toString(16).padStart(2, '0') + this.green.toString(16).padStart(2, '0') + this.blue.toString(16).padStart(2, '0') + Math.round(this.alpha * 255).toString(16).padStart(2, '0')).toUpperCase();\n            case 'rgb':\n                return `rgb(${this.red}, ${this.green}, ${this.blue})`;\n            case 'css':\n            case 'rgba':\n                return `rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;\n            default:\n                return this.toFormat(format).toString(format);\n        }\n    }\n    toFormat(format) {\n        switch(format){\n            case 'hex':\n            case 'hexa':\n            case 'rgb':\n            case 'rgba':\n                return this;\n            case 'hsb':\n            case 'hsba':\n                return this.toHSB();\n            case 'hsl':\n            case 'hsla':\n                return this.toHSL();\n            default:\n                throw new Error('Unsupported color conversion: rgb -> ' + format);\n        }\n    }\n    toHexInt() {\n        return this.red << 16 | this.green << 8 | this.blue;\n    }\n    /**\n   * Converts an RGB color value to HSB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#From_RGB.\n   * @returns An HSBColor object.\n   */ toHSB() {\n        const red = this.red / 255;\n        const green = this.green / 255;\n        const blue = this.blue / 255;\n        const min = Math.min(red, green, blue);\n        const brightness = Math.max(red, green, blue);\n        const chroma = brightness - min;\n        const saturation = brightness === 0 ? 0 : chroma / brightness;\n        let hue = 0; // achromatic\n        if (chroma !== 0) {\n            switch(brightness){\n                case red:\n                    hue = (green - blue) / chroma + (green < blue ? 6 : 0);\n                    break;\n                case green:\n                    hue = (blue - red) / chroma + 2;\n                    break;\n                case blue:\n                    hue = (red - green) / chroma + 4;\n                    break;\n            }\n            hue /= 6;\n        }\n        return new $799cddbef784668f$var$HSBColor((0, $34yyy$toFixedNumber)(hue * 360, 2), (0, $34yyy$toFixedNumber)(saturation * 100, 2), (0, $34yyy$toFixedNumber)(brightness * 100, 2), this.alpha);\n    }\n    /**\n   * Converts an RGB color value to HSL.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#From_RGB.\n   * @returns An HSLColor object.\n   */ toHSL() {\n        const red = this.red / 255;\n        const green = this.green / 255;\n        const blue = this.blue / 255;\n        const min = Math.min(red, green, blue);\n        const max = Math.max(red, green, blue);\n        const lightness = (max + min) / 2;\n        const chroma = max - min;\n        let hue;\n        let saturation;\n        if (chroma === 0) hue = saturation = 0; // achromatic\n        else {\n            saturation = chroma / (lightness < .5 ? max + min : 2 - max - min);\n            switch(max){\n                case red:\n                    hue = (green - blue) / chroma + (green < blue ? 6 : 0);\n                    break;\n                case green:\n                    hue = (blue - red) / chroma + 2;\n                    break;\n                case blue:\n                    hue = (red - green) / chroma + 4;\n                    break;\n            }\n            hue /= 6;\n        }\n        return new $799cddbef784668f$var$HSLColor((0, $34yyy$toFixedNumber)(hue * 360, 2), (0, $34yyy$toFixedNumber)(saturation * 100, 2), (0, $34yyy$toFixedNumber)(lightness * 100, 2), this.alpha);\n    }\n    clone() {\n        return new $799cddbef784668f$var$RGBColor(this.red, this.green, this.blue, this.alpha);\n    }\n    getChannelRange(channel) {\n        switch(channel){\n            case 'red':\n            case 'green':\n            case 'blue':\n                return {\n                    minValue: 0x0,\n                    maxValue: 0xFF,\n                    step: 0x1,\n                    pageSize: 0x11\n                };\n            case 'alpha':\n                return {\n                    minValue: 0,\n                    maxValue: 1,\n                    step: 0.01,\n                    pageSize: 0.1\n                };\n            default:\n                throw new Error('Unknown color channel: ' + channel);\n        }\n    }\n    getChannelFormatOptions(channel) {\n        switch(channel){\n            case 'red':\n            case 'green':\n            case 'blue':\n                return {\n                    style: 'decimal'\n                };\n            case 'alpha':\n                return {\n                    style: 'percent'\n                };\n            default:\n                throw new Error('Unknown color channel: ' + channel);\n        }\n    }\n    formatChannelValue(channel, locale) {\n        let options = this.getChannelFormatOptions(channel);\n        let value = this.getChannelValue(channel);\n        return new (0, $34yyy$NumberFormatter)(locale, options).format(value);\n    }\n    getColorSpace() {\n        return 'rgb';\n    }\n    getColorChannels() {\n        return $799cddbef784668f$var$RGBColor.colorChannels;\n    }\n    constructor(red, green, blue, alpha){\n        super();\n        this.red = red;\n        this.green = green;\n        this.blue = blue;\n        this.alpha = alpha;\n    }\n}\n$799cddbef784668f$var$RGBColor.colorChannels = [\n    'red',\n    'green',\n    'blue'\n];\n// X = <negative/positive number with/without decimal places>\n// before/after a comma, 0 or more whitespaces are allowed\n// - hsb(X, X%, X%)\n// - hsba(X, X%, X%, X)\nconst $799cddbef784668f$var$HSB_REGEX = /hsb\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%)\\)|hsba\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d(.\\d+)?)\\)/;\nclass $799cddbef784668f$var$HSBColor extends $799cddbef784668f$var$Color {\n    static parse(value) {\n        let m;\n        if (m = value.match($799cddbef784668f$var$HSB_REGEX)) {\n            var _m_;\n            const [h, s, b, a] = ((_m_ = m[1]) !== null && _m_ !== void 0 ? _m_ : m[2]).split(',').map((n)=>Number(n.trim().replace('%', '')));\n            return new $799cddbef784668f$var$HSBColor($799cddbef784668f$var$mod(h, 360), (0, $34yyy$clamp)(s, 0, 100), (0, $34yyy$clamp)(b, 0, 100), (0, $34yyy$clamp)(a !== null && a !== void 0 ? a : 1, 0, 1));\n        }\n    }\n    toString(format = 'css') {\n        switch(format){\n            case 'css':\n                return this.toHSL().toString('css');\n            case 'hex':\n                return this.toRGB().toString('hex');\n            case 'hexa':\n                return this.toRGB().toString('hexa');\n            case 'hsb':\n                return `hsb(${this.hue}, ${(0, $34yyy$toFixedNumber)(this.saturation, 2)}%, ${(0, $34yyy$toFixedNumber)(this.brightness, 2)}%)`;\n            case 'hsba':\n                return `hsba(${this.hue}, ${(0, $34yyy$toFixedNumber)(this.saturation, 2)}%, ${(0, $34yyy$toFixedNumber)(this.brightness, 2)}%, ${this.alpha})`;\n            default:\n                return this.toFormat(format).toString(format);\n        }\n    }\n    toFormat(format) {\n        switch(format){\n            case 'hsb':\n            case 'hsba':\n                return this;\n            case 'hsl':\n            case 'hsla':\n                return this.toHSL();\n            case 'rgb':\n            case 'rgba':\n                return this.toRGB();\n            default:\n                throw new Error('Unsupported color conversion: hsb -> ' + format);\n        }\n    }\n    /**\n   * Converts a HSB color to HSL.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSV_to_HSL.\n   * @returns An HSLColor object.\n   */ toHSL() {\n        let saturation = this.saturation / 100;\n        let brightness = this.brightness / 100;\n        let lightness = brightness * (1 - saturation / 2);\n        saturation = lightness === 0 || lightness === 1 ? 0 : (brightness - lightness) / Math.min(lightness, 1 - lightness);\n        return new $799cddbef784668f$var$HSLColor((0, $34yyy$toFixedNumber)(this.hue, 2), (0, $34yyy$toFixedNumber)(saturation * 100, 2), (0, $34yyy$toFixedNumber)(lightness * 100, 2), this.alpha);\n    }\n    /**\n   * Converts a HSV color value to RGB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSV_to_RGB_alternative.\n   * @returns An RGBColor object.\n   */ toRGB() {\n        let hue = this.hue;\n        let saturation = this.saturation / 100;\n        let brightness = this.brightness / 100;\n        let fn = (n, k = (n + hue / 60) % 6)=>brightness - saturation * brightness * Math.max(Math.min(k, 4 - k, 1), 0);\n        return new $799cddbef784668f$var$RGBColor(Math.round(fn(5) * 255), Math.round(fn(3) * 255), Math.round(fn(1) * 255), this.alpha);\n    }\n    clone() {\n        return new $799cddbef784668f$var$HSBColor(this.hue, this.saturation, this.brightness, this.alpha);\n    }\n    getChannelRange(channel) {\n        switch(channel){\n            case 'hue':\n                return {\n                    minValue: 0,\n                    maxValue: 360,\n                    step: 1,\n                    pageSize: 15\n                };\n            case 'saturation':\n            case 'brightness':\n                return {\n                    minValue: 0,\n                    maxValue: 100,\n                    step: 1,\n                    pageSize: 10\n                };\n            case 'alpha':\n                return {\n                    minValue: 0,\n                    maxValue: 1,\n                    step: 0.01,\n                    pageSize: 0.1\n                };\n            default:\n                throw new Error('Unknown color channel: ' + channel);\n        }\n    }\n    getChannelFormatOptions(channel) {\n        switch(channel){\n            case 'hue':\n                return {\n                    style: 'unit',\n                    unit: 'degree',\n                    unitDisplay: 'narrow'\n                };\n            case 'saturation':\n            case 'brightness':\n            case 'alpha':\n                return {\n                    style: 'percent'\n                };\n            default:\n                throw new Error('Unknown color channel: ' + channel);\n        }\n    }\n    formatChannelValue(channel, locale) {\n        let options = this.getChannelFormatOptions(channel);\n        let value = this.getChannelValue(channel);\n        if (channel === 'saturation' || channel === 'brightness') value /= 100;\n        return new (0, $34yyy$NumberFormatter)(locale, options).format(value);\n    }\n    getColorSpace() {\n        return 'hsb';\n    }\n    getColorChannels() {\n        return $799cddbef784668f$var$HSBColor.colorChannels;\n    }\n    constructor(hue, saturation, brightness, alpha){\n        super();\n        this.hue = hue;\n        this.saturation = saturation;\n        this.brightness = brightness;\n        this.alpha = alpha;\n    }\n}\n$799cddbef784668f$var$HSBColor.colorChannels = [\n    'hue',\n    'saturation',\n    'brightness'\n];\n// X = <negative/positive number with/without decimal places>\n// before/after a comma, 0 or more whitespaces are allowed\n// - hsl(X, X%, X%)\n// - hsla(X, X%, X%, X)\nconst $799cddbef784668f$var$HSL_REGEX = /hsl\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%)\\)|hsla\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d(.\\d+)?)\\)/;\nfunction $799cddbef784668f$var$mod(n, m) {\n    return (n % m + m) % m;\n}\nclass $799cddbef784668f$var$HSLColor extends $799cddbef784668f$var$Color {\n    static parse(value) {\n        let m;\n        if (m = value.match($799cddbef784668f$var$HSL_REGEX)) {\n            var _m_;\n            const [h, s, l, a] = ((_m_ = m[1]) !== null && _m_ !== void 0 ? _m_ : m[2]).split(',').map((n)=>Number(n.trim().replace('%', '')));\n            return new $799cddbef784668f$var$HSLColor($799cddbef784668f$var$mod(h, 360), (0, $34yyy$clamp)(s, 0, 100), (0, $34yyy$clamp)(l, 0, 100), (0, $34yyy$clamp)(a !== null && a !== void 0 ? a : 1, 0, 1));\n        }\n    }\n    toString(format = 'css') {\n        switch(format){\n            case 'hex':\n                return this.toRGB().toString('hex');\n            case 'hexa':\n                return this.toRGB().toString('hexa');\n            case 'hsl':\n                return `hsl(${this.hue}, ${(0, $34yyy$toFixedNumber)(this.saturation, 2)}%, ${(0, $34yyy$toFixedNumber)(this.lightness, 2)}%)`;\n            case 'css':\n            case 'hsla':\n                return `hsla(${this.hue}, ${(0, $34yyy$toFixedNumber)(this.saturation, 2)}%, ${(0, $34yyy$toFixedNumber)(this.lightness, 2)}%, ${this.alpha})`;\n            default:\n                return this.toFormat(format).toString(format);\n        }\n    }\n    toFormat(format) {\n        switch(format){\n            case 'hsl':\n            case 'hsla':\n                return this;\n            case 'hsb':\n            case 'hsba':\n                return this.toHSB();\n            case 'rgb':\n            case 'rgba':\n                return this.toRGB();\n            default:\n                throw new Error('Unsupported color conversion: hsl -> ' + format);\n        }\n    }\n    /**\n   * Converts a HSL color to HSB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_HSV.\n   * @returns An HSBColor object.\n   */ toHSB() {\n        let saturation = this.saturation / 100;\n        let lightness = this.lightness / 100;\n        let brightness = lightness + saturation * Math.min(lightness, 1 - lightness);\n        saturation = brightness === 0 ? 0 : 2 * (1 - lightness / brightness);\n        return new $799cddbef784668f$var$HSBColor((0, $34yyy$toFixedNumber)(this.hue, 2), (0, $34yyy$toFixedNumber)(saturation * 100, 2), (0, $34yyy$toFixedNumber)(brightness * 100, 2), this.alpha);\n    }\n    /**\n   * Converts a HSL color to RGB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_RGB_alternative.\n   * @returns An RGBColor object.\n   */ toRGB() {\n        let hue = this.hue;\n        let saturation = this.saturation / 100;\n        let lightness = this.lightness / 100;\n        let a = saturation * Math.min(lightness, 1 - lightness);\n        let fn = (n, k = (n + hue / 30) % 12)=>lightness - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n        return new $799cddbef784668f$var$RGBColor(Math.round(fn(0) * 255), Math.round(fn(8) * 255), Math.round(fn(4) * 255), this.alpha);\n    }\n    clone() {\n        return new $799cddbef784668f$var$HSLColor(this.hue, this.saturation, this.lightness, this.alpha);\n    }\n    getChannelRange(channel) {\n        switch(channel){\n            case 'hue':\n                return {\n                    minValue: 0,\n                    maxValue: 360,\n                    step: 1,\n                    pageSize: 15\n                };\n            case 'saturation':\n            case 'lightness':\n                return {\n                    minValue: 0,\n                    maxValue: 100,\n                    step: 1,\n                    pageSize: 10\n                };\n            case 'alpha':\n                return {\n                    minValue: 0,\n                    maxValue: 1,\n                    step: 0.01,\n                    pageSize: 0.1\n                };\n            default:\n                throw new Error('Unknown color channel: ' + channel);\n        }\n    }\n    getChannelFormatOptions(channel) {\n        switch(channel){\n            case 'hue':\n                return {\n                    style: 'unit',\n                    unit: 'degree',\n                    unitDisplay: 'narrow'\n                };\n            case 'saturation':\n            case 'lightness':\n            case 'alpha':\n                return {\n                    style: 'percent'\n                };\n            default:\n                throw new Error('Unknown color channel: ' + channel);\n        }\n    }\n    formatChannelValue(channel, locale) {\n        let options = this.getChannelFormatOptions(channel);\n        let value = this.getChannelValue(channel);\n        if (channel === 'saturation' || channel === 'lightness') value /= 100;\n        return new (0, $34yyy$NumberFormatter)(locale, options).format(value);\n    }\n    getColorSpace() {\n        return 'hsl';\n    }\n    getColorChannels() {\n        return $799cddbef784668f$var$HSLColor.colorChannels;\n    }\n    constructor(hue, saturation, lightness, alpha){\n        super();\n        this.hue = hue;\n        this.saturation = saturation;\n        this.lightness = lightness;\n        this.alpha = alpha;\n    }\n}\n$799cddbef784668f$var$HSLColor.colorChannels = [\n    'hue',\n    'saturation',\n    'lightness'\n];\n// https://www.w3.org/TR/css-color-4/#color-conversion-code\nfunction $799cddbef784668f$var$toOKLCH(color) {\n    let rgb = color.toFormat('rgb');\n    let red = rgb.getChannelValue('red') / 255;\n    let green = rgb.getChannelValue('green') / 255;\n    let blue = rgb.getChannelValue('blue') / 255;\n    [red, green, blue] = $799cddbef784668f$var$lin_sRGB(red, green, blue);\n    let [x, y, z] = $799cddbef784668f$var$lin_sRGB_to_XYZ(red, green, blue);\n    let [l, a, b] = $799cddbef784668f$var$XYZ_to_OKLab(x, y, z);\n    return $799cddbef784668f$var$OKLab_to_OKLCH(l, a, b);\n}\nfunction $799cddbef784668f$var$OKLab_to_OKLCH(l, a, b) {\n    var hue = Math.atan2(b, a) * 180 / Math.PI;\n    return [\n        l,\n        Math.sqrt(a ** 2 + b ** 2),\n        hue >= 0 ? hue : hue + 360 // Hue, in degrees [0 to 360)\n    ];\n}\nfunction $799cddbef784668f$var$lin_sRGB(r, g, b) {\n    // convert an array of sRGB values\n    // where in-gamut values are in the range [0 - 1]\n    // to linear light (un-companded) form.\n    // https://en.wikipedia.org/wiki/SRGB\n    // Extended transfer function:\n    // for negative values,  linear portion is extended on reflection of axis,\n    // then reflected power function is used.\n    return [\n        $799cddbef784668f$var$lin_sRGB_component(r),\n        $799cddbef784668f$var$lin_sRGB_component(g),\n        $799cddbef784668f$var$lin_sRGB_component(b)\n    ];\n}\nfunction $799cddbef784668f$var$lin_sRGB_component(val) {\n    let sign = val < 0 ? -1 : 1;\n    let abs = Math.abs(val);\n    if (abs <= 0.04045) return val / 12.92;\n    return sign * Math.pow((abs + 0.055) / 1.055, 2.4);\n}\nfunction $799cddbef784668f$var$lin_sRGB_to_XYZ(r, g, b) {\n    // convert an array of linear-light sRGB values to CIE XYZ\n    // using sRGB's own white, D65 (no chromatic adaptation)\n    const M = [\n        506752 / 1228815,\n        87881 / 245763,\n        12673 / 70218,\n        87098 / 409605,\n        175762 / 245763,\n        12673 / 175545,\n        7918 / 409605,\n        87881 / 737289,\n        1001167 / 1053270\n    ];\n    return $799cddbef784668f$var$multiplyMatrix(M, r, g, b);\n}\nfunction $799cddbef784668f$var$XYZ_to_OKLab(x, y, z) {\n    // Given XYZ relative to D65, convert to OKLab\n    const XYZtoLMS = [\n        0.8190224379967030,\n        0.3619062600528904,\n        -0.1288737815209879,\n        0.0329836539323885,\n        0.9292868615863434,\n        0.0361446663506424,\n        0.0481771893596242,\n        0.2642395317527308,\n        0.6335478284694309\n    ];\n    const LMStoOKLab = [\n        0.2104542683093140,\n        0.7936177747023054,\n        -0.0040720430116193,\n        1.9779985324311684,\n        -2.42859224204858,\n        0.4505937096174110,\n        0.0259040424655478,\n        0.7827717124575296,\n        -0.8086757549230774\n    ];\n    let [a, b, c] = $799cddbef784668f$var$multiplyMatrix(XYZtoLMS, x, y, z);\n    return $799cddbef784668f$var$multiplyMatrix(LMStoOKLab, Math.cbrt(a), Math.cbrt(b), Math.cbrt(c));\n}\nfunction $799cddbef784668f$var$multiplyMatrix(m, x, y, z) {\n    let a = m[0] * x + m[1] * y + m[2] * z;\n    let b = m[3] * x + m[4] * y + m[5] * z;\n    let c = m[6] * x + m[7] * y + m[8] * z;\n    return [\n        a,\n        b,\n        c\n    ];\n}\n\n\nexport {$799cddbef784668f$export$6e865ea70d7724f as parseColor, $799cddbef784668f$export$4cde5df63f53f473 as normalizeColor, $799cddbef784668f$export$1c0c08912582810c as getColorChannels};\n//# sourceMappingURL=Color.module.js.map\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {ButtonBase} from '../buttons/button-base';\r\n\r\ntype Props = {\r\n  onChange?: (e: string) => void;\r\n  value?: string;\r\n  colors: string[];\r\n};\r\nexport function ColorSwatch({onChange, value, colors}: Props) {\r\n  const presetButtons = colors.map(color => {\r\n    const isSelected = value === color;\r\n    return (\r\n      <ButtonBase\r\n        key={color}\r\n        onClick={() => {\r\n          onChange?.(color);\r\n        }}\r\n        className={clsx(\r\n          'relative block flex-shrink-0 w-26 h-26 border rounded',\r\n          isSelected && 'shadow-md'\r\n        )}\r\n        style={{backgroundColor: color}}\r\n      >\r\n        {isSelected && (\r\n          <span className=\"absolute inset-0 m-auto rounded-full w-8 h-8 bg-white\" />\r\n        )}\r\n      </ButtonBase>\r\n    );\r\n  });\r\n\r\n  return <div className=\"flex flex-wrap gap-6\">{presetButtons}</div>;\r\n}\r\n","import {message} from '@common/i18n/message';\r\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\r\n\r\nexport const ColorPresets: {\r\n  color: string;\r\n  name: MessageDescriptor;\r\n  foreground?: string;\r\n}[] = [\r\n  {\r\n    color: 'rgb(255, 255, 255)',\r\n    name: message('White'),\r\n  },\r\n  {\r\n    color: 'rgb(239,245,245)',\r\n    name: message('Solitude'),\r\n  },\r\n  {\r\n    color: 'rgb(245,213,174)',\r\n    name: message('Wheat'),\r\n  },\r\n  {\r\n    color: 'rgb(253,227,167)',\r\n    name: message('Cape Honey'),\r\n  },\r\n  {\r\n    color: 'rgb(242,222,186)',\r\n    name: message('Milk punch'),\r\n  },\r\n  {\r\n    color: 'rgb(97,118,75)',\r\n    name: message('Dingy'),\r\n    foreground: 'rgb(255, 255, 255)',\r\n  },\r\n  {\r\n    color: 'rgb(4, 147, 114)',\r\n    name: message('Aquamarine'),\r\n    foreground: 'rgb(255, 255, 255)',\r\n  },\r\n  {\r\n    color: 'rgb(222,245,229)',\r\n    name: message('Cosmic Latte'),\r\n  },\r\n  {\r\n    color: 'rgb(233,119,119)',\r\n    name: message('Geraldine'),\r\n    foreground: 'rgb(90,14,14)',\r\n  },\r\n  {\r\n    color: 'rgb(247,164,164)',\r\n    name: message('Sundown'),\r\n  },\r\n  {\r\n    color: 'rgb(30,139,195)',\r\n    name: message('Pelorous'),\r\n    foreground: 'rgb(255, 255, 255)',\r\n  },\r\n  {\r\n    color: 'rgb(142,68,173)',\r\n    name: message('Deep Lilac'),\r\n    foreground: 'rgb(255, 255, 255)',\r\n  },\r\n  {\r\n    color: 'rgb(108,74,182)',\r\n    name: message('Blue marguerite'),\r\n    foreground: 'rgb(255, 255, 255)',\r\n  },\r\n  {\r\n    color: 'rgb(139,126,116)',\r\n    name: message('Americano'),\r\n    foreground: 'rgb(255, 255, 255)',\r\n  },\r\n  {\r\n    color: 'rgb(0,0,0)',\r\n    name: message('Black'),\r\n    foreground: 'rgb(255, 255, 255)',\r\n  },\r\n  {\r\n    color: 'rgb(64,66,88)',\r\n    name: message('Blue zodiac'),\r\n    foreground: 'rgb(255, 255, 255)',\r\n  },\r\n  {\r\n    color: 'rgb(101,100,124)',\r\n    name: message('Comet'),\r\n    foreground: 'rgb(255, 255, 255)',\r\n  },\r\n];\r\n","import {HexColorInput, HexColorPicker} from 'react-colorful';\r\nimport React, {useState} from 'react';\r\nimport {parseColor} from '@react-stately/color';\r\nimport {ColorSwatch} from './color-swatch';\r\nimport {getInputFieldClassNames} from '../forms/input-field/get-input-field-class-names';\r\nimport {ColorPresets} from '@common/ui/color-picker/color-presets';\r\n\r\nconst DefaultPresets = ColorPresets.map(({color}) => color).slice(0, 14);\r\n\r\ntype Props = {\r\n  defaultValue?: string;\r\n  onChange?: (e: string) => void;\r\n  colorPresets?: string[];\r\n  showInput?: boolean;\r\n};\r\nexport function ColorPicker({\r\n  defaultValue,\r\n  onChange,\r\n  colorPresets,\r\n  showInput,\r\n}: Props) {\r\n  const [color, setColor] = useState<string | undefined>(defaultValue);\r\n\r\n  const presets: string[] = colorPresets || DefaultPresets;\r\n\r\n  const style = getInputFieldClassNames({size: 'sm'});\r\n\r\n  return (\r\n    <div>\r\n      <HexColorPicker\r\n        className=\"!w-auto\"\r\n        color={color}\r\n        onChange={newColor => {\r\n          onChange?.(newColor);\r\n          setColor(newColor);\r\n        }}\r\n      />\r\n      <div className=\"py-20 px-12\">\r\n        {presets && (\r\n          <ColorSwatch\r\n            colors={presets}\r\n            onChange={newColor => {\r\n              if (newColor) {\r\n                const hex = parseColor(newColor).toString('hex');\r\n                onChange?.(hex);\r\n                setColor(hex);\r\n              }\r\n            }}\r\n            value={color}\r\n          />\r\n        )}\r\n        {showInput && (\r\n          <div className=\"pt-20\">\r\n            <HexColorInput\r\n              autoComplete=\"off\"\r\n              role=\"textbox\"\r\n              autoCorrect=\"off\"\r\n              spellCheck=\"false\"\r\n              required\r\n              aria-label=\"Hex color\"\r\n              prefixed\r\n              className={style.input}\r\n              color={color}\r\n              onChange={newColor => {\r\n                onChange?.(newColor);\r\n                setColor(newColor);\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {ColorPicker} from './color-picker';\r\nimport {DialogFooter} from '../overlays/dialog/dialog-footer';\r\nimport {Button} from '../buttons/button';\r\nimport {useDialogContext} from '../overlays/dialog/dialog-context';\r\nimport {Dialog} from '../overlays/dialog/dialog';\r\nimport {Trans} from '../../i18n/trans';\r\n\r\ninterface ColorPickerDialogProps {\r\n  hideFooter?: boolean;\r\n  showInput?: boolean;\r\n}\r\nexport function ColorPickerDialog({\r\n  hideFooter = false,\r\n  showInput = true,\r\n}: ColorPickerDialogProps) {\r\n  const {close, value, setValue, initialValue} = useDialogContext<\r\n    string | null\r\n  >();\r\n  // todo: remove this once pixie and bedrive are refactored to use dialogTrigger currentValue (use \"currentValue\" for defaultValue as well)\r\n  //const initialValue = useRef(defaultValue);\r\n\r\n  return (\r\n    <Dialog size=\"2xs\">\r\n      <ColorPicker\r\n        showInput={showInput}\r\n        defaultValue={initialValue ? initialValue : ''}\r\n        onChange={newValue => setValue(newValue)}\r\n      />\r\n      {!hideFooter && (\r\n        <DialogFooter dividerTop>\r\n          <Button variant=\"text\" size=\"xs\" onClick={() => close()}>\r\n            <Trans message=\"Cancel\" />\r\n          </Button>\r\n          <Button\r\n            variant=\"flat\"\r\n            color=\"primary\"\r\n            size=\"xs\"\r\n            onClick={() => close(value)}\r\n          >\r\n            <Trans message=\"Apply\" />\r\n          </Button>\r\n        </DialogFooter>\r\n      )}\r\n    </Dialog>\r\n  );\r\n}\r\n","import {LandingPageContent} from '@app/landing/landing-page-content';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport {\r\n  appearanceState,\r\n  AppearanceValues,\r\n  useAppearanceStore,\r\n} from '@common/admin/appearance/appearance-store';\r\nimport {Fragment, ReactNode} from 'react';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {FormSlider} from '@common/ui/forms/slider/slider';\r\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\r\nimport {AppearanceButton} from '@common/admin/appearance/appearance-button';\r\nimport {ColorIcon} from '@common/admin/appearance/sections/themes/color-icon';\r\nimport {ColorPickerDialog} from '@common/ui/color-picker/color-picker-dialog';\r\nimport {Link} from 'react-router-dom';\r\nimport {FormImageSelector} from '@common/ui/images/image-selector';\r\n\r\nexport function LandingPageSectionGeneral() {\r\n  return (\r\n    <Fragment>\r\n      <HeaderSection />\r\n      <div className=\"my-24 border-y py-24\">\r\n        <AppearanceButton\r\n          to=\"action-buttons\"\r\n          elementType={Link}\r\n          className=\"mb-20\"\r\n        >\r\n          <Trans message=\"Action buttons\" />\r\n        </AppearanceButton>\r\n        <AppearanceButton to=\"primary-features\" elementType={Link}>\r\n          <Trans message=\"Primary features\" />\r\n        </AppearanceButton>\r\n        <AppearanceButton to=\"secondary-features\" elementType={Link}>\r\n          <Trans message=\"Secondary features\" />\r\n        </AppearanceButton>\r\n      </div>\r\n      <FooterSection />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction HeaderSection() {\r\n  const defaultImage = useAppearanceStore(\r\n    s =>\r\n      (s.defaults?.settings.homepage.appearance as LandingPageContent)\r\n        ?.headerImage,\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <FormTextField\r\n        label={<Trans message=\"Header title\" />}\r\n        className=\"mb-20\"\r\n        name=\"settings.homepage.appearance.headerTitle\"\r\n        onFocus={() => {\r\n          appearanceState().preview.setHighlight('[data-testid=\"headerTitle\"]');\r\n        }}\r\n      />\r\n      <FormTextField\r\n        label={<Trans message=\"Header subtitle\" />}\r\n        className=\"mb-30\"\r\n        inputElementType=\"textarea\"\r\n        rows={4}\r\n        name=\"settings.homepage.appearance.headerSubtitle\"\r\n        onFocus={() => {\r\n          appearanceState().preview.setHighlight(\r\n            '[data-testid=\"headerSubtitle\"]',\r\n          );\r\n        }}\r\n      />\r\n      <FormImageSelector\r\n        name=\"settings.homepage.appearance.headerImage\"\r\n        className=\"mb-30\"\r\n        label={<Trans message=\"Header image\" />}\r\n        defaultValue={defaultImage}\r\n        diskPrefix=\"homepage\"\r\n      />\r\n      <FormSlider\r\n        name=\"settings.homepage.appearance.headerImageOpacity\"\r\n        label={<Trans message=\"Header image opacity\" />}\r\n        minValue={0}\r\n        step={0.1}\r\n        maxValue={1}\r\n        formatOptions={{style: 'percent'}}\r\n      />\r\n      <div className=\"mb-20 text-xs text-muted\">\r\n        <Trans message=\"In order for overlay colors to appear, header image opacity will need to be less then 100%\" />\r\n      </div>\r\n      <ColorPickerTrigger\r\n        formKey=\"settings.homepage.appearance.headerOverlayColor1\"\r\n        label={<Trans message=\"Header overlay color 1\" />}\r\n      />\r\n      <ColorPickerTrigger\r\n        formKey=\"settings.homepage.appearance.headerOverlayColor2\"\r\n        label={<Trans message=\"Header overlay color 2\" />}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction FooterSection() {\r\n  const defaultImage = useAppearanceStore(\r\n    s =>\r\n      (s.defaults?.settings.homepage.appearance as LandingPageContent)\r\n        ?.footerImage,\r\n  );\r\n  return (\r\n    <Fragment>\r\n      <FormTextField\r\n        label={<Trans message=\"Footer title\" />}\r\n        className=\"mb-20\"\r\n        name=\"settings.homepage.appearance.footerTitle\"\r\n        onFocus={() => {\r\n          appearanceState().preview.setHighlight('[data-testid=\"footerTitle\"]');\r\n        }}\r\n      />\r\n      <FormTextField\r\n        label={<Trans message=\"Footer subtitle\" />}\r\n        className=\"mb-20\"\r\n        name=\"settings.homepage.appearance.footerSubtitle\"\r\n        onFocus={() => {\r\n          appearanceState().preview.setHighlight(\r\n            '[data-testid=\"footerSubtitle\"]',\r\n          );\r\n        }}\r\n      />\r\n      <FormImageSelector\r\n        name=\"settings.homepage.appearance.footerImage\"\r\n        className=\"mb-30\"\r\n        label={<Trans message=\"Footer background image\" />}\r\n        defaultValue={defaultImage}\r\n        diskPrefix=\"homepage\"\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface ColorPickerTriggerProps {\r\n  formKey: string;\r\n  label: ReactNode;\r\n}\r\nfunction ColorPickerTrigger({label, formKey}: ColorPickerTriggerProps) {\r\n  const key = formKey as 'settings.homepage.appearance.headerOverlayColor1';\r\n  const {watch, setValue} = useFormContext<AppearanceValues>();\r\n\r\n  const formValue = watch(key);\r\n\r\n  const setColor = (value: string | null) => {\r\n    setValue(formKey as any, value, {\r\n      shouldDirty: true,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <DialogTrigger\r\n      type=\"popover\"\r\n      value={formValue}\r\n      alwaysReturnCurrentValueOnClose\r\n      onValueChange={newValue => setColor(newValue)}\r\n      onClose={value => setColor(value)}\r\n    >\r\n      <AppearanceButton\r\n        className=\"capitalize\"\r\n        startIcon={\r\n          <ColorIcon\r\n            viewBox=\"0 0 48 48\"\r\n            className=\"icon-lg\"\r\n            style={{fill: formValue}}\r\n          />\r\n        }\r\n      >\r\n        {label}\r\n      </AppearanceButton>\r\n      <ColorPickerDialog />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n","export function ucFirst<T extends string>(string: T): T {\r\n  if (!string) return string;\r\n  return (string.charAt(0).toUpperCase() + string.slice(1)) as T;\r\n}\r\n","import {useControlledState} from '@react-stately/utils';\r\nimport React, {Fragment, useState} from 'react';\r\nimport {useController} from 'react-hook-form';\r\nimport {mergeProps} from '@react-aria/utils';\r\nimport clsx from 'clsx';\r\nimport {produce} from 'immer';\r\nimport {Permission, PermissionRestriction} from '../permission';\r\nimport {useValueLists} from '../../http/value-lists';\r\nimport {ucFirst} from '../../utils/string/uc-first';\r\nimport {Accordion, AccordionItem} from '../../ui/accordion/accordion';\r\nimport {List, ListItem} from '../../ui/list/list';\r\nimport {Switch} from '../../ui/forms/toggle/switch';\r\nimport {TextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport {DoneAllIcon} from '../../icons/material/DoneAll';\r\nimport {Trans} from '../../i18n/trans';\r\n\r\ninterface PermissionSelectorProps {\r\n  value?: Permission[];\r\n  onChange?: (value: Permission[]) => void;\r\n  valueListKey?: 'permissions' | 'workspacePermissions';\r\n}\r\nexport const PermissionSelector = React.forwardRef<\r\n  HTMLDivElement,\r\n  PermissionSelectorProps\r\n>(({valueListKey = 'permissions', ...props}, ref) => {\r\n  const {data} = useValueLists([valueListKey]);\r\n  const permissions = data?.permissions || data?.workspacePermissions;\r\n\r\n  const [value, setValue] = useControlledState(props.value, [], props.onChange);\r\n  const [showAdvanced, setShowAdvanced] = useState(false);\r\n\r\n  if (!permissions) return null;\r\n\r\n  const groupedPermissions = buildPermissionList(\r\n    permissions,\r\n    value,\r\n    showAdvanced\r\n  );\r\n\r\n  const onRestrictionChange = (newPermission: Permission) => {\r\n    const newValue = [...value];\r\n    const index = newValue.findIndex(p => p.id === newPermission.id);\r\n    if (index > -1) {\r\n      newValue.splice(index, 1, newPermission);\r\n    }\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Accordion variant=\"outline\" ref={ref}>\r\n        {groupedPermissions.map(({groupName, items, anyChecked}) => (\r\n          <AccordionItem\r\n            label={<Trans message={prettyName(groupName)} />}\r\n            key={groupName}\r\n            startIcon={anyChecked ? <DoneAllIcon size=\"sm\" /> : undefined}\r\n          >\r\n            <List>\r\n              {items.map(permission => {\r\n                const index = value.findIndex(v => v.id === permission.id);\r\n                const isChecked = index > -1;\r\n\r\n                return (\r\n                  <div key={permission.id}>\r\n                    <ListItem\r\n                      onSelected={() => {\r\n                        if (isChecked) {\r\n                          const newValue = [...value];\r\n                          newValue.splice(index, 1);\r\n                          setValue(newValue);\r\n                        } else {\r\n                          setValue([...value, permission]);\r\n                        }\r\n                      }}\r\n                      endSection={\r\n                        <Switch\r\n                          tabIndex={-1}\r\n                          checked={isChecked}\r\n                          onChange={() => {}}\r\n                        />\r\n                      }\r\n                      description={<Trans message={permission.description} />}\r\n                    >\r\n                      <Trans\r\n                        message={permission.display_name || permission.name}\r\n                      />\r\n                    </ListItem>\r\n                    {isChecked && (\r\n                      <Restrictions\r\n                        permission={permission}\r\n                        onChange={onRestrictionChange}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </List>\r\n          </AccordionItem>\r\n        ))}\r\n      </Accordion>\r\n      <Switch\r\n        className=\"mt-30\"\r\n        checked={showAdvanced}\r\n        onChange={e => {\r\n          setShowAdvanced(e.target.checked);\r\n        }}\r\n      >\r\n        <Trans message=\"Show advanced permissions\" />\r\n      </Switch>\r\n    </Fragment>\r\n  );\r\n});\r\n\r\ninterface RestrictionsProps {\r\n  permission: Permission;\r\n  onChange?: (newPermission: Permission) => void;\r\n}\r\nfunction Restrictions({permission, onChange}: RestrictionsProps) {\r\n  if (!permission?.restrictions?.length) return null;\r\n\r\n  const setRestrictionValue = (\r\n    name: string,\r\n    value: PermissionRestriction['value']\r\n  ) => {\r\n    const nextState = produce(permission, draftState => {\r\n      const restriction = draftState.restrictions.find(r => r.name === name);\r\n      if (restriction) {\r\n        restriction.value = value;\r\n      }\r\n    });\r\n    onChange?.(nextState);\r\n  };\r\n\r\n  return (\r\n    <div className=\"px-40 py-20\">\r\n      {permission.restrictions.map((restriction, index) => {\r\n        const isLast = index === permission.restrictions.length - 1;\r\n\r\n        const name = <Trans message={prettyName(restriction.name)} />;\r\n        const description = restriction.description ? (\r\n          <Trans message={restriction.description} />\r\n        ) : undefined;\r\n\r\n        if (restriction.type === 'bool') {\r\n          return (\r\n            <Switch\r\n              description={description}\r\n              key={restriction.name}\r\n              className={clsx(!isLast && 'mb-30')}\r\n              checked={Boolean(restriction.value)}\r\n              onChange={e => {\r\n                setRestrictionValue(restriction.name, e.target.checked);\r\n              }}\r\n            >\r\n              {name}\r\n            </Switch>\r\n          );\r\n        }\r\n\r\n        return (\r\n          <TextField\r\n            size=\"sm\"\r\n            label={name}\r\n            description={description}\r\n            type=\"number\"\r\n            key={restriction.name}\r\n            className={clsx(!isLast && 'mb-30')}\r\n            value={(restriction.value as string) || ''}\r\n            onChange={e => {\r\n              setRestrictionValue(\r\n                restriction.name,\r\n                e.target.value === '' ? undefined : parseInt(e.target.value)\r\n              );\r\n            }}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport type FormChipFieldProps = PermissionSelectorProps & {\r\n  name: string;\r\n};\r\nexport function FormPermissionSelector(props: FormChipFieldProps) {\r\n  const {\r\n    field: {onChange, value = [], ref},\r\n  } = useController({\r\n    name: props.name,\r\n  });\r\n\r\n  const formProps: Partial<PermissionSelectorProps> = {\r\n    onChange,\r\n    value,\r\n  };\r\n\r\n  return <PermissionSelector ref={ref} {...mergeProps(formProps, props)} />;\r\n}\r\n\r\nexport const prettyName = (name: string) => {\r\n  return ucFirst(name.replace('_', ' '));\r\n};\r\n\r\ninterface PermissionGroup {\r\n  groupName: string;\r\n  anyChecked: boolean;\r\n  items: Permission[];\r\n}\r\n\r\n// merge \"restrictions\" from selected value into all permissions to make\r\n// it easier to bind restriction values to form inputs\r\nexport function buildPermissionList(\r\n  allPermissions: Permission[],\r\n  selectedPermissions: Permission[],\r\n  showAdvanced: boolean\r\n) {\r\n  const groupedPermissions: PermissionGroup[] = [];\r\n\r\n  allPermissions.forEach(permission => {\r\n    const index = selectedPermissions.findIndex(p => p.id === permission.id);\r\n    if (!showAdvanced && permission.advanced) return;\r\n\r\n    let group: PermissionGroup | undefined = groupedPermissions.find(\r\n      g => g.groupName === permission.group\r\n    );\r\n    if (!group) {\r\n      group = {groupName: permission.group, anyChecked: false, items: []};\r\n      groupedPermissions.push(group);\r\n    }\r\n\r\n    if (index > -1) {\r\n      const mergedPermission = {\r\n        ...permission,\r\n        restrictions: mergeRestrictions(\r\n          permission.restrictions,\r\n          selectedPermissions[index].restrictions\r\n        ),\r\n      };\r\n      group.anyChecked = true;\r\n      group.items.push(mergedPermission);\r\n    } else {\r\n      group.items.push(permission);\r\n    }\r\n  });\r\n\r\n  return groupedPermissions;\r\n}\r\n\r\nfunction mergeRestrictions(\r\n  allRestrictions: PermissionRestriction[],\r\n  selectedRestrictions: PermissionRestriction[]\r\n): PermissionRestriction[] {\r\n  return allRestrictions?.map(restriction => {\r\n    const selected = selectedRestrictions.find(\r\n      r => r.name === restriction.name\r\n    );\r\n    if (selected) {\r\n      return {...restriction, value: selected.value};\r\n    } else {\r\n      return restriction;\r\n    }\r\n  });\r\n}\r\n","import {MenuSectionConfig} from '../../../types/appearance-editor-config';\r\nimport {MenuItemConfig} from '../../../../../core/settings/settings';\r\nimport mergedAppearanceConfig from '../../../config/merged-appearance-config';\r\n\r\nexport function useAvailableRoutes(): Partial<MenuItemConfig>[] {\r\n  const menuConfig = mergedAppearanceConfig.sections.menus.config;\r\n\r\n  if (!menuConfig) return [];\r\n\r\n  return (menuConfig as MenuSectionConfig).availableRoutes.map(route => {\r\n    return {\r\n      id: route,\r\n      label: route,\r\n      action: route,\r\n      type: 'route',\r\n      target: '_self',\r\n    };\r\n  });\r\n}\r\n","export const iconGridStyle = {\r\n  grid: 'flex flex-wrap gap-24',\r\n  button:\r\n    'flex flex-col items-center rounded hover:bg-hover h-90 aspect-square',\r\n};\r\n","import React, {Suspense} from 'react';\r\nimport {IconTree} from '../../icons/create-svg-icon';\r\nimport {iconGridStyle} from './icon-grid-style';\r\nimport {TextField} from '../forms/input-field/text-field/text-field';\r\nimport {Skeleton} from '../skeleton/skeleton';\r\nimport {useTrans} from '../../i18n/use-trans';\r\nimport {AnimatePresence, m} from 'framer-motion';\r\nimport {opacityAnimation} from '../animation/opacity-animation';\r\n\r\nconst skeletons = [...Array(60).keys()];\r\n\r\nconst IconList = React.lazy(() => import('./icon-list'));\r\n\r\ninterface IconListProps {\r\n  onIconSelected: (icon: IconTree[] | null) => void;\r\n}\r\nexport default function IconPicker({onIconSelected}: IconListProps) {\r\n  const {trans} = useTrans();\r\n  const [value, setValue] = React.useState('');\r\n\r\n  return (\r\n    <div className=\"py-4\">\r\n      <TextField\r\n        className=\"mb-20\"\r\n        value={value}\r\n        onChange={e => {\r\n          setValue(e.target.value);\r\n        }}\r\n        placeholder={trans({message: 'Search icons...'})}\r\n      />\r\n      <AnimatePresence mode=\"wait\">\r\n        <Suspense\r\n          fallback={\r\n            <m.div {...opacityAnimation} className={iconGridStyle.grid}>\r\n              {skeletons.map((_, index) => (\r\n                <div className={iconGridStyle.button} key={index}>\r\n                  <Skeleton variant=\"rect\" />\r\n                </div>\r\n              ))}\r\n            </m.div>\r\n          }\r\n        >\r\n          <m.div {...opacityAnimation} className={iconGridStyle.grid}>\r\n            <IconList searchQuery={value} onIconSelected={onIconSelected} />\r\n          </m.div>\r\n        </Suspense>\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport IconPicker from './icon-picker';\r\nimport {useDialogContext} from '../overlays/dialog/dialog-context';\r\nimport {Dialog} from '../overlays/dialog/dialog';\r\nimport {DialogHeader} from '../overlays/dialog/dialog-header';\r\nimport {DialogBody} from '../overlays/dialog/dialog-body';\r\nimport {Trans} from '../../i18n/trans';\r\n\r\nexport function IconPickerDialog() {\r\n  return (\r\n    <Dialog size=\"w-850\" className=\"min-h-dialog\">\r\n      <DialogHeader>\r\n        <Trans message=\"Select icon\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <IconPickerWrapper />\r\n      </DialogBody>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction IconPickerWrapper() {\r\n  const {close} = useDialogContext();\r\n  return (\r\n    <IconPicker\r\n      onIconSelected={value => {\r\n        close(value);\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import {useEffect, useRef} from 'react';\r\n\r\nexport function usePrevious<T>(value: T) {\r\n  const ref = useRef<T>();\r\n  // Store current value in ref\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  }, [value]); // Only re-run if value changes\r\n  // Return previous value (happens before update in useEffect above)\r\n  return ref.current;\r\n}\r\n","import {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {useValueLists} from '../../http/value-lists';\r\nimport {useTrans} from '../../i18n/use-trans';\r\nimport {FormChipField} from '../../ui/forms/input-field/chip-field/form-chip-field';\r\nimport {Item} from '../../ui/forms/listbox/item';\r\nimport {Fragment, useEffect, useMemo} from 'react';\r\nimport {\r\n  buildPermissionList,\r\n  prettyName,\r\n} from '../../auth/ui/permission-selector';\r\nimport {Section} from '../../ui/forms/listbox/section';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport {MenuItemConfig} from '../../core/settings/settings';\r\nimport {FormSelect, Option} from '../../ui/forms/select/select';\r\nimport {useAvailableRoutes} from '../appearance/sections/menus/hooks/available-routes';\r\nimport {ButtonBaseProps} from '../../ui/buttons/button-base';\r\nimport {createSvgIconFromTree, IconTree} from '../../icons/create-svg-icon';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {EditIcon} from '../../icons/material/Edit';\r\nimport {IconPickerDialog} from '../../ui/icon-picker/icon-picker-dialog';\r\nimport {message} from '../../i18n/message';\r\nimport {usePrevious} from '../../utils/hooks/use-previous';\r\n\r\ninterface NameProps {\r\n  prefixName: (name: string) => string;\r\n}\r\n\r\ninterface MenuItemFormProps {\r\n  formPathPrefix?: string;\r\n  hideRoleAndPermissionFields?: boolean;\r\n}\r\nexport function MenuItemForm({\r\n  formPathPrefix,\r\n  hideRoleAndPermissionFields,\r\n}: MenuItemFormProps) {\r\n  const {trans} = useTrans();\r\n  const prefixName = (name: string): string => {\r\n    return formPathPrefix ? `${formPathPrefix}.${name}` : name;\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <FormTextField\r\n        className=\"mb-20\"\r\n        name={prefixName('label')}\r\n        label={<Trans message=\"Label\" />}\r\n        placeholder={trans(message('No label...'))}\r\n        startAppend={<IconDialogTrigger prefixName={prefixName} />}\r\n      />\r\n      <DestinationSelector prefixName={prefixName} />\r\n      {!hideRoleAndPermissionFields && (\r\n        <Fragment>\r\n          <RoleSelector prefixName={prefixName} />\r\n          <PermissionSelector prefixName={prefixName} />\r\n        </Fragment>\r\n      )}\r\n      <TargetSelect prefixName={prefixName} />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface IconDialogTriggerProps extends ButtonBaseProps, NameProps {}\r\nfunction IconDialogTrigger({\r\n  prefixName,\r\n  ...buttonProps\r\n}: IconDialogTriggerProps) {\r\n  const {watch, setValue} = useFormContext<MenuItemConfig>();\r\n  const fieldName = prefixName('icon') as 'icon';\r\n  const watchedItemIcon = watch(fieldName);\r\n  const Icon = watchedItemIcon && createSvgIconFromTree(watchedItemIcon);\r\n  return (\r\n    <DialogTrigger\r\n      type=\"modal\"\r\n      onClose={(iconTree?: IconTree[] | null) => {\r\n        // null will be set explicitly if icon is cleared via icon picker\r\n        if (iconTree || iconTree === null) {\r\n          setValue(fieldName, iconTree, {\r\n            shouldDirty: true,\r\n          });\r\n        }\r\n      }}\r\n    >\r\n      <IconButton\r\n        className=\"text-muted icon-sm\"\r\n        variant=\"outline\"\r\n        size=\"md\"\r\n        {...buttonProps}\r\n      >\r\n        {Icon ? <Icon /> : <EditIcon />}\r\n      </IconButton>\r\n      <IconPickerDialog />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n\r\nfunction DestinationSelector({prefixName}: NameProps) {\r\n  const form = useFormContext<MenuItemConfig>();\r\n  const currentType = form.watch(prefixName('type') as 'type');\r\n  const previousType = usePrevious(currentType);\r\n  const {data} = useValueLists(['menuItemCategories']);\r\n  const categories = data?.menuItemCategories || [];\r\n  const selectedCategory = categories.find(c => c.type === currentType);\r\n  const {trans} = useTrans();\r\n  const routeItems = useAvailableRoutes();\r\n\r\n  // clear \"action\" field when \"type\" field changes\r\n  useEffect(() => {\r\n    if (previousType && previousType !== currentType) {\r\n      form.setValue(prefixName('action') as 'action', '');\r\n    }\r\n  }, [currentType, previousType, form, prefixName]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <FormSelect\r\n        className=\"mb-20\"\r\n        name={prefixName('type')}\r\n        selectionMode=\"single\"\r\n        label={<Trans message=\"Type\" />}\r\n      >\r\n        <Option value=\"link\">\r\n          <Trans message=\"Custom link\" />\r\n        </Option>\r\n        <Option value=\"route\">\r\n          <Trans message=\"Site page\" />\r\n        </Option>\r\n        {categories.map(category => (\r\n          <Option key={category.type} value={category.type}>\r\n            {category.name}\r\n          </Option>\r\n        ))}\r\n      </FormSelect>\r\n      {currentType === 'link' && (\r\n        <FormTextField\r\n          className=\"mb-20\"\r\n          required\r\n          type=\"url\"\r\n          name={prefixName('action')}\r\n          placeholder={trans({message: 'Enter a url...'})}\r\n          label={<Trans message=\"Url\" />}\r\n        />\r\n      )}\r\n      {currentType === 'route' && (\r\n        <FormSelect\r\n          className=\"mb-20\"\r\n          required\r\n          items={routeItems}\r\n          name={prefixName('action')}\r\n          label={<Trans message=\"Page\" />}\r\n          searchPlaceholder={trans(message('Search pages'))}\r\n          showSearchField\r\n          selectionMode=\"single\"\r\n        >\r\n          {item => (\r\n            <Item value={item.id} key={item.id}>\r\n              {item.label}\r\n            </Item>\r\n          )}\r\n        </FormSelect>\r\n      )}\r\n      {selectedCategory && (\r\n        <FormSelect\r\n          className=\"mb-20\"\r\n          required\r\n          items={selectedCategory.items}\r\n          name={prefixName('action')}\r\n          showSearchField\r\n          searchPlaceholder={trans(message('Search...'))}\r\n          selectionMode=\"single\"\r\n          label={<Trans message={selectedCategory.name} />}\r\n        >\r\n          {item => (\r\n            <Item value={item.action}>\r\n              <Trans message={item.label} />\r\n            </Item>\r\n          )}\r\n        </FormSelect>\r\n      )}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction RoleSelector({prefixName}: NameProps) {\r\n  const {data} = useValueLists(['roles', 'permissions']);\r\n  const roles = data?.roles || [];\r\n  const {trans} = useTrans();\r\n\r\n  return (\r\n    <FormChipField\r\n      className=\"mb-20\"\r\n      placeholder={trans({message: 'Add role...'})}\r\n      label={<Trans message=\"Only show if user has role\" />}\r\n      name={prefixName('roles')}\r\n      chipSize=\"sm\"\r\n      suggestions={roles}\r\n      valueKey=\"id\"\r\n      displayWith={c => roles.find(r => r.id === c.id)?.name}\r\n    >\r\n      {role => (\r\n        <Item value={role.id} key={role.id} capitalizeFirst>\r\n          <Trans message={role.name} />\r\n        </Item>\r\n      )}\r\n    </FormChipField>\r\n  );\r\n}\r\n\r\nfunction PermissionSelector({prefixName}: NameProps) {\r\n  const {data} = useValueLists(['roles', 'permissions']);\r\n  const {trans} = useTrans();\r\n\r\n  const groupedPermissions = useMemo(() => {\r\n    return buildPermissionList(data?.permissions || [], [], false);\r\n  }, [data?.permissions]);\r\n\r\n  return (\r\n    <FormChipField\r\n      label={<Trans message=\"Only show if user has permissions\" />}\r\n      placeholder={trans({message: 'Add permission...'})}\r\n      chipSize=\"sm\"\r\n      suggestions={groupedPermissions}\r\n      name={prefixName('permissions')}\r\n      valueKey=\"name\"\r\n    >\r\n      {({groupName, items}) => (\r\n        <Section label={prettyName(groupName)} key={groupName}>\r\n          {items.map(permission => (\r\n            <Item\r\n              key={permission.name}\r\n              value={permission.name}\r\n              description={<Trans message={permission.description} />}\r\n            >\r\n              <Trans message={permission.display_name || permission.name} />\r\n            </Item>\r\n          ))}\r\n        </Section>\r\n      )}\r\n    </FormChipField>\r\n  );\r\n}\r\n\r\nfunction TargetSelect({prefixName}: NameProps) {\r\n  return (\r\n    <FormSelect\r\n      className=\"mt-20\"\r\n      selectionMode=\"single\"\r\n      name={prefixName('target')}\r\n      label={<Trans message=\"Open link in\" />}\r\n    >\r\n      <Option value=\"_self\">\r\n        <Trans message=\"Same window\" />\r\n      </Option>\r\n      <Option value=\"_blank\">\r\n        <Trans message=\"New window\" />\r\n      </Option>\r\n    </FormSelect>\r\n  );\r\n}\r\n","import {MenuItemForm} from '@common/admin/menus/menu-item-form';\r\nimport {Accordion, AccordionItem} from '@common/ui/accordion/accordion';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {appearanceState} from '@common/admin/appearance/appearance-store';\r\nimport {useState} from 'react';\r\n\r\nexport function LandingPageSectionActionButtons() {\r\n  const [expandedValues, setExpandedValues] = useState(['cta1']);\r\n  return (\r\n    <Accordion\r\n      variant=\"outline\"\r\n      expandedValues={expandedValues}\r\n      onExpandedChange={values => {\r\n        setExpandedValues(values as string[]);\r\n        if (values.length) {\r\n          appearanceState().preview.setHighlight(\r\n            `[data-testid=\"${values[0]}\"]`\r\n          );\r\n        }\r\n      }}\r\n    >\r\n      <AccordionItem value=\"cta1\" label={<Trans message=\"Header button 1\" />}>\r\n        <MenuItemForm formPathPrefix=\"settings.homepage.appearance.actions.cta1\" />\r\n      </AccordionItem>\r\n      <AccordionItem value=\"ct2\" label={<Trans message=\"Header button 2\" />}>\r\n        <MenuItemForm formPathPrefix=\"settings.homepage.appearance.actions.cta2\" />\r\n      </AccordionItem>\r\n      <AccordionItem value=\"cta3\" label={<Trans message=\"Footer button\" />}>\r\n        <MenuItemForm formPathPrefix=\"settings.homepage.appearance.actions.cta3\" />\r\n      </AccordionItem>\r\n    </Accordion>\r\n  );\r\n}\r\n","import {Accordion, AccordionItem} from '@common/ui/accordion/accordion';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {\r\n  appearanceState,\r\n  useAppearanceStore,\r\n} from '@common/admin/appearance/appearance-store';\r\nimport {useFieldArray} from 'react-hook-form';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {LandingPageContent} from '@app/landing/landing-page-content';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {AddIcon} from '@common/icons/material/Add';\r\nimport {useState} from 'react';\r\nimport {FormImageSelector} from '@common/ui/images/image-selector';\r\n\r\nexport function LandingPageSectionPrimaryFeatures() {\r\n  const {fields, remove, append} = useFieldArray({\r\n    name: 'settings.homepage.appearance.primaryFeatures',\r\n  });\r\n  const [expandedValues, setExpandedValues] = useState([0]);\r\n  return (\r\n    <div>\r\n      <Accordion\r\n        variant=\"outline\"\r\n        expandedValues={expandedValues}\r\n        onExpandedChange={values => {\r\n          setExpandedValues(values as number[]);\r\n          if (values.length) {\r\n            appearanceState().preview.setHighlight(\r\n              `[data-testid=\"primary-root-${values[0]}\"]`\r\n            );\r\n          }\r\n        }}\r\n      >\r\n        {fields.map((field, index) => {\r\n          return (\r\n            <AccordionItem\r\n              key={field.id}\r\n              value={index}\r\n              label={<Trans message={`Primary feature ${index + 1}`} />}\r\n            >\r\n              <FeatureForm index={index} />\r\n              <div className=\"text-right\">\r\n                <Button\r\n                  size=\"xs\"\r\n                  variant=\"outline\"\r\n                  color=\"danger\"\r\n                  onClick={() => {\r\n                    remove(index);\r\n                  }}\r\n                >\r\n                  <Trans message=\"Remove\" />\r\n                </Button>\r\n              </div>\r\n            </AccordionItem>\r\n          );\r\n        })}\r\n      </Accordion>\r\n      <div className=\"mt-20 text-right\">\r\n        <Button\r\n          size=\"xs\"\r\n          variant=\"outline\"\r\n          color=\"primary\"\r\n          startIcon={<AddIcon />}\r\n          onClick={() => {\r\n            append({});\r\n            setExpandedValues([fields.length]);\r\n          }}\r\n        >\r\n          <Trans message=\"Add feature\" />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface FeatureFormProps {\r\n  index: number;\r\n}\r\nfunction FeatureForm({index}: FeatureFormProps) {\r\n  const defaultImage = useAppearanceStore(\r\n    s =>\r\n      (s.defaults?.settings.homepage.appearance as LandingPageContent)\r\n        ?.primaryFeatures[index]?.image\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <FormImageSelector\r\n        name={`settings.homepage.appearance.primaryFeatures.${index}.image`}\r\n        className=\"mb-30\"\r\n        label={<Trans message=\"Image\" />}\r\n        defaultValue={defaultImage}\r\n        diskPrefix=\"homepage\"\r\n      />\r\n      <FormTextField\r\n        name={`settings.homepage.appearance.primaryFeatures.${index}.title`}\r\n        label={<Trans message=\"Title\" />}\r\n        className=\"mb-20\"\r\n        onFocus={() => {\r\n          appearanceState().preview.setHighlight(\r\n            `[data-testid=\"primary-title-${index}\"]`\r\n          );\r\n        }}\r\n      />\r\n      <FormTextField\r\n        name={`settings.homepage.appearance.primaryFeatures.${index}.subtitle`}\r\n        label={<Trans message=\"Subtitle\" />}\r\n        className=\"mb-20\"\r\n        inputElementType=\"textarea\"\r\n        rows={4}\r\n        onFocus={() => {\r\n          appearanceState().preview.setHighlight(\r\n            `[data-testid=\"primary-subtitle-${index}\"]`\r\n          );\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import {Accordion, AccordionItem} from '@common/ui/accordion/accordion';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {appearanceState} from '@common/admin/appearance/appearance-store';\r\nimport {useFieldArray} from 'react-hook-form';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {LandingPageContent} from '@app/landing/landing-page-content';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {AddIcon} from '@common/icons/material/Add';\r\nimport {useState} from 'react';\r\nimport {FormImageSelector} from '@common/ui/images/image-selector';\r\n\r\nexport function LandingPageSecondaryFeatures() {\r\n  const {fields, remove, append} = useFieldArray({\r\n    name: 'settings.homepage.appearance.secondaryFeatures',\r\n  });\r\n  const [expandedValues, setExpandedValues] = useState([0]);\r\n  return (\r\n    <div>\r\n      <Accordion\r\n        variant=\"outline\"\r\n        expandedValues={expandedValues}\r\n        onExpandedChange={values => {\r\n          setExpandedValues(values as number[]);\r\n          if (values.length) {\r\n            appearanceState().preview.setHighlight(\r\n              `[data-testid=\"secondary-root-${values[0]}\"]`\r\n            );\r\n          }\r\n        }}\r\n      >\r\n        {fields.map((field, index) => {\r\n          return (\r\n            <AccordionItem\r\n              key={field.id}\r\n              value={index}\r\n              label={<Trans message={`Secondary feature ${index + 1}`} />}\r\n            >\r\n              <FeatureForm index={index} />\r\n              <div className=\"text-right\">\r\n                <Button\r\n                  size=\"xs\"\r\n                  variant=\"outline\"\r\n                  color=\"danger\"\r\n                  onClick={() => {\r\n                    remove(index);\r\n                  }}\r\n                >\r\n                  <Trans message=\"Remove\" />\r\n                </Button>\r\n              </div>\r\n            </AccordionItem>\r\n          );\r\n        })}\r\n      </Accordion>\r\n      <div className=\"mt-20 text-right\">\r\n        <Button\r\n          size=\"xs\"\r\n          variant=\"outline\"\r\n          color=\"primary\"\r\n          startIcon={<AddIcon />}\r\n          onClick={() => {\r\n            append({});\r\n            setExpandedValues([fields.length]);\r\n          }}\r\n        >\r\n          <Trans message=\"Add feature\" />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface FeatureFormProps {\r\n  index: number;\r\n}\r\nfunction FeatureForm({index}: FeatureFormProps) {\r\n  return (\r\n    <>\r\n      <FormImageSelector\r\n        name={`settings.homepage.appearance.secondaryFeatures.${index}.image`}\r\n        className=\"mb-30\"\r\n        label={<Trans message=\"Image\" />}\r\n        defaultValue={getDefaultImage(index)}\r\n        diskPrefix=\"homepage\"\r\n      />\r\n      <FormTextField\r\n        name={`settings.homepage.appearance.secondaryFeatures.${index}.title`}\r\n        label={<Trans message=\"Title\" />}\r\n        className=\"mb-20\"\r\n        onFocus={() => {\r\n          appearanceState().preview.setHighlight(\r\n            `[data-testid=\"secondary-title-${index}\"]`\r\n          );\r\n        }}\r\n      />\r\n      <FormTextField\r\n        name={`settings.homepage.appearance.secondaryFeatures.${index}.subtitle`}\r\n        label={<Trans message=\"Subtitle\" />}\r\n        className=\"mb-20\"\r\n        inputElementType=\"textarea\"\r\n        rows={4}\r\n        onFocus={() => {\r\n          appearanceState().preview.setHighlight(\r\n            `[data-testid=\"secondary-subtitle-${index}\"]`\r\n          );\r\n        }}\r\n      />\r\n      <FormTextField\r\n        name={`settings.homepage.appearance.secondaryFeatures.${index}.description`}\r\n        label={<Trans message=\"Description\" />}\r\n        className=\"mb-20\"\r\n        inputElementType=\"textarea\"\r\n        rows={4}\r\n        onFocus={() => {\r\n          appearanceState().preview.setHighlight(\r\n            `[data-testid=\"secondary-description-${index}\"]`\r\n          );\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction getDefaultImage(index: number): string | undefined {\r\n  return (\r\n    appearanceState().defaults?.settings.homepage\r\n      .appearance as LandingPageContent\r\n  ).secondaryFeatures[index]?.image;\r\n}\r\n","import {\r\n  IAppearanceConfig,\r\n  MenuSectionConfig,\r\n  SeoSettingsSectionConfig,\r\n} from '@common/admin/appearance/types/appearance-editor-config';\r\nimport {message} from '@common/i18n/message';\r\nimport {LandingPageSectionGeneral} from '@app/admin/appearance/sections/landing-page-section/landing-page-section-general';\r\nimport {LandingPageSectionActionButtons} from '@app/admin/appearance/sections/landing-page-section/landing-page-section-action-buttons';\r\nimport {LandingPageSectionPrimaryFeatures} from '@app/admin/appearance/sections/landing-page-section/landing-page-section-primary-features';\r\nimport {LandingPageSecondaryFeatures} from '@app/admin/appearance/sections/landing-page-section/landing-page-section-secondary-features';\r\nimport {AppearanceEditorBreadcrumbItem} from '@common/admin/appearance/types/appearance-editor-section';\r\n\r\nexport const AppAppearanceConfig: IAppearanceConfig = {\r\n  preview: {\r\n    defaultRoute: 'drive',\r\n    navigationRoutes: ['s', 'drive'],\r\n  },\r\n  sections: {\r\n    'landing-page': {\r\n      label: message('Landing Page'),\r\n      position: 1,\r\n      previewRoute: '/',\r\n      routes: [\r\n        {path: 'landing-page', element: <LandingPageSectionGeneral />},\r\n        {\r\n          path: 'landing-page/action-buttons',\r\n          element: <LandingPageSectionActionButtons />,\r\n        },\r\n        {\r\n          path: 'landing-page/primary-features',\r\n          element: <LandingPageSectionPrimaryFeatures />,\r\n        },\r\n        {\r\n          path: 'landing-page/secondary-features',\r\n          element: <LandingPageSecondaryFeatures />,\r\n        },\r\n      ],\r\n      buildBreadcrumb: (pathname, formValue) => {\r\n        const parts = pathname.split('/').filter(p => !!p);\r\n        const sectionName = parts.pop();\r\n        // admin/appearance\r\n        const breadcrumb: AppearanceEditorBreadcrumbItem[] = [\r\n          {\r\n            label: message('Landing page'),\r\n            location: 'landing-page',\r\n          },\r\n        ];\r\n        if (sectionName === 'action-buttons') {\r\n          breadcrumb.push({\r\n            label: message('Action buttons'),\r\n            location: 'landing-page/action-buttons',\r\n          });\r\n        }\r\n\r\n        if (sectionName === 'primary-features') {\r\n          breadcrumb.push({\r\n            label: message('Primary features'),\r\n            location: 'landing-page/primary-features',\r\n          });\r\n        }\r\n\r\n        if (sectionName === 'secondary-features') {\r\n          breadcrumb.push({\r\n            label: message('Secondary features'),\r\n            location: 'landing-page/secondary-features',\r\n          });\r\n        }\r\n\r\n        return breadcrumb;\r\n      },\r\n    },\r\n    // missing label will get added by deepMerge from default config\r\n    // @ts-ignore\r\n    menus: {\r\n      config: {\r\n        positions: [\r\n          'drive-navbar',\r\n          'drive-sidebar',\r\n          'homepage-navbar',\r\n          'shareable-link-page',\r\n          'footer',\r\n          'footer-secondary',\r\n        ],\r\n        availableRoutes: [\r\n          '/drive',\r\n          '/drive/shares',\r\n          '/drive/recent',\r\n          '/drive/starred',\r\n          '/drive/trash',\r\n        ],\r\n      } as MenuSectionConfig,\r\n    },\r\n    // @ts-ignore\r\n    'seo-settings': {\r\n      config: {\r\n        pages: [\r\n          {\r\n            key: 'landing-page',\r\n            label: message('Landing page'),\r\n          },\r\n          {\r\n            key: 'shareable-link-page',\r\n            label: message('Shareable link page'),\r\n          },\r\n        ],\r\n      } as SeoSettingsSectionConfig,\r\n    },\r\n  },\r\n};\r\n","import deepMerge from 'deepmerge';\r\nimport {DefaultAppearanceConfig} from '@common/admin/appearance/config/default-appearance-config';\r\nimport {AppAppearanceConfig} from '@app/admin/appearance/app-appearance-config';\r\nimport {IAppearanceConfig} from '@common/admin/appearance/types/appearance-editor-config';\r\n\r\nconst mergedAppearanceConfig = deepMerge.all([\r\n  DefaultAppearanceConfig,\r\n  AppAppearanceConfig,\r\n]);\r\n\r\nexport default mergedAppearanceConfig as IAppearanceConfig;\r\n","import {create} from 'zustand';\r\nimport {subscribeWithSelector} from 'zustand/middleware';\r\nimport {immer} from 'zustand/middleware/immer';\r\nimport {Settings} from '../../core/settings/settings';\r\nimport type {IAppearanceConfig} from './types/appearance-editor-config';\r\nimport {AllCommands} from './commands/commands';\r\nimport mergedAppearanceConfig from './config/merged-appearance-config';\r\nimport {BootstrapData} from '../../core/bootstrap-data/bootstrap-data';\r\nimport {FontConfig} from '@common/http/value-lists';\r\n\r\nexport interface AppearanceValues {\r\n  appearance: {\r\n    env: {app_name: string; app_url: string};\r\n    seo: {\r\n      key: string;\r\n      name: string;\r\n      value: string;\r\n      defaultValue: string;\r\n    }[];\r\n    themes: BootstrapData['themes'];\r\n    custom_code: {\r\n      css?: string;\r\n      html?: string;\r\n    };\r\n  };\r\n  settings: Settings;\r\n}\r\n\r\nexport interface AppearanceDefaults {\r\n  appearance: {\r\n    themes: {\r\n      light: Record<string, string>;\r\n      dark: Record<string, string>;\r\n    };\r\n  };\r\n  settings: Settings;\r\n}\r\n\r\ninterface AppearanceStore {\r\n  defaults: AppearanceDefaults | null;\r\n  iframeWindow: Window | null;\r\n  config: IAppearanceConfig | null;\r\n  setDefaults: (value: AppearanceDefaults) => void;\r\n  setIframeWindow: (value: Window) => void;\r\n  preview: {\r\n    navigate: (sectionName: string) => void;\r\n    setValues: (settings: AppearanceValues) => void;\r\n    setThemeFont: (font: FontConfig | null) => void;\r\n    setThemeValue: (name: string, value: string) => void;\r\n    setActiveTheme: (themeId: number | string) => void;\r\n    setHighlight: (selector: string | null | undefined) => void;\r\n    setCustomCode: (mode: 'css' | 'html', value?: string) => void;\r\n  };\r\n}\r\n\r\nexport const useAppearanceStore = create<AppearanceStore>()(\r\n  subscribeWithSelector(\r\n    immer((set, get) => ({\r\n      defaults: null,\r\n      iframeWindow: null,\r\n      config: mergedAppearanceConfig,\r\n      setDefaults: value => {\r\n        set(state => {\r\n          state.defaults = {...value};\r\n        });\r\n      },\r\n      setIframeWindow: value => {\r\n        set(() => {\r\n          return {iframeWindow: value};\r\n        });\r\n      },\r\n\r\n      preview: {\r\n        navigate: sectionName => {\r\n          const section = get().config?.sections[sectionName];\r\n          const route = section?.previewRoute || '/';\r\n          const preview = get().iframeWindow;\r\n          if (route) {\r\n            postMessage(preview, {type: 'navigate', to: route});\r\n          }\r\n        },\r\n        setValues: values => {\r\n          const preview = get().iframeWindow;\r\n          postMessage(preview, {type: 'setValues', values});\r\n        },\r\n        setThemeFont: font => {\r\n          const preview = get().iframeWindow;\r\n          postMessage(preview, {type: 'setThemeFont', value: font});\r\n        },\r\n        setThemeValue: (name, value) => {\r\n          const preview = get().iframeWindow;\r\n          postMessage(preview, {type: 'setThemeValue', name, value});\r\n        },\r\n        setActiveTheme: themeId => {\r\n          const preview = get().iframeWindow;\r\n          postMessage(preview, {type: 'setActiveTheme', themeId});\r\n        },\r\n        setCustomCode: (mode, value) => {\r\n          const preview = get().iframeWindow;\r\n          postMessage(preview, {type: 'setCustomCode', mode, value});\r\n        },\r\n        setHighlight: selector => {\r\n          set(() => {\r\n            let node: HTMLElement | null = null;\r\n            const document = get().iframeWindow?.document;\r\n            if (document && selector) {\r\n              node = document.querySelector(selector);\r\n            }\r\n            if (node) {\r\n              requestAnimationFrame(() => {\r\n                if (!node) return;\r\n                node.scrollIntoView({\r\n                  behavior: 'smooth',\r\n                  block: 'center',\r\n                  inline: 'center',\r\n                });\r\n              });\r\n            }\r\n          });\r\n        },\r\n      },\r\n    })),\r\n  ),\r\n);\r\n\r\nfunction postMessage(window: Window | null, command: AllCommands) {\r\n  if (window) {\r\n    window.postMessage({source: 'be-appearance-editor', ...command}, '*');\r\n  }\r\n}\r\n\r\nexport function appearanceState() {\r\n  return useAppearanceStore.getState();\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {AppearanceValues} from '@common/admin/appearance/appearance-store';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\r\nimport {message} from '@common/i18n/message';\r\n\r\ninterface Response extends BackendResponse {}\r\n\r\nexport function useSaveAppearanceChanges() {\r\n  return useMutation({\r\n    mutationFn: (values: Partial<AppearanceValues>) =>\r\n      saveAppearanceChanges(values),\r\n    onSuccess: async () => {\r\n      await queryClient.invalidateQueries({\r\n        queryKey: ['admin/appearance/values'],\r\n      });\r\n      toast(message('Changes saved'));\r\n    },\r\n    onError: err => showHttpErrorToast(err),\r\n  });\r\n}\r\n\r\nfunction saveAppearanceChanges(\r\n  changes: Partial<AppearanceValues>,\r\n): Promise<Response> {\r\n  return apiClient.post(`admin/appearance`, {changes}).then(r => r.data);\r\n}\r\n","import {useQuery} from '@tanstack/react-query';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {apiClient} from '@common/http/query-client';\r\nimport {AppearanceDefaults, AppearanceValues} from '../appearance-store';\r\n\r\nexport interface FetchAppearanceValuesResponse extends BackendResponse {\r\n  values: AppearanceValues;\r\n  defaults: AppearanceDefaults;\r\n}\r\n\r\nexport function useAppearanceValues() {\r\n  return useQuery({\r\n    queryKey: ['admin/appearance/values'],\r\n    queryFn: () => fetchAppearanceValues(),\r\n    staleTime: Infinity,\r\n  });\r\n}\r\n\r\nfunction fetchAppearanceValues(): Promise<FetchAppearanceValuesResponse> {\r\n  return apiClient\r\n    .get('admin/appearance/values')\r\n    .then(response => response.data);\r\n}\r\n","import {Link, useLocation} from 'react-router-dom';\r\nimport clsx from 'clsx';\r\nimport {Fragment, useEffect, useState} from 'react';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {KeyboardArrowLeftIcon} from '../../icons/material/KeyboardArrowLeft';\r\nimport {KeyboardArrowRightIcon} from '../../icons/material/KeyboardArrowRight';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {MixedText} from '../../i18n/mixed-text';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport {appearanceState, AppearanceValues} from './appearance-store';\r\nimport {AppearanceEditorBreadcrumbItem} from './types/appearance-editor-section';\r\nimport {message} from '../../i18n/message';\r\n\r\nexport function SectionHeader() {\r\n  const {pathname} = useLocation();\r\n  const {getValues} = useFormContext<AppearanceValues>();\r\n  const [breadcrumb, setBreadcrumb] = useState<\r\n    AppearanceEditorBreadcrumbItem[] | null\r\n  >(null);\r\n\r\n  useEffect(() => {\r\n    const [, , sectionName] = pathname.split('/').filter(p => !!p);\r\n    if (sectionName) {\r\n      const section = appearanceState().config?.sections[sectionName];\r\n      if (section) {\r\n        setBreadcrumb([\r\n          {\r\n            label: message('Appearance'),\r\n            location: '',\r\n          },\r\n          ...section.buildBreadcrumb(pathname, getValues()),\r\n        ]);\r\n        // bail, so breadcrumb is not cleared below\r\n        return;\r\n      }\r\n    }\r\n    setBreadcrumb(null);\r\n  }, [pathname, getValues]);\r\n\r\n  // not need to show section header if already at root\r\n  if (!breadcrumb || breadcrumb.length < 2) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex items-center border-b h-60 flex-shrink-0\">\r\n      <IconButton\r\n        iconSize=\"md\"\r\n        radius=\"rounded-none\"\r\n        className=\"text-muted h-full w-50 flex-shrink-0\"\r\n        elementType={Link}\r\n        to={`/admin/appearance/${breadcrumb[breadcrumb.length - 2].location}`}\r\n      >\r\n        <KeyboardArrowLeftIcon />\r\n      </IconButton>\r\n      <div className=\"border-l p-10 min-w-0\">\r\n        <div className=\"text-xs text-muted\">\r\n          <Trans message=\"Customizing\" />\r\n        </div>\r\n        <div className=\"flex items-center gap-4 text-sm mt-2\">\r\n          {breadcrumb.map((item, index) => {\r\n            const isLast = breadcrumb.length - 1 === index;\r\n            const isFirst = index === 0;\r\n            const label = <MixedText value={item.label} />;\r\n\r\n            if (isFirst) {\r\n              return null;\r\n            }\r\n\r\n            return (\r\n              <Fragment key={index}>\r\n                <div\r\n                  className={clsx(\r\n                    'whitespace-nowrap overflow-hidden overflow-ellipsis min-w-0',\r\n                    isLast && 'text-primary',\r\n                    // don't overflow ellipses last item\r\n                    isLast ? 'flex-shrink-0' : 'flex-auto'\r\n                  )}\r\n                >\r\n                  {label}\r\n                </div>\r\n                {!isLast && (\r\n                  <KeyboardArrowRightIcon className=\"icon-sm text-muted flex-shrink-0\" />\r\n                )}\r\n              </Fragment>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {Link, Navigate, Outlet, useLocation} from 'react-router-dom';\r\nimport {useEffect, useRef} from 'react';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {CloseIcon} from '../../icons/material/Close';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {appearanceState, AppearanceValues} from './appearance-store';\r\nimport {useSaveAppearanceChanges} from './requests/save-appearance-changes';\r\nimport {useAppearanceValues} from './requests/appearance-values';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {useForm, useFormContext} from 'react-hook-form';\r\nimport {Form} from '../../ui/forms/form';\r\nimport {ProgressCircle} from '../../ui/progress/progress-circle';\r\nimport {SectionHeader} from './section-header';\r\nimport {FileUploadProvider} from '../../uploads/uploader/file-upload-provider';\r\nimport {useAppearanceEditorMode} from './commands/use-appearance-editor-mode';\r\nimport {StaticPageTitle} from '../../seo/static-page-title';\r\nimport {useSettings} from '../../core/settings/use-settings';\r\n\r\nexport function AppearanceLayout() {\r\n  const {isAppearanceEditorActive} = useAppearanceEditorMode();\r\n  const {data} = useAppearanceValues();\r\n  const {base_url} = useSettings();\r\n  const iframeRef = useRef<HTMLIFrameElement>(null);\r\n  const {pathname} = useLocation();\r\n\r\n  useEffect(() => {\r\n    // only set defaults snapshot once on route init\r\n    if (data?.defaults && !appearanceState().defaults) {\r\n      appearanceState().setDefaults(data.defaults);\r\n    }\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    if (iframeRef.current) {\r\n      appearanceState().setIframeWindow(iframeRef.current.contentWindow!);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const sectionName = pathname.split('/')[3];\r\n    appearanceState().preview.navigate(sectionName);\r\n  }, [pathname]);\r\n\r\n  // make sure appearance editor iframe can't be nested\r\n  if (isAppearanceEditorActive) {\r\n    return <Navigate to=\"/admin\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-screen items-center md:flex\">\r\n      <StaticPageTitle>\r\n        <Trans message=\"Appearance\" />\r\n      </StaticPageTitle>\r\n      <Sidebar values={data?.values} />\r\n      <div className=\"relative h-full flex-auto\">\r\n        <iframe\r\n          ref={iframeRef}\r\n          className=\"h-full w-full max-md:hidden\"\r\n          src={`${base_url}?appearanceEditor=true`}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface SidebarProps {\r\n  values: AppearanceValues | undefined;\r\n}\r\nfunction Sidebar({values}: SidebarProps) {\r\n  const spinner = (\r\n    <div className=\"flex h-full flex-auto items-center justify-center\">\r\n      <ProgressCircle isIndeterminate aria-label=\"Loading editor\" />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"relative z-10 h-full w-full border-r bg shadow-lg @container md:w-320\">\r\n      {values ? <AppearanceForm defaultValues={values} /> : spinner}\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface AppearanceFormProps {\r\n  defaultValues: AppearanceValues;\r\n}\r\n\r\nfunction AppearanceForm({defaultValues}: AppearanceFormProps) {\r\n  const form = useForm<AppearanceValues>({defaultValues});\r\n  const {watch, reset} = form;\r\n  const saveChanges = useSaveAppearanceChanges();\r\n\r\n  useEffect(() => {\r\n    const subscription = watch(value => {\r\n      appearanceState().preview.setValues(value as AppearanceValues);\r\n    });\r\n    return () => subscription.unsubscribe();\r\n  }, [watch]);\r\n\r\n  return (\r\n    <Form\r\n      className=\"flex h-full flex-col\"\r\n      form={form}\r\n      onSubmit={values => {\r\n        saveChanges.mutate(values, {\r\n          onSuccess: () => reset(values),\r\n        });\r\n      }}\r\n    >\r\n      <Header isLoading={saveChanges.isPending} />\r\n      <SectionHeader />\r\n      <div className=\"flex-auto overflow-y-auto px-14 py-20\">\r\n        <FileUploadProvider>\r\n          <Outlet />\r\n        </FileUploadProvider>\r\n      </div>\r\n    </Form>\r\n  );\r\n}\r\n\r\ninterface HeaderProps {\r\n  isLoading: boolean;\r\n}\r\nfunction Header({isLoading}: HeaderProps) {\r\n  const {\r\n    formState: {dirtyFields},\r\n  } = useFormContext<AppearanceValues>();\r\n  const isDirty = Object.keys(dirtyFields).length;\r\n  return (\r\n    <div className=\"flex h-50 flex-shrink-0 items-center border-b pr-10\">\r\n      <IconButton\r\n        border=\"border-r\"\r\n        className=\"text-muted\"\r\n        elementType={Link}\r\n        to=\"..\"\r\n      >\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <div className=\"pl-10\">\r\n        <Trans message=\"Appearance editor\" />\r\n      </div>\r\n      <Button\r\n        variant=\"flat\"\r\n        color=\"primary\"\r\n        className=\"ml-auto block\"\r\n        disabled={!isDirty || isLoading}\r\n        type=\"submit\"\r\n      >\r\n        {isDirty ? <Trans message=\"Save\" /> : <Trans message=\"Saved\" />}\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import {Link, useNavigate} from 'react-router-dom';\r\nimport {AppearanceValues} from '../../appearance-store';\r\nimport {Button} from '../../../../ui/buttons/button';\r\nimport {AddIcon} from '../../../../icons/material/Add';\r\nimport {Trans} from '../../../../i18n/trans';\r\nimport {useFieldArray} from 'react-hook-form';\r\nimport {AppearanceButton} from '../../appearance-button';\r\nimport {nanoid} from 'nanoid';\r\nimport {useTrans} from '../../../../i18n/use-trans';\r\nimport {message} from '../../../../i18n/message';\r\nimport {Fragment} from 'react';\r\n\r\nexport function MenuList() {\r\n  const navigate = useNavigate();\r\n  const {trans} = useTrans();\r\n  const {fields, append} = useFieldArray<\r\n    AppearanceValues,\r\n    'settings.menus',\r\n    'key'\r\n  >({\r\n    name: 'settings.menus',\r\n    keyName: 'key',\r\n  });\r\n\r\n  return (\r\n    <Fragment>\r\n      <div>\r\n        {fields.map((field, index) => (\r\n          <AppearanceButton to={`${index}`} key={field.key} elementType={Link}>\r\n            {field.name}\r\n          </AppearanceButton>\r\n        ))}\r\n      </div>\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"outline\"\r\n          color=\"primary\"\r\n          startIcon={<AddIcon />}\r\n          size=\"xs\"\r\n          onClick={() => {\r\n            const id = nanoid(10);\r\n            append({\r\n              name: trans(\r\n                message('New menu :number', {\r\n                  values: {number: fields.length + 1},\r\n                })\r\n              ),\r\n              id,\r\n              positions: [],\r\n              items: [],\r\n            });\r\n            navigate(`${fields.length}`);\r\n          }}\r\n        >\r\n          <Trans message=\"Create menu\" />\r\n        </Button>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n","import {useForm} from 'react-hook-form';\r\nimport {Accordion, AccordionItem} from '@common/ui/accordion/accordion';\r\nimport {Form} from '@common/ui/forms/form';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {MenuItemConfig} from '@common/core/settings/settings';\r\nimport {AddIcon} from '@common/icons/material/Add';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {useAvailableRoutes} from '@common/admin/appearance/sections/menus/hooks/available-routes';\r\nimport {ucFirst} from '@common/utils/string/uc-first';\r\nimport {List, ListItem} from '@common/ui/list/list';\r\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\r\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\r\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {useValueLists} from '@common/http/value-lists';\r\nimport {ReactNode} from 'react';\r\nimport {nanoid} from 'nanoid';\r\n\r\ninterface AddMenuItemDialogProps {\r\n  title?: ReactNode;\r\n}\r\nexport function AddMenuItemDialog({\r\n  title = <Trans message=\"Add menu item\" />,\r\n}: AddMenuItemDialogProps) {\r\n  const {data} = useValueLists(['menuItemCategories']);\r\n  const categories = data?.menuItemCategories || [];\r\n  const routeItems = useAvailableRoutes();\r\n\r\n  return (\r\n    <Dialog size=\"sm\">\r\n      <DialogHeader>{title}</DialogHeader>\r\n      <DialogBody>\r\n        <Accordion variant=\"outline\">\r\n          <AccordionItem\r\n            label={<Trans message=\"Link\" />}\r\n            bodyClassName=\"max-h-240 overflow-y-auto\"\r\n          >\r\n            <AddCustomLink />\r\n          </AccordionItem>\r\n          <AccordionItem\r\n            label={<Trans message=\"Route\" />}\r\n            bodyClassName=\"max-h-240 overflow-y-auto\"\r\n          >\r\n            <AddRoute items={routeItems} />\r\n          </AccordionItem>\r\n          {categories.map(category => (\r\n            <AccordionItem\r\n              key={category.name}\r\n              label={<Trans message={category.name} />}\r\n            >\r\n              <AddRoute items={category.items} />\r\n            </AccordionItem>\r\n          ))}\r\n        </Accordion>\r\n      </DialogBody>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction AddCustomLink() {\r\n  const form = useForm<MenuItemConfig>({\r\n    defaultValues: {\r\n      id: nanoid(6),\r\n      type: 'link',\r\n      target: '_blank',\r\n    },\r\n  });\r\n  const {close} = useDialogContext();\r\n\r\n  return (\r\n    <Form\r\n      form={form}\r\n      onSubmit={value => {\r\n        close(value);\r\n      }}\r\n    >\r\n      <FormTextField\r\n        required\r\n        name=\"label\"\r\n        label={<Trans message=\"Label\" />}\r\n        className=\"mb-20\"\r\n      />\r\n      <FormTextField\r\n        required\r\n        type=\"url\"\r\n        name=\"action\"\r\n        placeholder=\"https://\"\r\n        label={<Trans message=\"Url\" />}\r\n        className=\"mb-20\"\r\n      />\r\n      <div className=\"text-right\">\r\n        <Button type=\"submit\" variant=\"flat\" color=\"primary\" size=\"xs\">\r\n          <Trans message=\"Add to menu\" />\r\n        </Button>\r\n      </div>\r\n    </Form>\r\n  );\r\n}\r\n\r\ninterface AddRouteProps {\r\n  items: Partial<MenuItemConfig>[];\r\n}\r\nfunction AddRoute({items}: AddRouteProps) {\r\n  const {close} = useDialogContext();\r\n\r\n  return (\r\n    <List>\r\n      {items.map(item => {\r\n        return (\r\n          <ListItem\r\n            key={item.id}\r\n            startIcon={<AddIcon size=\"sm\" />}\r\n            onSelected={() => {\r\n              if (item.label) {\r\n                const last = item.label.split('/').pop();\r\n                item.label = last ? ucFirst(last) : item.label;\r\n                item.id = nanoid(6);\r\n              }\r\n              close(item);\r\n            }}\r\n          >\r\n            {item.label}\r\n          </ListItem>\r\n        );\r\n      })}\r\n    </List>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const DragIndicatorIcon = createSvgIcon(\r\n  <path d=\"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\r\n, 'DragIndicatorOutlined');\r\n","export default \"__VITE_ASSET__abcb02f6__\"","import {\r\n  DropPosition,\r\n  SortSession,\r\n} from '@common/ui/interactions/dnd/sortable/use-sortable';\r\nimport {SortableStrategy} from '@common/ui/interactions/dnd/sortable/sortable-strategy';\r\nimport {droppables} from '@common/ui/interactions/dnd/drag-state';\r\n\r\nexport const sortableLineStrategy: SortableStrategy = {\r\n  onDragStart: () => {},\r\n  onDragEnter: () => {},\r\n  onDragOver: ({e, ref, item, sortSession, onDropPositionChange}) => {\r\n    const previousPosition = sortSession.dropPosition;\r\n    let newPosition: DropPosition = null;\r\n\r\n    const rect = droppables.get(item)?.rect;\r\n    if (rect) {\r\n      const midY = rect.top + rect.height / 2;\r\n      if (e.clientY <= midY) {\r\n        newPosition = 'before';\r\n      } else if (e.clientY >= midY) {\r\n        newPosition = 'after';\r\n      }\r\n    }\r\n\r\n    if (newPosition !== previousPosition) {\r\n      const overIndex = sortSession.sortables.indexOf(item);\r\n      sortSession.dropPosition = newPosition;\r\n      onDropPositionChange?.(sortSession.dropPosition);\r\n\r\n      clearLinePreview(sortSession);\r\n      if (ref.current) {\r\n        if (sortSession.dropPosition === 'after') {\r\n          addLinePreview(ref.current, 'bottom', sortSession);\r\n        } else {\r\n          // if it's the first row, add preview to the top border, as there's no previous element\r\n          if (overIndex === 0) {\r\n            addLinePreview(ref.current, 'top', sortSession);\r\n            // otherwise add preview to the bottom border of the previous row\r\n          } else {\r\n            const droppableId = sortSession.sortables[overIndex - 1];\r\n            const droppable = droppables.get(droppableId);\r\n            if (droppable?.ref.current) {\r\n              addLinePreview(droppable.ref.current, 'bottom', sortSession);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      const itemIndex = sortSession.sortables.indexOf(item);\r\n\r\n      // don't move item at all if hovering over itself\r\n      if (sortSession.activeIndex === itemIndex) {\r\n        sortSession.finalIndex = sortSession.activeIndex;\r\n        return;\r\n      }\r\n\r\n      // adjust final drop index based on whether we're dropping drag target after or before it's original index\r\n      // this is needed, so we get the same index if target is dropped after current item or before next item\r\n      const dragDirection =\r\n        overIndex > sortSession.activeIndex ? 'after' : 'before';\r\n      if (dragDirection === 'after') {\r\n        sortSession.finalIndex =\r\n          sortSession.dropPosition === 'before' ? itemIndex - 1 : itemIndex;\r\n      } else {\r\n        sortSession.finalIndex =\r\n          sortSession.dropPosition === 'after' ? itemIndex + 1 : itemIndex;\r\n      }\r\n    }\r\n  },\r\n  onDragEnd: sortSession => {\r\n    clearLinePreview(sortSession);\r\n  },\r\n};\r\n\r\nfunction clearLinePreview(sortSession: SortSession) {\r\n  if (sortSession?.linePreviewEl) {\r\n    sortSession.linePreviewEl.style.borderBottomColor = '';\r\n    sortSession.linePreviewEl.style.borderTopColor = '';\r\n    sortSession.linePreviewEl = undefined;\r\n  }\r\n}\r\n\r\nfunction addLinePreview(\r\n  el: HTMLElement,\r\n  side: 'top' | 'bottom',\r\n  sortSession: SortSession,\r\n) {\r\n  const color = 'rgb(var(--be-primary))';\r\n  if (side === 'top') {\r\n    el.style.borderTopColor = color;\r\n  } else {\r\n    el.style.borderBottomColor = color;\r\n  }\r\n  if (sortSession) {\r\n    sortSession.linePreviewEl = el;\r\n  }\r\n}\r\n","import {clamp} from '../number/clamp';\r\n\r\nexport function moveItemInArray<T = any>(\r\n  array: T[],\r\n  fromIndex: number,\r\n  toIndex: number\r\n): T[] {\r\n  const from = clamp(fromIndex, 0, array.length - 1);\r\n  const to = clamp(toIndex, 0, array.length - 1);\r\n\r\n  if (from === to) {\r\n    return array;\r\n  }\r\n\r\n  const target = array[from];\r\n  const delta = to < from ? -1 : 1;\r\n\r\n  for (let i = from; i !== to; i += delta) {\r\n    array[i] = array[i + delta];\r\n  }\r\n\r\n  array[to] = target;\r\n\r\n  return array;\r\n}\r\n","export function moveItemInNewArray<T>(\r\n  array: T[],\r\n  from: number,\r\n  to: number\r\n): T[] {\r\n  const newArray = array.slice();\r\n  newArray.splice(\r\n    to < 0 ? newArray.length + to : to,\r\n    0,\r\n    newArray.splice(from, 1)[0]\r\n  );\r\n\r\n  return newArray;\r\n}\r\n","import {moveItemInArray} from '@common/utils/array/move-item-in-array';\r\nimport {droppables} from '@common/ui/interactions/dnd/drag-state';\r\nimport {moveItemInNewArray} from '@common/utils/array/move-item-in-new-array';\r\nimport type {SortSession} from '@common/ui/interactions/dnd/sortable/use-sortable';\r\nimport type {SortableStrategy} from '@common/ui/interactions/dnd/sortable/sortable-strategy';\r\n\r\nconst transition = 'transform 0.2s cubic-bezier(0.2, 0, 0, 1)';\r\n\r\nexport const sortableTransformStrategy: SortableStrategy = {\r\n  onDragStart: sortSession => {\r\n    sortSession.sortables.forEach((sortable, index) => {\r\n      const droppable = droppables.get(sortable);\r\n      if (!droppable?.ref.current) return;\r\n\r\n      droppable.ref.current.style.transition = transition;\r\n\r\n      if (sortSession?.activeIndex === index) {\r\n        droppable.ref.current.style.opacity = '0.4';\r\n      }\r\n    });\r\n  },\r\n  onDragEnter: (\r\n    sortSession: SortSession,\r\n    overIndex: number,\r\n    currentIndex: number,\r\n  ) => {\r\n    moveItemInArray(sortSession.sortables, currentIndex, overIndex);\r\n    const rects = sortSession.sortables.map(s => droppables.get(s)?.rect);\r\n\r\n    sortSession.sortables.forEach((sortable, index) => {\r\n      if (!sortSession) return;\r\n\r\n      const newRects = moveItemInNewArray(\r\n        rects,\r\n        overIndex,\r\n        sortSession.activeIndex,\r\n      );\r\n      const oldRect = rects[index];\r\n      const newRect = newRects[index];\r\n      const sortableTarget = droppables.get(sortable);\r\n\r\n      if (sortableTarget?.ref.current && newRect && oldRect) {\r\n        const x = newRect.left - oldRect.left;\r\n        const y = newRect.top - oldRect.top;\r\n        sortableTarget.ref.current.style.transform = `translate3d(${x}px, ${y}px, 0)`;\r\n      }\r\n    });\r\n\r\n    sortSession.finalIndex = overIndex;\r\n  },\r\n  onDragOver: () => {},\r\n  onDragEnd: sortSession => {\r\n    // clear any styles and transforms applied to sortables during sorting\r\n    sortSession.sortables.forEach(sortable => {\r\n      const droppable = droppables.get(sortable);\r\n      if (droppable?.ref.current) {\r\n        droppable.ref.current.style.transform = '';\r\n        droppable.ref.current.style.transition = '';\r\n        droppable.ref.current.style.opacity = '';\r\n        droppable.ref.current.style.zIndex = '';\r\n      }\r\n    });\r\n  },\r\n};\r\n","import {moveItemInArray} from '@common/utils/array/move-item-in-array';\r\nimport {droppables} from '@common/ui/interactions/dnd/drag-state';\r\nimport {SortableStrategy} from '@common/ui/interactions/dnd/sortable/sortable-strategy';\r\n\r\nexport const sortableMoveNodeStrategy: SortableStrategy = {\r\n  onDragStart: () => {},\r\n  onDragOver: () => {},\r\n  onDragEnter: (sortSession, overIndex: number, currentIndex: number) => {\r\n    const node = droppables.get(sortSession.sortables[currentIndex])?.ref\r\n      .current;\r\n    if (node) {\r\n      moveNode(node, currentIndex, overIndex);\r\n      moveItemInArray(sortSession.sortables, currentIndex, overIndex);\r\n      sortSession.finalIndex = overIndex;\r\n    }\r\n  },\r\n  onDragEnd: () => {},\r\n};\r\n\r\nfunction moveNode(el: HTMLElement, currentIndex: number, newIndex: number) {\r\n  const parentEl = el.parentElement!;\r\n  if (newIndex < 0) {\r\n    parentEl.prepend(el);\r\n  } else {\r\n    // if parent already contains this node, and we're changing\r\n    // node's index within parent, need to adjust index by one\r\n    if (currentIndex > -1 && currentIndex <= newIndex) {\r\n      newIndex++;\r\n    }\r\n    const ref = parentEl.children.item(newIndex);\r\n    if (ref) {\r\n      ref.before(el);\r\n    } else {\r\n      parentEl.append(el);\r\n    }\r\n  }\r\n}\r\n","import {DraggableId, DragPreviewRenderer, useDraggable} from '../use-draggable';\r\nimport {useDroppable} from '../use-droppable';\r\nimport {RefObject, useEffect} from 'react';\r\nimport {getScrollParent, mergeProps} from '@react-aria/utils';\r\nimport {droppables} from '../drag-state';\r\nimport {updateRects} from '@common/ui/interactions/dnd/update-rects';\r\nimport {sortableLineStrategy} from '@common/ui/interactions/dnd/sortable/sortable-line-strategy';\r\nimport {sortableTransformStrategy} from '@common/ui/interactions/dnd/sortable/sortable-transform-strategy';\r\nimport {sortableMoveNodeStrategy} from '@common/ui/interactions/dnd/sortable/sortable-move-node-strategy';\r\nimport {SortableStrategy} from '@common/ui/interactions/dnd/sortable/sortable-strategy';\r\n\r\nexport interface SortSession {\r\n  // items in this list will be moved when user is sorting\r\n  sortables: DraggableId[];\r\n\r\n  // sortable user started dragging to start this session\r\n  activeSortable: DraggableId;\r\n  activeIndex: number;\r\n\r\n  // final index sortable was dropped in and should be moved to\r\n  finalIndex: number;\r\n\r\n  // drop position for displaying line preview\r\n  dropPosition: DropPosition;\r\n  // element that currently has a line preview at the top or bottom\r\n  linePreviewEl?: HTMLElement;\r\n  scrollParent?: Element;\r\n  scrollListener: () => void;\r\n  ref: RefObject<HTMLElement>;\r\n}\r\n\r\nlet sortSession: null | SortSession = null;\r\n\r\nexport type DropPosition = 'before' | 'after' | null;\r\n\r\ntype StrategyName = 'line' | 'liveSort' | 'moveNode';\r\n\r\nconst strategies: Record<StrategyName, SortableStrategy> = {\r\n  line: sortableLineStrategy,\r\n  liveSort: sortableTransformStrategy,\r\n  moveNode: sortableMoveNodeStrategy,\r\n};\r\n\r\nexport interface UseSortableProps {\r\n  item: DraggableId;\r\n  items: DraggableId[];\r\n  onSortStart?: () => void;\r\n  onSortEnd?: (oldIndex: number, newIndex: number) => void;\r\n  onDragEnd?: () => void;\r\n  onDropPositionChange?: (dropPosition: DropPosition) => void;\r\n  ref: RefObject<HTMLElement>;\r\n  type: string;\r\n  preview?: RefObject<DragPreviewRenderer>;\r\n  strategy?: StrategyName;\r\n  disabled?: boolean;\r\n}\r\nexport function useSortable({\r\n  item,\r\n  items,\r\n  type,\r\n  ref,\r\n  onSortEnd,\r\n  onSortStart,\r\n  onDragEnd,\r\n  preview,\r\n  disabled,\r\n  onDropPositionChange,\r\n  strategy = 'liveSort',\r\n}: UseSortableProps) {\r\n  // todo: issue with sorting after scrolling menu editor item list\r\n\r\n  // update sortables and active index, in case we lazy load more items while sorting\r\n  useEffect(() => {\r\n    if (sortSession && sortSession.sortables.length !== items.length) {\r\n      sortSession.sortables = [...items];\r\n      sortSession.activeIndex = items.indexOf(item);\r\n    }\r\n  }, [items, item]);\r\n\r\n  const {draggableProps, dragHandleRef} = useDraggable({\r\n    id: item,\r\n    ref,\r\n    type,\r\n    preview,\r\n    disabled,\r\n    onDragStart: () => {\r\n      sortSession = {\r\n        sortables: [...items],\r\n        activeSortable: item,\r\n        activeIndex: items.indexOf(item),\r\n        finalIndex: items.indexOf(item),\r\n        dropPosition: null,\r\n        ref,\r\n        scrollParent: ref.current ? getScrollParent(ref.current) : undefined,\r\n        scrollListener: () => {\r\n          updateRects(droppables);\r\n        },\r\n      };\r\n      strategies[strategy].onDragStart(sortSession);\r\n\r\n      onSortStart?.();\r\n      sortSession.scrollParent?.addEventListener(\r\n        'scroll',\r\n        sortSession.scrollListener,\r\n      );\r\n    },\r\n    onDragEnd: () => {\r\n      if (!sortSession) return;\r\n\r\n      sortSession.dropPosition = null;\r\n      onDropPositionChange?.(sortSession.dropPosition);\r\n      if (sortSession.activeIndex !== sortSession.finalIndex) {\r\n        onSortEnd?.(sortSession.activeIndex, sortSession.finalIndex);\r\n      }\r\n      sortSession.scrollParent?.removeEventListener(\r\n        'scroll',\r\n        sortSession.scrollListener,\r\n      );\r\n      strategies[strategy].onDragEnd(sortSession);\r\n      // call \"onDragEnd\" after \"onSortEnd\", so listener has a chance to use sort session data\r\n      onDragEnd?.();\r\n      sortSession = null;\r\n    },\r\n    getData: () => {},\r\n  });\r\n\r\n  const {droppableProps} = useDroppable({\r\n    id: item,\r\n    ref,\r\n    types: [type],\r\n    disabled,\r\n    allowDragEventsFromItself: true,\r\n    onDragOver: (target, e) => {\r\n      if (!sortSession) return;\r\n      strategies[strategy].onDragOver({\r\n        e,\r\n        ref,\r\n        item,\r\n        sortSession,\r\n        onDropPositionChange,\r\n      });\r\n    },\r\n    onDragEnter: () => {\r\n      if (!sortSession) return;\r\n      const overIndex = sortSession.sortables.indexOf(item);\r\n      const oldIndex = sortSession.sortables.indexOf(\r\n        sortSession.activeSortable,\r\n      );\r\n      strategies[strategy].onDragEnter(sortSession, overIndex, oldIndex);\r\n    },\r\n    onDragLeave: () => {\r\n      if (!sortSession) return;\r\n      sortSession.dropPosition = null;\r\n      onDropPositionChange?.(sortSession.dropPosition);\r\n    },\r\n  });\r\n\r\n  return {\r\n    sortableProps: {...mergeProps(draggableProps, droppableProps)},\r\n    dragHandleRef,\r\n  };\r\n}\r\n","import {\r\n  FieldArrayWithId,\r\n  useFieldArray,\r\n  UseFieldArrayReturn,\r\n  useFormContext,\r\n} from 'react-hook-form';\r\nimport {Fragment, useEffect, useMemo, useRef} from 'react';\r\nimport {Link, useNavigate, useParams} from 'react-router-dom';\r\nimport {MenuSectionConfig} from '../../types/appearance-editor-config';\r\nimport {MenuItemConfig} from '@common/core/settings/settings';\r\nimport {\r\n  appearanceState,\r\n  AppearanceValues,\r\n  useAppearanceStore,\r\n} from '../../appearance-store';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {AddMenuItemDialog} from '@common/admin/appearance/sections/menus/add-menu-item-dialog';\r\nimport {AppearanceButton} from '@common/admin/appearance/appearance-button';\r\nimport {AddIcon} from '@common/icons/material/Add';\r\nimport {DragIndicatorIcon} from '@common/icons/material/DragIndicator';\r\nimport {ConfirmationDialog} from '@common/ui/overlays/dialog/confirmation-dialog';\r\nimport {IllustratedMessage} from '@common/ui/images/illustrated-message';\r\nimport {SvgImage} from '@common/ui/images/svg-image/svg-image';\r\nimport {DeleteIcon} from '@common/icons/material/Delete';\r\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\r\nimport {Option} from '../../../../ui/forms/select/select';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport dropdownMenu from './dropdown-menu.svg';\r\nimport {FormChipField} from '@common/ui/forms/input-field/chip-field/form-chip-field';\r\nimport {\r\n  useSortable,\r\n  UseSortableProps,\r\n} from '@common/ui/interactions/dnd/sortable/use-sortable';\r\nimport {IconButton} from '@common/ui/buttons/icon-button';\r\nimport {createSvgIconFromTree} from '@common/icons/create-svg-icon';\r\nimport {useSettings} from '@common/core/settings/use-settings';\r\n\r\nexport function MenuEditor() {\r\n  const {menuIndex} = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const {getValues} = useFormContext<AppearanceValues>();\r\n  const formPath = `settings.menus.${menuIndex!}` as 'settings.menus.0';\r\n  const menu = getValues(formPath);\r\n\r\n  useEffect(() => {\r\n    // go to menu list, if menu can't be found\r\n    if (!menu) {\r\n      navigate('/admin/appearance/menus');\r\n    } else {\r\n      appearanceState().preview.setHighlight(`[data-menu-id=\"${menu.id}\"]`);\r\n    }\r\n  }, [navigate, menu]);\r\n\r\n  if (!menu) {\r\n    return null;\r\n  }\r\n\r\n  return <MenuEditorSection formPath={formPath} />;\r\n}\r\n\r\ninterface MenuEditorFormProps {\r\n  formPath: 'settings.menus.0';\r\n}\r\nfunction MenuEditorSection({formPath}: MenuEditorFormProps) {\r\n  const {\r\n    site: {has_mobile_app},\r\n  } = useSettings();\r\n  const menuSectionConfig = useAppearanceStore(\r\n    s => s.config?.sections.menus.config,\r\n  ) as MenuSectionConfig;\r\n\r\n  const menuPositions = useMemo(() => {\r\n    const positions = [...menuSectionConfig?.positions];\r\n    if (has_mobile_app) {\r\n      positions.push('mobile-app-about');\r\n    }\r\n    return positions.map(position => ({\r\n      key: position,\r\n      name: position.replaceAll('-', ' '),\r\n    }));\r\n  }, [menuSectionConfig, has_mobile_app]);\r\n\r\n  const fieldArray = useFieldArray<\r\n    AppearanceValues,\r\n    `settings.menus.0.items`,\r\n    'key'\r\n  >({\r\n    name: `${formPath}.items`,\r\n    keyName: 'key',\r\n  });\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"mb-30 border-b pb-30\">\r\n        <FormTextField\r\n          name={`${formPath}.name`}\r\n          label={<Trans message=\"Menu name\" />}\r\n          className=\"mb-20\"\r\n          autoFocus\r\n        />\r\n        <FormChipField\r\n          chipSize=\"sm\"\r\n          name={`${formPath}.positions`}\r\n          valueKey=\"id\"\r\n          label={<Trans message=\"Menu positions\" />}\r\n          description={\r\n            <Trans message=\"Where should this menu appear on the site\" />\r\n          }\r\n        >\r\n          {menuPositions.map(item => (\r\n            <Option key={item.key} value={item.key} capitalizeFirst>\r\n              {item.name}\r\n            </Option>\r\n          ))}\r\n        </FormChipField>\r\n      </div>\r\n      <MenuItemsManager fieldArray={fieldArray} />\r\n      <div className=\"text-right\">\r\n        <DeleteMenuTrigger />\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface ItemListProps {\r\n  fieldArray: UseFieldArrayReturn<\r\n    AppearanceValues,\r\n    'settings.menus.0.items',\r\n    'key'\r\n  >;\r\n}\r\nfunction MenuItemsManager({fieldArray: {append, fields, move}}: ItemListProps) {\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"flex flex-shrink-0 items-center justify-between gap-16\">\r\n        <Trans message=\"Menu items\" />\r\n        <DialogTrigger\r\n          type=\"popover\"\r\n          placement=\"right\"\r\n          offset={20}\r\n          onClose={(menuItemConfig?: MenuItemConfig) => {\r\n            if (menuItemConfig) {\r\n              append({...menuItemConfig});\r\n              navigate(`items/${fields.length}`);\r\n            }\r\n          }}\r\n        >\r\n          <Button\r\n            variant=\"outline\"\r\n            color=\"primary\"\r\n            size=\"xs\"\r\n            startIcon={<AddIcon />}\r\n          >\r\n            <Trans message=\"Add\" />\r\n          </Button>\r\n          <AddMenuItemDialog />\r\n        </DialogTrigger>\r\n      </div>\r\n      <div className=\"mt-20 flex-shrink-0\">\r\n        {fields.map((item, index) => (\r\n          <MenuListItem\r\n            key={item.key}\r\n            item={item}\r\n            items={fields}\r\n            index={index}\r\n            onSortEnd={(oldIndex, newIndex) => {\r\n              move(oldIndex, newIndex);\r\n            }}\r\n          />\r\n        ))}\r\n        {!fields.length ? (\r\n          <IllustratedMessage\r\n            size=\"xs\"\r\n            className=\"my-40\"\r\n            image={<SvgImage src={dropdownMenu} />}\r\n            title={<Trans message=\"No menu items yet\" />}\r\n            description={\r\n              <Trans message=\"Click add button to start adding links, pages, routes and other items to this menu. \" />\r\n            }\r\n          />\r\n        ) : null}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction DeleteMenuTrigger() {\r\n  const navigate = useNavigate();\r\n  const {menuIndex} = useParams();\r\n  const {fields, remove} = useFieldArray<\r\n    AppearanceValues,\r\n    'settings.menus',\r\n    'key'\r\n  >({\r\n    name: 'settings.menus',\r\n    keyName: 'key',\r\n  });\r\n  if (!menuIndex) return null;\r\n  const menu = fields[+menuIndex];\r\n\r\n  return (\r\n    <DialogTrigger\r\n      type=\"modal\"\r\n      onClose={isConfirmed => {\r\n        if (isConfirmed) {\r\n          const index = fields.findIndex(m => m.id === menu.id);\r\n          remove(index);\r\n          navigate('/admin/appearance/menus');\r\n        }\r\n      }}\r\n    >\r\n      <Button\r\n        variant=\"outline\"\r\n        color=\"danger\"\r\n        size=\"xs\"\r\n        startIcon={<DeleteIcon />}\r\n      >\r\n        <Trans message=\"Delete menu\" />\r\n      </Button>\r\n      <ConfirmationDialog\r\n        isDanger\r\n        title={<Trans message=\"Delete menu\" />}\r\n        body={\r\n          <Trans\r\n            message=\"Are you sure you want to delete :name?\"\r\n            values={{name: menu.name}}\r\n          />\r\n        }\r\n        confirm={<Trans message=\"Delete\" />}\r\n      />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n\r\ninterface MenuListItemProps {\r\n  item: MenuItemConfig;\r\n  items: FieldArrayWithId[];\r\n  index: number;\r\n  onSortEnd: UseSortableProps['onSortEnd'];\r\n}\r\nfunction MenuListItem({item, items, index, onSortEnd}: MenuListItemProps) {\r\n  const ref = useRef<HTMLButtonElement>(null);\r\n  const {sortableProps, dragHandleRef} = useSortable({\r\n    item,\r\n    items,\r\n    type: 'menuEditorSortable',\r\n    ref,\r\n    onSortEnd,\r\n    strategy: 'liveSort',\r\n  });\r\n\r\n  const Icon = item.icon && createSvgIconFromTree(item.icon);\r\n  const iconOnlyLabel = (\r\n    <div className=\"flex items-center gap-4 text-xs text-muted\">\r\n      {Icon && <Icon size=\"sm\" />}\r\n      (<Trans message=\"No label...\" />)\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Fragment>\r\n      <AppearanceButton\r\n        elementType={Link}\r\n        to={`items/${index}`}\r\n        ref={ref}\r\n        {...sortableProps}\r\n      >\r\n        <div className=\"flex items-center gap-10\">\r\n          <IconButton ref={dragHandleRef} size=\"sm\">\r\n            <DragIndicatorIcon className=\"text-muted hover:cursor-move\" />\r\n          </IconButton>\r\n          <div>{item.label || iconOnlyLabel}</div>\r\n        </div>\r\n      </AppearanceButton>\r\n    </Fragment>\r\n  );\r\n}\r\n","import {useFieldArray, useFormContext} from 'react-hook-form';\r\nimport {Fragment, useEffect} from 'react';\r\nimport {appearanceState, AppearanceValues} from '../../appearance-store';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {DeleteIcon} from '../../../../icons/material/Delete';\r\nimport {ConfirmationDialog} from '../../../../ui/overlays/dialog/confirmation-dialog';\r\nimport {DialogTrigger} from '../../../../ui/overlays/dialog/dialog-trigger';\r\nimport {Trans} from '../../../../i18n/trans';\r\nimport {useNavigate} from '../../../../utils/hooks/use-navigate';\r\nimport {MenuItemForm} from '../../../menus/menu-item-form';\r\nimport {useParams} from 'react-router-dom';\r\nimport {MenuItemConfig} from '../../../../core/settings/settings';\r\n\r\nexport function MenuItemEditor() {\r\n  const {menuIndex, menuItemIndex} = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const {getValues} = useFormContext<AppearanceValues>();\r\n\r\n  const formPath = `settings.menus.${menuIndex}.items.${menuItemIndex}`;\r\n  const item = getValues(formPath as any);\r\n\r\n  // go to menu editor, if menu item can't be found\r\n  useEffect(() => {\r\n    if (!item) {\r\n      //navigate(`../`);\r\n    } else {\r\n      appearanceState().preview.setHighlight(\r\n        `[data-menu-item-id=\"${item.id}\"]`\r\n      );\r\n    }\r\n  }, [navigate, item]);\r\n\r\n  // only render form when menu and item are available to avoid issues with hook form default values\r\n  if (!item || menuItemIndex == null) {\r\n    return null;\r\n  }\r\n\r\n  return <MenuItemEditorSection formPath={formPath} />;\r\n}\r\n\r\ninterface MenuItemEditorSectionProps {\r\n  formPath: string;\r\n}\r\nfunction MenuItemEditorSection({formPath}: MenuItemEditorSectionProps) {\r\n  return (\r\n    <Fragment>\r\n      <MenuItemForm formPathPrefix={formPath} />\r\n      <div className=\"text-right mt-40\">\r\n        <DeleteItemTrigger />\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction DeleteItemTrigger() {\r\n  const navigate = useNavigate();\r\n  const {menuIndex, menuItemIndex} = useParams();\r\n  const {fields, remove} = useFieldArray<AppearanceValues>({\r\n    name: `settings.menus.${+menuIndex!}.items`,\r\n  });\r\n\r\n  if (!menuItemIndex) return null;\r\n\r\n  const item = fields[+menuItemIndex] as MenuItemConfig;\r\n\r\n  return (\r\n    <DialogTrigger\r\n      type=\"modal\"\r\n      onClose={isConfirmed => {\r\n        if (isConfirmed) {\r\n          if (menuItemIndex) {\r\n            remove(+menuItemIndex);\r\n            navigate(`/admin/appearance/menus/${menuIndex}`);\r\n          }\r\n        }\r\n      }}\r\n    >\r\n      <Button\r\n        variant=\"outline\"\r\n        color=\"danger\"\r\n        size=\"xs\"\r\n        startIcon={<DeleteIcon />}\r\n      >\r\n        <Trans message=\"Delete this item\" />\r\n      </Button>\r\n      <ConfirmationDialog\r\n        isDanger\r\n        title={<Trans message=\"Delete menu item\" />}\r\n        body={\r\n          <Trans\r\n            message=\"Are you sure you want to delete :name?\"\r\n            values={{name: item.label}}\r\n          />\r\n        }\r\n        confirm={<Trans message=\"Delete\" />}\r\n      />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n","import {appearanceState, useAppearanceStore} from '../appearance-store';\r\nimport {FormImageSelector} from '@common/ui/images/image-selector';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {Fragment, ReactNode} from 'react';\r\nimport {Settings} from '../../../core/settings/settings';\r\n\r\nexport function GeneralSection() {\r\n  return (\r\n    <Fragment>\r\n      <BrandingImageSelector\r\n        label={<Trans message=\"Favicon\" />}\r\n        description={\r\n          <Trans message=\"This will generate different size favicons. Image should be at least 512x512 in size.\" />\r\n        }\r\n        type=\"favicon\"\r\n      />\r\n      <BrandingImageSelector\r\n        label={<Trans message=\"Light logo\" />}\r\n        description={<Trans message=\"Will be used on dark backgrounds.\" />}\r\n        type=\"logo_light\"\r\n      />\r\n      <BrandingImageSelector\r\n        label={<Trans message=\"Dark logo\" />}\r\n        description={\r\n          <Trans message=\"Will be used on light backgrounds. Will default to light logo if left empty.\" />\r\n        }\r\n        type=\"logo_dark\"\r\n      />\r\n      <BrandingImageSelector\r\n        label={<Trans message=\"Mobile light logo\" />}\r\n        description={\r\n          <Trans message=\"Will be used on light backgrounds on mobile. Will default to desktop logo if left empty.\" />\r\n        }\r\n        type=\"logo_light_mobile\"\r\n      />\r\n      <BrandingImageSelector\r\n        label={<Trans message=\"Mobile dark logo\" />}\r\n        description={\r\n          <Trans message=\"Will be used on dark backgrounds on mobile. Will default to desktop if left empty.\" />\r\n        }\r\n        type=\"logo_dark_mobile\"\r\n      />\r\n      <SiteNameTextField />\r\n      <SiteDescriptionTextArea />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface ImageSelectorProps {\r\n  label: ReactNode;\r\n  description: ReactNode;\r\n  type: keyof Settings['branding'];\r\n}\r\nfunction BrandingImageSelector({label, description, type}: ImageSelectorProps) {\r\n  const defaultValue = useAppearanceStore(\r\n    s => s.defaults?.settings.branding[type]\r\n  );\r\n  return (\r\n    <FormImageSelector\r\n      name={`settings.branding.${type}`}\r\n      className=\"border-b pb-30 mb-30\"\r\n      label={label}\r\n      description={description}\r\n      diskPrefix=\"branding_media\"\r\n      defaultValue={defaultValue}\r\n      onChange={() => {\r\n        appearanceState().preview.setHighlight('[data-logo=\"navbar\"]');\r\n      }}\r\n    />\r\n  );\r\n}\r\nfunction SiteNameTextField() {\r\n  return (\r\n    <FormTextField\r\n      name=\"appearance.env.app_name\"\r\n      required\r\n      className=\"mt-20\"\r\n      label={<Trans message=\"Site name\" />}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SiteDescriptionTextArea() {\r\n  return (\r\n    <FormTextField\r\n      name=\"settings.branding.site_description\"\r\n      className=\"mt-20\"\r\n      inputElementType=\"textarea\"\r\n      rows={4}\r\n      label={<Trans message=\"Site description\" />}\r\n    />\r\n  );\r\n}\r\n","export function randomNumber(min: number = 1, max: number = 10000) {\r\n  const randomBuffer = new Uint32Array(1);\r\n\r\n  window.crypto.getRandomValues(randomBuffer);\r\n\r\n  const number = randomBuffer[0] / (0xffffffff + 1);\r\n\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(number * (max - min + 1)) + min;\r\n}\r\n","import {NavLink, useNavigate} from 'react-router-dom';\r\nimport {Fragment, useEffect} from 'react';\r\nimport {appearanceState, AppearanceValues} from '../../appearance-store';\r\nimport {AppearanceButton} from '../../appearance-button';\r\nimport {Button} from '../../../../ui/buttons/button';\r\nimport {AddIcon} from '../../../../icons/material/Add';\r\nimport {randomNumber} from '../../../../utils/string/random-number';\r\nimport {Trans} from '../../../../i18n/trans';\r\nimport {useFieldArray} from 'react-hook-form';\r\nimport {useTrans} from '../../../../i18n/use-trans';\r\nimport {message} from '../../../../i18n/message';\r\nimport {useBootstrapData} from '../../../../core/bootstrap-data/bootstrap-data-context';\r\n\r\nexport function ThemeList() {\r\n  const {trans} = useTrans();\r\n  const navigate = useNavigate();\r\n  const {\r\n    data: {themes},\r\n  } = useBootstrapData();\r\n  const {fields, append} = useFieldArray<\r\n    AppearanceValues,\r\n    'appearance.themes.all',\r\n    'key'\r\n  >({\r\n    name: 'appearance.themes.all',\r\n    keyName: 'key',\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (themes.selectedThemeId) {\r\n      appearanceState().preview.setActiveTheme(themes.selectedThemeId);\r\n    }\r\n  }, [themes.selectedThemeId]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"mb-20\">\r\n        <Button\r\n          size=\"xs\"\r\n          variant=\"outline\"\r\n          color=\"primary\"\r\n          startIcon={<AddIcon />}\r\n          onClick={() => {\r\n            const lightThemeColors =\r\n              appearanceState().defaults?.appearance.themes.light!;\r\n            append({\r\n              id: randomNumber(),\r\n              name: trans(message('New theme')),\r\n              values: lightThemeColors,\r\n            });\r\n            navigate(`${fields.length + 1}`);\r\n          }}\r\n        >\r\n          <Trans message=\"New theme\" />\r\n        </Button>\r\n      </div>\r\n      {fields.map((field, index) => (\r\n        <AppearanceButton key={field.key} to={`${index}`} elementType={NavLink}>\r\n          {field.name}\r\n        </AppearanceButton>\r\n      ))}\r\n    </Fragment>\r\n  );\r\n}\r\n","import React, {MutableRefObject, ReactNode, Suspense, useState} from 'react';\r\nimport {Dialog} from '../ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '../ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '../i18n/trans';\r\nimport {DialogBody} from '../ui/overlays/dialog/dialog-body';\r\nimport {ProgressCircle} from '../ui/progress/progress-circle';\r\nimport {useDialogContext} from '../ui/overlays/dialog/dialog-context';\r\nimport {DialogFooter} from '../ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '../ui/buttons/button';\r\nimport type ReactAce from 'react-ace';\r\n\r\nconst AceEditor = React.lazy(() => import('./ace-editor'));\r\n\r\ninterface TextEditorSourcecodeDialogProps {\r\n  defaultValue: string;\r\n  mode?: 'css' | 'html' | 'php_laravel_blade';\r\n  title: ReactNode;\r\n  onSave?: (value?: string) => void;\r\n  isSaving?: boolean;\r\n  footerStartAction?: ReactNode;\r\n  beautify?: boolean;\r\n  editorRef?: MutableRefObject<ReactAce | null>;\r\n}\r\nexport function AceDialog({\r\n  defaultValue,\r\n  mode = 'html',\r\n  title,\r\n  onSave,\r\n  isSaving,\r\n  footerStartAction,\r\n  beautify,\r\n  editorRef,\r\n}: TextEditorSourcecodeDialogProps) {\r\n  const [value, setValue] = useState(defaultValue);\r\n  const [isValid, setIsValid] = useState<boolean>(true);\r\n\r\n  return (\r\n    <Dialog size=\"fullscreen\" className=\"h-full w-full\">\r\n      <DialogHeader>{title}</DialogHeader>\r\n      <DialogBody className=\"relative flex-auto\" padding=\"p-0\">\r\n        <Suspense\r\n          fallback={\r\n            <div className=\"flex h-400 w-full items-center justify-center\">\r\n              <ProgressCircle\r\n                aria-label=\"Loading editor...\"\r\n                isIndeterminate\r\n                size=\"md\"\r\n              />\r\n            </div>\r\n          }\r\n        >\r\n          <AceEditor\r\n            beautify={beautify}\r\n            mode={mode}\r\n            onChange={newValue => setValue(newValue)}\r\n            defaultValue={value || ''}\r\n            onIsValidChange={setIsValid}\r\n            editorRef={editorRef}\r\n          />\r\n        </Suspense>\r\n      </DialogBody>\r\n      <Footer\r\n        disabled={!isValid || isSaving}\r\n        value={value}\r\n        onSave={onSave}\r\n        startAction={footerStartAction}\r\n      />\r\n    </Dialog>\r\n  );\r\n}\r\n\r\ninterface FooterProps {\r\n  disabled: boolean | undefined;\r\n  value?: string;\r\n  onSave?: (value?: string) => void;\r\n  startAction?: ReactNode;\r\n}\r\nfunction Footer({disabled, value, onSave, startAction}: FooterProps) {\r\n  const {close} = useDialogContext();\r\n  return (\r\n    <DialogFooter dividerTop startAction={startAction}>\r\n      <Button onClick={() => close()}>\r\n        <Trans message=\"Cancel\" />\r\n      </Button>\r\n      <Button\r\n        disabled={disabled}\r\n        variant=\"flat\"\r\n        color=\"primary\"\r\n        onClick={() => {\r\n          if (onSave) {\r\n            onSave(value);\r\n          } else {\r\n            close(value);\r\n          }\r\n        }}\r\n      >\r\n        <Trans message=\"Save\" />\r\n      </Button>\r\n    </DialogFooter>\r\n  );\r\n}\r\n","import {useQuery} from '@tanstack/react-query';\r\nimport {apiClient} from '@common/http/query-client';\r\n\r\nexport function useSeoTags(name: string | string[]) {\r\n  return useQuery({\r\n    queryKey: ['admin', 'seo-tags', name],\r\n    queryFn: () => fetchTags(name),\r\n  });\r\n}\r\n\r\nfunction fetchTags(name: string | string[]) {\r\n  return apiClient\r\n    .get<\r\n      Record<\r\n        string,\r\n        {\r\n          custom: string | null;\r\n          original: string;\r\n        }\r\n      >\r\n    >(`admin/appearance/seo-tags/${name}`)\r\n    .then(response => response.data);\r\n}\r\n","import {useMutation, useQueryClient} from '@tanstack/react-query';\r\nimport {apiClient} from '@common/http/query-client';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {message} from '@common/i18n/message';\r\n\r\ninterface Response extends BackendResponse {}\r\n\r\nexport function useUpdateSeoTags(name: string) {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: (payload: {tags: string}) => updateTags(name, payload.tags),\r\n    onSuccess: async () => {\r\n      await queryClient.invalidateQueries({\r\n        queryKey: ['admin', 'seo-tags', name],\r\n      });\r\n      toast(message('Updated SEO tags'));\r\n    },\r\n    onError: err => showHttpErrorToast(err),\r\n  });\r\n}\r\n\r\nfunction updateTags(name: string, tags: string): Promise<Response> {\r\n  return apiClient\r\n    .put(`admin/appearance/seo-tags/${name}`, {tags})\r\n    .then(r => r.data);\r\n}\r\n","import {Fragment, useRef} from 'react';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\r\nimport {AppearanceButton} from '@common/admin/appearance/appearance-button';\r\nimport {AceDialog} from '@common/ace-editor/ace-dialog';\r\nimport mergedAppearanceConfig from '@common/admin/appearance/config/merged-appearance-config';\r\nimport {SeoSettingsSectionConfig} from '@common/admin/appearance/types/appearance-editor-config';\r\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\r\nimport {useSeoTags} from '@common/admin/appearance/sections/seo/use-seo-tags';\r\nimport {useUpdateSeoTags} from '@common/admin/appearance/sections/seo/use-update-seo-tags';\r\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\r\nimport {FullPageLoader} from '@common/ui/progress/full-page-loader';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport type ReactAce from 'react-ace';\r\n\r\nconst pages =\r\n  (\r\n    mergedAppearanceConfig.sections['seo-settings']\r\n      .config as SeoSettingsSectionConfig\r\n  )?.pages || [];\r\n\r\nconst names = pages.map(page => page.key);\r\n\r\nexport function SeoSection() {\r\n  const {isLoading} = useSeoTags(names);\r\n\r\n  if (isLoading) {\r\n    return <FullPageLoader />;\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      {pages.map(page => (\r\n        <TagEditorTrigger key={page.key} label={page.label} name={page.key} />\r\n      ))}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface TagEditorTriggerProps {\r\n  label: MessageDescriptor;\r\n  name: string;\r\n}\r\nfunction TagEditorTrigger({label, name}: TagEditorTriggerProps) {\r\n  const {data, isLoading} = useSeoTags(names);\r\n\r\n  return (\r\n    <DialogTrigger type=\"modal\">\r\n      <AppearanceButton disabled={isLoading}>\r\n        <Trans {...label} />\r\n      </AppearanceButton>\r\n      {data ? <TagsEditorDialog name={name} value={data[name]} /> : null}\r\n    </DialogTrigger>\r\n  );\r\n}\r\n\r\ninterface TagsEditorDialogProps {\r\n  name: string;\r\n  value: {custom: string | null; original: string};\r\n}\r\nfunction TagsEditorDialog({name, value}: TagsEditorDialogProps) {\r\n  const {close} = useDialogContext();\r\n  const updateTags = useUpdateSeoTags(name);\r\n  const editorRef = useRef<ReactAce | null>(null);\r\n\r\n  const resetButton = (\r\n    <Button\r\n      variant=\"outline\"\r\n      color=\"primary\"\r\n      onClick={() => {\r\n        if (editorRef.current) {\r\n          editorRef.current.editor.setValue(value.original);\r\n        }\r\n      }}\r\n    >\r\n      <Trans message=\"Reset to original\" />\r\n    </Button>\r\n  );\r\n\r\n  return (\r\n    <AceDialog\r\n      mode=\"php_laravel_blade\"\r\n      title={<Trans message=\"Edit SEO meta tags\" />}\r\n      footerStartAction={resetButton}\r\n      editorRef={editorRef}\r\n      defaultValue={value.custom || value.original}\r\n      isSaving={updateTags.isPending}\r\n      beautify={false}\r\n      onSave={newValue => {\r\n        if (newValue != null) {\r\n          updateTags.mutate(\r\n            {tags: newValue},\r\n            {\r\n              onSuccess: () => close(),\r\n            },\r\n          );\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import {AppearanceButton} from '@common/admin/appearance/appearance-button';\r\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport {\r\n  appearanceState,\r\n  AppearanceValues,\r\n} from '@common/admin/appearance/appearance-store';\r\nimport {AceDialog} from '@common/ace-editor/ace-dialog';\r\nimport {Fragment} from 'react';\r\n\r\nexport function CustomCodeSection() {\r\n  return (\r\n    <Fragment>\r\n      <CustomCodeDialogTrigger mode=\"css\" />\r\n      <CustomCodeDialogTrigger mode=\"html\" />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface CustomCodeDialogTriggerProps {\r\n  mode: 'html' | 'css';\r\n}\r\nfunction CustomCodeDialogTrigger({mode}: CustomCodeDialogTriggerProps) {\r\n  const {getValues} = useFormContext<AppearanceValues>();\r\n  const {setValue} = useFormContext<AppearanceValues>();\r\n\r\n  const title =\r\n    mode === 'html' ? (\r\n      <Trans message=\"Custom HTML & JavaScript\" />\r\n    ) : (\r\n      <Trans message=\"Custom CSS\" />\r\n    );\r\n\r\n  return (\r\n    <DialogTrigger\r\n      type=\"modal\"\r\n      onClose={newValue => {\r\n        if (newValue != null) {\r\n          setValue(`appearance.custom_code.${mode}`, newValue, {\r\n            shouldDirty: true,\r\n          });\r\n          appearanceState().preview.setCustomCode(mode, newValue);\r\n        }\r\n      }}\r\n    >\r\n      <AppearanceButton>{title}</AppearanceButton>\r\n      <AceDialog\r\n        title={title}\r\n        defaultValue={getValues(`appearance.custom_code.${mode}`) || ''}\r\n        mode={mode}\r\n      />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n","export default \"__VITE_ASSET__8acde003__\"","import {\r\n  BackendFilter,\r\n  FilterControlType,\r\n  FilterOperator,\r\n} from '../../datatable/filters/backend-filter';\r\nimport {message} from '../../i18n/message';\r\nimport {USER_MODEL} from '../../auth/user';\r\nimport {SiteConfigContextValue} from '@common/core/settings/site-config-context';\r\nimport {\r\n  createdAtFilter,\r\n  updatedAtFilter,\r\n} from '@common/datatable/filters/timestamp-filters';\r\n\r\nexport const CustomPageDatatableFilters = (\r\n  config: SiteConfigContextValue\r\n): BackendFilter[] => {\r\n  const dynamicFilters: BackendFilter[] =\r\n    config.customPages.types.length > 1\r\n      ? [\r\n          {\r\n            control: {\r\n              type: FilterControlType.Select,\r\n              defaultValue: 'default',\r\n              options: config.customPages.types.map(type => ({\r\n                value: type.type,\r\n                label: type.label,\r\n                key: type.type,\r\n              })),\r\n            },\r\n\r\n            key: 'type',\r\n            label: message('Type'),\r\n            description: message('Type of the page'),\r\n            defaultOperator: FilterOperator.eq,\r\n          },\r\n        ]\r\n      : [];\r\n\r\n  return [\r\n    {\r\n      key: 'user_id',\r\n      label: message('User'),\r\n      description: message('User page was created by'),\r\n      defaultOperator: FilterOperator.eq,\r\n      control: {\r\n        type: FilterControlType.SelectModel,\r\n        model: USER_MODEL,\r\n      },\r\n    },\r\n    ...dynamicFilters,\r\n    createdAtFilter({\r\n      description: message('Date page was created'),\r\n    }),\r\n    updatedAtFilter({\r\n      description: message('Date page was last updated'),\r\n    }),\r\n  ];\r\n};\r\n","import {ColumnConfig} from '@common/datatable/column-config';\r\nimport {CustomPage} from '@common/admin/custom-pages/custom-page';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {Link} from 'react-router-dom';\r\nimport {LinkStyle} from '@common/ui/buttons/external-link';\r\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\r\nimport {FormattedDate} from '@common/i18n/formatted-date';\r\nimport React from 'react';\r\nimport {IconButton} from '@common/ui/buttons/icon-button';\r\nimport {EditIcon} from '@common/icons/material/Edit';\r\n\r\nexport const CustomPageDatatableColumns: ColumnConfig<CustomPage>[] = [\r\n  {\r\n    key: 'slug',\r\n    allowsSorting: true,\r\n    width: 'flex-2 min-w-200',\r\n    visibleInMode: 'all',\r\n    header: () => <Trans message=\"Slug\" />,\r\n    body: page => (\r\n      <Link target=\"_blank\" to={`/pages/${page.slug}`} className={LinkStyle}>\r\n        {page.slug}\r\n      </Link>\r\n    ),\r\n  },\r\n  {\r\n    key: 'user_id',\r\n    allowsSorting: true,\r\n    width: 'flex-2 min-w-140',\r\n    header: () => <Trans message=\"Owner\" />,\r\n    body: page =>\r\n      page.user && (\r\n        <NameWithAvatar\r\n          image={page.user.avatar}\r\n          label={page.user.display_name}\r\n          description={page.user.email}\r\n        />\r\n      ),\r\n  },\r\n  {\r\n    key: 'type',\r\n    maxWidth: 'max-w-100',\r\n    header: () => <Trans message=\"Type\" />,\r\n    body: page => <Trans message={page.type} />,\r\n  },\r\n  {\r\n    key: 'updated_at',\r\n    allowsSorting: true,\r\n    width: 'w-100',\r\n    header: () => <Trans message=\"Last updated\" />,\r\n    body: page => <FormattedDate date={page.updated_at} />,\r\n  },\r\n  {\r\n    key: 'actions',\r\n    header: () => <Trans message=\"Actions\" />,\r\n    hideHeader: true,\r\n    align: 'end',\r\n    width: 'w-84 flex-shrink-0',\r\n    visibleInMode: 'all',\r\n    body: page => (\r\n      <IconButton\r\n        size=\"md\"\r\n        className=\"text-muted\"\r\n        elementType={Link}\r\n        to={`${page.id}/edit`}\r\n      >\r\n        <EditIcon />\r\n      </IconButton>\r\n    ),\r\n  },\r\n];\r\n","import React, {useContext, useMemo} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {DataTablePage} from '../../datatable/page/data-table-page';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\r\nimport articlesSvg from './articles.svg';\r\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\r\nimport {CustomPageDatatableFilters} from './custom-page-datatable-filters';\r\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\r\nimport {CustomPageDatatableColumns} from '@common/admin/custom-pages/custom-page-datatable-columns';\r\nimport {SiteConfigContext} from '@common/core/settings/site-config-context';\r\n\r\nexport function CustomPageDatablePage() {\r\n  const config = useContext(SiteConfigContext);\r\n  const filters = useMemo(() => {\r\n    return CustomPageDatatableFilters(config);\r\n  }, [config]);\r\n\r\n  return (\r\n    <DataTablePage\r\n      endpoint=\"custom-pages\"\r\n      title={<Trans message=\"Custom pages\" />}\r\n      filters={filters}\r\n      columns={CustomPageDatatableColumns}\r\n      queryParams={{with: 'user'}}\r\n      actions={<Actions />}\r\n      selectedActions={<DeleteSelectedItemsAction />}\r\n      emptyStateMessage={\r\n        <DataTableEmptyStateMessage\r\n          image={articlesSvg}\r\n          title={<Trans message=\"No pages have been created yet\" />}\r\n          filteringTitle={<Trans message=\"No matching pages\" />}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction Actions() {\r\n  return (\r\n    <DataTableAddItemButton elementType={Link} to=\"new\">\r\n      <Trans message=\"New page\" />\r\n    </DataTableAddItemButton>\r\n  );\r\n}\r\n","import {message} from '@common/i18n/message';\r\nimport {SettingsNavItem} from '@common/admin/settings/settings-nav-config';\r\n\r\nexport const AppSettingsNavConfig: SettingsNavItem[] = [\r\n  {label: message('Drive'), to: 'drive'},\r\n];\r\n","import {AppSettingsNavConfig} from '@app/admin/settings/app-settings-nav-config';\r\nimport {message} from '../../i18n/message';\r\nimport {MessageDescriptor} from '../../i18n/message-descriptor';\r\nimport {To} from 'react-router-dom';\r\nimport {getBootstrapData} from '@common/core/bootstrap-data/use-backend-bootstrap-data';\r\n\r\nexport interface SettingsNavItem {\r\n  label: MessageDescriptor;\r\n  to: To;\r\n}\r\n\r\nconst filteredSettingsNavConfig: (SettingsNavItem | false)[] = [\r\n  {label: message('General'), to: 'general'},\r\n  ...AppSettingsNavConfig,\r\n  getBootstrapData().settings.billing.integrated && {\r\n    label: message('Subscriptions'),\r\n    to: 'subscriptions',\r\n  },\r\n  {label: message('Localization'), to: 'localization'},\r\n  {\r\n    label: message('Authentication'),\r\n    to: 'authentication',\r\n  },\r\n  {label: message('Uploading'), to: 'uploading'},\r\n  {label: message('Outgoing email'), to: 'outgoing-email'},\r\n  {label: message('Cache'), to: 'cache'},\r\n  {label: message('Analytics'), to: 'analytics'},\r\n  {label: message('Logging'), to: 'logging'},\r\n  {label: message('Queue'), to: 'queue'},\r\n  {label: message('Recaptcha'), to: 'recaptcha'},\r\n  {label: message('GDPR'), to: 'gdpr'},\r\n  {\r\n    label: message('Menus'),\r\n    to: '/admin/appearance/menus',\r\n  },\r\n  {\r\n    label: message('Seo'),\r\n    to: '/admin/appearance/seo-settings',\r\n  },\r\n  {\r\n    label: message('Themes'),\r\n    to: '/admin/appearance/themes',\r\n  },\r\n].filter(Boolean);\r\n\r\nexport const SettingsNavConfig = filteredSettingsNavConfig as SettingsNavItem[];\r\n","import clsx from 'clsx';\r\nimport {NavLink, Outlet, useLocation, useNavigate} from 'react-router-dom';\r\nimport {SettingsNavConfig} from './settings-nav-config';\r\nimport {useIsMobileMediaQuery} from '../../utils/hooks/is-mobile-media-query';\r\nimport {Option, Select} from '../../ui/forms/select/select';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {StaticPageTitle} from '../../seo/static-page-title';\r\n\r\ninterface Props {\r\n  className?: string;\r\n}\r\nexport function SettingsLayout({className}: Props) {\r\n  const isMobile = useIsMobileMediaQuery();\r\n  return (\r\n    <div\r\n      className={clsx(\r\n        className,\r\n        'container mx-auto min-h-full items-start gap-30 p-24 md:flex',\r\n      )}\r\n    >\r\n      <StaticPageTitle>\r\n        <Trans message=\"Settings\" />\r\n      </StaticPageTitle>\r\n      {isMobile ? <MobileNav /> : <DesktopNav />}\r\n      <div className=\"relative max-w-500 flex-auto md:px-30\">\r\n        <Outlet />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MobileNav() {\r\n  const {pathname} = useLocation();\r\n  const navigate = useNavigate();\r\n  const value = pathname.split('/').pop();\r\n\r\n  return (\r\n    <Select\r\n      minWidth=\"min-w-none\"\r\n      className=\"mb-24 w-full bg\"\r\n      selectionMode=\"single\"\r\n      selectedValue={value}\r\n      onSelectionChange={newPage => {\r\n        navigate(newPage as string);\r\n      }}\r\n    >\r\n      {SettingsNavConfig.map(item => (\r\n        <Option key={item.to as string} value={item.to}>\r\n          <Trans {...item.label} />\r\n        </Option>\r\n      ))}\r\n    </Select>\r\n  );\r\n}\r\n\r\nfunction DesktopNav() {\r\n  return (\r\n    <div className=\"sticky top-24 w-240 flex-shrink-0\">\r\n      {SettingsNavConfig.map(item => (\r\n        <NavLink\r\n          key={item.to as string}\r\n          to={item.to}\r\n          className={({isActive}) =>\r\n            clsx(\r\n              'mb-8 block whitespace-nowrap rounded-button p-14 text-sm transition-bg-color',\r\n              isActive\r\n                ? 'bg-primary/6 font-semibold text-primary'\r\n                : 'hover:bg-hover',\r\n            )\r\n          }\r\n        >\r\n          <Trans {...item.label} />\r\n        </NavLink>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import {useQuery} from '@tanstack/react-query';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {AdminSettings} from '../admin-settings';\r\nimport {apiClient} from '@common/http/query-client';\r\n\r\nexport interface FetchAdminSettingsResponse\r\n  extends BackendResponse,\r\n    AdminSettings {}\r\n\r\nexport function useAdminSettings() {\r\n  return useQuery({\r\n    queryKey: ['fetchAdminSettings'],\r\n    queryFn: () => fetchAdminSettings(),\r\n    // prevent automatic re-fetching so diffing with previous settings work properly\r\n    staleTime: Infinity,\r\n  });\r\n}\r\n\r\nfunction fetchAdminSettings(): Promise<FetchAdminSettingsResponse> {\r\n  return apiClient.get('settings').then(response => response.data);\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {BackendResponse} from '../../http/backend-response/backend-response';\r\nimport {toast} from '../../ui/toast/toast';\r\nimport {message} from '../../i18n/message';\r\nimport {apiClient} from '../../http/query-client';\r\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\r\n\r\ninterface Response extends BackendResponse {}\r\n\r\nfunction GenerateSitemap(): Promise<Response> {\r\n  return apiClient.post('sitemap/generate').then(r => r.data);\r\n}\r\n\r\nexport function useGenerateSitemap() {\r\n  return useMutation({\r\n    mutationFn: () => GenerateSitemap(),\r\n    onSuccess: () => {\r\n      toast(message('Sitemap generated'));\r\n    },\r\n    onError: err => showHttpErrorToast(err),\r\n  });\r\n}\r\n","export const isDate = d => d instanceof Date;\nexport const isEmpty = o => Object.keys(o).length === 0;\nexport const isObject = o => o != null && typeof o === 'object';\nexport const hasOwnProperty = (o, ...args) => Object.prototype.hasOwnProperty.call(o, ...args)\nexport const isEmptyObject = (o) => isObject(o) && isEmpty(o);\nexport const makeObjectWithoutPrototype = () => Object.create(null);\n","import { isDate, isEmptyObject, isObject, hasOwnProperty, makeObjectWithoutPrototype } from './utils.js';\n\nconst diff = (lhs, rhs) => {\n  if (lhs === rhs) return {}; // equal return no diff\n\n  if (!isObject(lhs) || !isObject(rhs)) return rhs; // return updated rhs\n\n  const deletedValues = Object.keys(lhs).reduce((acc, key) => {\n    if (!hasOwnProperty(rhs, key)) {\n      acc[key] = undefined;\n      \n    }\n\n    return acc;\n  }, makeObjectWithoutPrototype());\n\n  if (isDate(lhs) || isDate(rhs)) {\n    if (lhs.valueOf() == rhs.valueOf()) return {};\n    return rhs;\n  }\n\n  return Object.keys(rhs).reduce((acc, key) => {\n    if (!hasOwnProperty(lhs, key)){\n      acc[key] = rhs[key]; // return added r key\n      return acc;\n    } \n\n    const difference = diff(lhs[key], rhs[key]);\n\n    // If the difference is empty, and the lhs is an empty object or the rhs is not an empty object\n    if (isEmptyObject(difference) && !isDate(difference) && (isEmptyObject(lhs[key]) || !isEmptyObject(rhs[key])))\n      return acc; // return no diff\n\n    acc[key] = difference // return updated key\n    return acc; // return updated key\n  }, deletedValues);\n};\n\nexport default diff;\n","import {useMutation} from '@tanstack/react-query';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {diff} from 'deep-object-diff';\r\nimport dot from 'dot-object';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {AdminSettings} from '@common/admin/settings/admin-settings';\r\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\r\nimport {useAdminSettings} from '@common/admin/settings/requests/use-admin-settings';\r\nimport {message} from '@common/i18n/message';\r\n\r\ninterface Response extends BackendResponse {}\r\n\r\nexport interface AdminSettingsWithFiles {\r\n  files?: Record<string, File>;\r\n  client?: Partial<AdminSettings['client']>;\r\n  server?: Partial<AdminSettings['server']>;\r\n}\r\n\r\nexport function useUpdateAdminSettings(\r\n  form: UseFormReturn<AdminSettingsWithFiles>,\r\n) {\r\n  const {data: original} = useAdminSettings();\r\n\r\n  return useMutation({\r\n    mutationFn: (props: AdminSettingsWithFiles) => {\r\n      //need to convert these to json, otherwise only single key from object would be sent due to diffing\r\n      if (props.client?.cookie_notice?.button) {\r\n        props.client.cookie_notice.button = JSON.stringify(\r\n          props.client.cookie_notice.button,\r\n        ) as any;\r\n      }\r\n      if (props.client?.registration?.policies) {\r\n        props.client.registration.policies = JSON.stringify(\r\n          props.client.registration.policies,\r\n        ) as any;\r\n      }\r\n      if ((props.client as any)?.artistPage?.tabs) {\r\n        (props.client as any).artistPage.tabs = JSON.stringify(\r\n          (props.client as any).artistPage.tabs,\r\n        ) as any;\r\n      }\r\n      if ((props.client as any)?.title_page?.sections) {\r\n        (props.client as any).title_page.sections = JSON.stringify(\r\n          (props.client as any).title_page.sections,\r\n        ) as any;\r\n      }\r\n      if ((props.client as any)?.incoming_email) {\r\n        (props.client as any).incoming_email = JSON.stringify(\r\n          (props.client as any).incoming_email,\r\n        ) as any;\r\n      }\r\n      if ((props.client as any)?.publish?.default_credentials) {\r\n        (props.client as any).publish.default_credentials = JSON.stringify(\r\n          (props.client as any).publish.default_credentials,\r\n        ) as any;\r\n      }\r\n\r\n      const client = props.client ? diff(original!.client, props.client) : null;\r\n      const server = props.server ? diff(original!.server, props.server) : null;\r\n      return updateAdminSettings({\r\n        client,\r\n        server,\r\n        files: props.files,\r\n      } as AdminSettings);\r\n    },\r\n    onSuccess: () => {\r\n      toast(message('Settings updated'), {\r\n        position: 'bottom-right',\r\n      });\r\n      queryClient.invalidateQueries({queryKey: ['fetchAdminSettings']});\r\n    },\r\n    onError: r => onFormQueryError(r, form),\r\n  });\r\n}\r\n\r\nfunction updateAdminSettings({\r\n  client,\r\n  server,\r\n  files,\r\n}: AdminSettingsWithFiles): Promise<Response> {\r\n  const formData = new FormData();\r\n  if (client) {\r\n    formData.set('client', JSON.stringify(dot.dot(client)));\r\n  }\r\n  if (server) {\r\n    formData.set('server', JSON.stringify(dot.dot(server)));\r\n  }\r\n  Object.entries(files || {}).forEach(([key, file]) => {\r\n    formData.set(key, file);\r\n  });\r\n  return apiClient\r\n    .post('settings', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    })\r\n    .then(r => r.data);\r\n}\r\n","import {FieldErrors, useForm} from 'react-hook-form';\r\nimport {Fragment, ReactNode} from 'react';\r\nimport {\r\n  AdminSettingsWithFiles,\r\n  useUpdateAdminSettings,\r\n} from './requests/update-admin-settings';\r\nimport {AdminSettings} from './admin-settings';\r\nimport {useAdminSettings} from './requests/use-admin-settings';\r\nimport {Form} from '../../ui/forms/form';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {ProgressCircle} from '../../ui/progress/progress-circle';\r\nimport {ProgressBar} from '../../ui/progress/progress-bar';\r\nimport {Trans} from '../../i18n/trans';\r\n\r\ninterface Props {\r\n  title: ReactNode;\r\n  description: ReactNode;\r\n  children: ReactNode;\r\n  transformValues?: (values: AdminSettingsWithFiles) => AdminSettingsWithFiles;\r\n}\r\nexport function SettingsPanel({\r\n  title,\r\n  description,\r\n  children,\r\n  transformValues,\r\n}: Props) {\r\n  const {data} = useAdminSettings();\r\n\r\n  return (\r\n    <section>\r\n      <div className=\"mb-40\">\r\n        <h2 className=\"mb-4 text-xl\">{title}</h2>\r\n        <div className=\"text-sm text-muted\">{description}</div>\r\n      </div>\r\n      {data ? (\r\n        <FormWrapper defaultValues={data} transformValues={transformValues}>\r\n          {children}\r\n        </FormWrapper>\r\n      ) : (\r\n        <ProgressCircle isIndeterminate aria-label=\"Loading settings...\" />\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\ninterface FormWrapperProps {\r\n  children: ReactNode;\r\n  defaultValues: AdminSettings;\r\n  transformValues?: (values: AdminSettingsWithFiles) => AdminSettingsWithFiles;\r\n}\r\nfunction FormWrapper({\r\n  children,\r\n  defaultValues,\r\n  transformValues,\r\n}: FormWrapperProps) {\r\n  const form = useForm<AdminSettingsWithFiles>({defaultValues});\r\n  const updateSettings = useUpdateAdminSettings(form);\r\n  return (\r\n    <Fragment>\r\n      <Form\r\n        form={form}\r\n        onBeforeSubmit={() => {\r\n          // clear group errors, because hook form won't automatically\r\n          // clear errors that are not bound to a specific form field\r\n          const errors = form.formState.errors as FieldErrors<object>;\r\n          const keys = Object.keys(errors).filter(key => {\r\n            return key.endsWith('_group');\r\n          });\r\n          form.clearErrors(keys as any);\r\n        }}\r\n        onSubmit={value => {\r\n          value = transformValues ? transformValues(value) : value;\r\n          updateSettings.mutate(value);\r\n        }}\r\n      >\r\n        {children}\r\n        <div className=\"mt-40\">\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"flat\"\r\n            color=\"primary\"\r\n            disabled={updateSettings.isPending}\r\n          >\r\n            <Trans message=\"Update\" />\r\n          </Button>\r\n        </div>\r\n      </Form>\r\n      {updateSettings.isPending && (\r\n        <ProgressBar\r\n          size=\"xs\"\r\n          className=\"absolute -bottom-14 left-30 w-full\"\r\n          isIndeterminate\r\n          aria-label=\"Saving settings...\"\r\n        />\r\n      )}\r\n    </Fragment>\r\n  );\r\n}\r\n","export function SettingsSeparator() {\r\n  return <div className=\"h-1 bg-divider my-30\" />;\r\n}\r\n","import clsx from 'clsx';\r\nimport {LinkIcon} from '../../icons/material/Link';\r\nimport {ExternalLink} from '../../ui/buttons/external-link';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {useSettings} from '../../core/settings/use-settings';\r\n\r\ninterface LearnMoreLinkProps {\r\n  link: string;\r\n  className?: string;\r\n}\r\nexport function LearnMoreLink({link, className}: LearnMoreLinkProps) {\r\n  const {site} = useSettings();\r\n  if (site.hide_docs_button) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className={clsx('flex items-center gap-8', className)}>\r\n      <LinkIcon size=\"sm\" />\r\n      <ExternalLink href={link}>\r\n        <Trans message=\"Learn more\" />\r\n      </ExternalLink>\r\n    </div>\r\n  );\r\n}\r\n","import {useAdminSettings} from '../requests/use-admin-settings';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {FormSelect, Option} from '../../../ui/forms/select/select';\r\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {useGenerateSitemap} from '../generate-sitemap';\r\nimport {ExternalLink} from '@common/ui/buttons/external-link';\r\nimport {SettingsPanel} from '../settings-panel';\r\nimport {SettingsSeparator} from '../settings-separator';\r\nimport {LearnMoreLink} from '../learn-more-link';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {Fragment, useContext} from 'react';\r\nimport {SiteConfigContext} from '@common/core/settings/site-config-context';\r\nimport {useSettings} from '@common/core/settings/use-settings';\r\nimport {useBootstrapData} from '@common/core/bootstrap-data/bootstrap-data-context';\r\nimport {useValueLists} from '@common/http/value-lists';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport {AdminSettingsWithFiles} from '@common/admin/settings/requests/update-admin-settings';\r\n\r\nexport function GeneralSettings() {\r\n  return (\r\n    <SettingsPanel\r\n      title={<Trans message=\"General\" />}\r\n      description={\r\n        <Trans message=\"Configure site url, homepage, theme and other general settings.\" />\r\n      }\r\n    >\r\n      <SiteUrlSection />\r\n      <SettingsSeparator />\r\n      <HomepageSection />\r\n      <SettingsSeparator />\r\n      <ThemeSection />\r\n      <SettingsSeparator />\r\n      <SitemapSection />\r\n    </SettingsPanel>\r\n  );\r\n}\r\n\r\nfunction SiteUrlSection() {\r\n  const {data} = useAdminSettings();\r\n\r\n  if (!data) return null;\r\n\r\n  let append = null;\r\n  const server = data!.server;\r\n  const isInvalid = server.newAppUrl && server.newAppUrl !== server.app_url;\r\n  if (isInvalid) {\r\n    append = (\r\n      <div className=\"mt-20 text-sm text-danger\">\r\n        <Trans\r\n          values={{\r\n            baseUrl: server.app_url,\r\n            currentUrl: server.newAppUrl,\r\n            b: chunks => <b>{chunks}</b>,\r\n          }}\r\n          message=\"Base site url is set as <b>:baseUrl</b> in configuration, but current url is <b>:currentUrl</b>. It is recommended to set the primary url you want to use in configuration file and then redirect all other url versions to this primary version via cpanel or .htaccess file.\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <FormTextField\r\n        invalid={!!isInvalid}\r\n        name=\"server.app_url\"\r\n        label={<Trans message=\"Primary site url\" />}\r\n        description={\r\n          <LearnMoreLink link=\"https://support.vebto.com/help-center/articles/35/primary-site-url\" />\r\n        }\r\n      />\r\n      {append}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction HomepageSection() {\r\n  const {watch} = useFormContext<AdminSettingsWithFiles>();\r\n  const {homepage} = useContext(SiteConfigContext);\r\n  const {data} = useValueLists(['menuItemCategories']);\r\n  const selectedType = watch('client.homepage.type');\r\n\r\n  return (\r\n    <div>\r\n      <FormSelect\r\n        name=\"client.homepage.type\"\r\n        selectionMode=\"single\"\r\n        label={<Trans message=\"Site home page\" />}\r\n        description={\r\n          <Trans message=\"Which page should be used as site homepage.\" />\r\n        }\r\n      >\r\n        {homepage.options.map(option => (\r\n          <Option key={option.value} value={option.value}>\r\n            <Trans {...option.label} />\r\n          </Option>\r\n        ))}\r\n        {data?.menuItemCategories?.map(category => (\r\n          <Option key={category.type} value={category.type}>\r\n            {category.name}\r\n          </Option>\r\n        ))}\r\n      </FormSelect>\r\n      {data?.menuItemCategories?.map(category => {\r\n        return selectedType === category.type ? (\r\n          <FormSelect\r\n            className=\"mt-24\"\r\n            name=\"client.homepage.value\"\r\n            key={category.name}\r\n            selectionMode=\"single\"\r\n            label={\r\n              <Trans message=\"Homepage :name\" values={{name: category.name}} />\r\n            }\r\n          >\r\n            {category.items.map(item => (\r\n              <Option key={item.label} value={item.model_id}>\r\n                {item.label}\r\n              </Option>\r\n            ))}\r\n          </FormSelect>\r\n        ) : null;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ThemeSection() {\r\n  const {\r\n    data: {themes},\r\n  } = useBootstrapData();\r\n  return (\r\n    <Fragment>\r\n      <FormSelect\r\n        className=\"mb-20\"\r\n        name=\"client.themes.default_id\"\r\n        selectionMode=\"single\"\r\n        label={<Trans message=\"Default site theme\" />}\r\n        description={\r\n          <Trans message=\"Which theme to use for users that have not chosen a theme manually.\" />\r\n        }\r\n      >\r\n        <Option value={0}>\r\n          <Trans message=\"System\" />\r\n        </Option>\r\n        {themes.all.map(theme => (\r\n          <Option key={theme.id} value={theme.id}>\r\n            {theme.name}\r\n          </Option>\r\n        ))}\r\n      </FormSelect>\r\n      <FormSwitch\r\n        name=\"client.themes.user_change\"\r\n        description={\r\n          <Trans message=\"Allow users to manually change site theme.\" />\r\n        }\r\n      >\r\n        <Trans message=\"Allow theme change\" />\r\n      </FormSwitch>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction SitemapSection() {\r\n  const generateSitemap = useGenerateSitemap();\r\n  const {base_url} = useSettings();\r\n\r\n  const url = `${base_url}/storage/sitemaps/sitemap-index.xml`;\r\n  const link = <ExternalLink href={url}>{url}</ExternalLink>;\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        variant=\"outline\"\r\n        size=\"xs\"\r\n        color=\"primary\"\r\n        disabled={generateSitemap.isPending}\r\n        onClick={() => {\r\n          generateSitemap.mutate();\r\n        }}\r\n      >\r\n        <Trans message=\"Generate sitemap\" />\r\n      </Button>\r\n      <div className=\"mt-14 text-sm text-muted\">\r\n        <Trans\r\n          message=\"Once generated, sitemap url will be: :url\"\r\n          values={{\r\n            url: link,\r\n          }}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import {parseColor} from '@react-stately/color';\r\n\r\nexport function colorToThemeValue(color: string): string {\r\n  return parseColor(color)\r\n    .toString('rgb')\r\n    .replace('rgb(', '')\r\n    .replace(')', '')\r\n    .replace(/, ?/g, ' ');\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const TuneIcon = createSvgIcon(\r\n  <path d=\"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z\" />\r\n, 'TuneOutlined');\r\n","import {useForm, useFormContext} from 'react-hook-form';\r\nimport {useEffect} from 'react';\r\nimport {TuneIcon} from '../../../../icons/material/Tune';\r\nimport {Button} from '../../../../ui/buttons/button';\r\nimport {CssTheme} from '../../../../ui/themes/css-theme';\r\nimport {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\r\nimport {FormSwitch} from '../../../../ui/forms/toggle/switch';\r\nimport {AppearanceValues} from '../../appearance-store';\r\nimport {DialogTrigger} from '../../../../ui/overlays/dialog/dialog-trigger';\r\nimport {DialogFooter} from '../../../../ui/overlays/dialog/dialog-footer';\r\nimport {useDialogContext} from '../../../../ui/overlays/dialog/dialog-context';\r\nimport {Dialog} from '../../../../ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '../../../../ui/overlays/dialog/dialog-header';\r\nimport {DialogBody} from '../../../../ui/overlays/dialog/dialog-body';\r\nimport {Trans} from '../../../../i18n/trans';\r\nimport {Form} from '../../../../ui/forms/form';\r\nimport {useParams} from 'react-router-dom';\r\n\r\nexport function ThemeSettingsDialogTrigger() {\r\n  const {getValues, setValue} = useFormContext<AppearanceValues>();\r\n  const {themeIndex} = useParams();\r\n  const theme = getValues(`appearance.themes.all.${+themeIndex!}`);\r\n\r\n  return (\r\n    <DialogTrigger\r\n      type=\"modal\"\r\n      onClose={(value?: CssTheme) => {\r\n        if (!value) return;\r\n\r\n        getValues('appearance.themes.all').forEach((currentTheme, index) => {\r\n          // update changed theme\r\n          if (currentTheme.id === value.id) {\r\n            setValue(`appearance.themes.all.${index}`, value, {\r\n              shouldDirty: true,\r\n            });\r\n            return;\r\n          }\r\n\r\n          // unset \"default_light\" and \"default_dark\" on other themes\r\n          if (value.default_light) {\r\n            setValue(\r\n              `appearance.themes.all.${index}`,\r\n              {...currentTheme, default_light: false},\r\n              {shouldDirty: true}\r\n            );\r\n            return;\r\n          }\r\n          if (value.default_dark) {\r\n            setValue(\r\n              `appearance.themes.all.${index}`,\r\n              {...currentTheme, default_dark: false},\r\n              {shouldDirty: true}\r\n            );\r\n            return;\r\n          }\r\n        });\r\n      }}\r\n    >\r\n      <Button\r\n        size=\"xs\"\r\n        variant=\"outline\"\r\n        color=\"primary\"\r\n        startIcon={<TuneIcon />}\r\n      >\r\n        <Trans message=\"Settings\" />\r\n      </Button>\r\n      <SettingsDialog theme={theme} />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n\r\ninterface SettingsDialogProps {\r\n  theme: CssTheme;\r\n}\r\nfunction SettingsDialog({theme}: SettingsDialogProps) {\r\n  const form = useForm<CssTheme>({defaultValues: theme});\r\n  const {close, formId} = useDialogContext();\r\n\r\n  useEffect(() => {\r\n    const subscription = form.watch((value, {name}) => {\r\n      // theme can only be set as either light or dark default\r\n      if (name === 'default_light' && value.default_light) {\r\n        form.setValue('default_dark', false);\r\n      }\r\n      if (name === 'default_dark' && value.default_dark) {\r\n        form.setValue('default_light', false);\r\n      }\r\n    });\r\n    return () => subscription.unsubscribe();\r\n  }, [form]);\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Update settings\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <Form\r\n          form={form}\r\n          id={formId}\r\n          onSubmit={values => {\r\n            close(values);\r\n          }}\r\n        >\r\n          <FormTextField\r\n            name=\"name\"\r\n            label={<Trans message=\"Name\" />}\r\n            className=\"mb-30\"\r\n            autoFocus\r\n          />\r\n          <FormSwitch\r\n            name=\"is_dark\"\r\n            className=\"mb-20 pb-20 border-b\"\r\n            description={\r\n              <Trans message=\"Whether this theme has light text on dark background.\" />\r\n            }\r\n          >\r\n            <Trans message=\"Dark theme\" />\r\n          </FormSwitch>\r\n          <FormSwitch\r\n            name=\"default_light\"\r\n            className=\"mb-30\"\r\n            description={\r\n              <Trans message=\"When light mode is selected, this theme will be used.\" />\r\n            }\r\n          >\r\n            <Trans message=\"Default for light mode\" />\r\n          </FormSwitch>\r\n          <FormSwitch\r\n            name=\"default_dark\"\r\n            description={\r\n              <Trans message=\"When dark mode is selected, this theme will be used.\" />\r\n            }\r\n          >\r\n            <Trans message=\"Default for dark mode\" />\r\n          </FormSwitch>\r\n        </Form>\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button\r\n          onClick={() => {\r\n            close();\r\n          }}\r\n        >\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n          form={formId}\r\n          disabled={!form.formState.isDirty}\r\n        >\r\n          <Trans message=\"Save\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const RestartAltIcon = createSvgIcon(\r\n  <path d=\"M6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91zm14 0c0-4.42-3.58-8-8-8-.06 0-.12.01-.18.01l1.09-1.09L11.5 2.5 8 6l3.5 3.5 1.41-1.41-1.08-1.08c.06 0 .12-.01.17-.01 3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93z\" />\r\n, 'RestartAltOutlined');\r\n","import {Fragment, useState} from 'react';\r\nimport {DeleteIcon} from '../../../../icons/material/Delete';\r\nimport {ConfirmationDialog} from '../../../../ui/overlays/dialog/confirmation-dialog';\r\nimport {IconButton} from '../../../../ui/buttons/icon-button';\r\nimport {MoreVertIcon} from '../../../../icons/material/MoreVert';\r\nimport {RestartAltIcon} from '../../../../icons/material/RestartAlt';\r\nimport {appearanceState, AppearanceValues} from '../../appearance-store';\r\nimport {toast} from '../../../../ui/toast/toast';\r\nimport {\r\n  Menu,\r\n  MenuItem,\r\n  MenuTrigger,\r\n} from '../../../../ui/navigation/menu/menu-trigger';\r\nimport {DialogTrigger} from '../../../../ui/overlays/dialog/dialog-trigger';\r\nimport {message} from '../../../../i18n/message';\r\nimport {Trans} from '../../../../i18n/trans';\r\nimport {useNavigate} from '../../../../utils/hooks/use-navigate';\r\nimport {useFieldArray, useFormContext} from 'react-hook-form';\r\nimport {useParams} from 'react-router-dom';\r\n\r\nexport function ThemeMoreOptionsButton() {\r\n  const navigate = useNavigate();\r\n  const {themeIndex} = useParams();\r\n  const [confirmDialogOpen, setConfirmDialogOpen] = useState(false);\r\n  const {setValue, getValues} = useFormContext<AppearanceValues>();\r\n  const {fields, remove} = useFieldArray<AppearanceValues>({\r\n    name: 'appearance.themes.all',\r\n  });\r\n\r\n  const deleteTheme = () => {\r\n    if (fields.length <= 1) {\r\n      toast.danger(message('At least one theme is required'));\r\n      return;\r\n    }\r\n    if (themeIndex) {\r\n      navigate('/admin/appearance/themes');\r\n      remove(+themeIndex);\r\n      setValue('appearance.themes.selectedThemeId', null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <MenuTrigger\r\n        onItemSelected={key => {\r\n          if (key === 'delete') {\r\n            setConfirmDialogOpen(true);\r\n          } else if (key === 'reset') {\r\n            const path =\r\n              `appearance.themes.all.${+themeIndex!}` as 'appearance.themes.all.0';\r\n            const defaultColors = getValues(`${path}.is_dark`)\r\n              ? appearanceState().defaults!.appearance.themes.dark\r\n              : appearanceState().defaults!.appearance.themes.light;\r\n\r\n            Object.entries(defaultColors).forEach(([colorName, themeValue]) => {\r\n              appearanceState().preview.setThemeValue(colorName, themeValue);\r\n            });\r\n            appearanceState().preview.setThemeFont(null);\r\n\r\n            setValue(`${path}.values`, defaultColors, {\r\n              shouldDirty: true,\r\n            });\r\n            setValue(`${path}.font`, undefined, {\r\n              shouldDirty: true,\r\n            });\r\n          }\r\n        }}\r\n      >\r\n        <IconButton size=\"md\" className=\"text-muted\">\r\n          <MoreVertIcon />\r\n        </IconButton>\r\n        <Menu>\r\n          <MenuItem value=\"reset\" startIcon={<RestartAltIcon />}>\r\n            <Trans message=\"Reset colors\" />\r\n          </MenuItem>\r\n          <MenuItem value=\"delete\" startIcon={<DeleteIcon />}>\r\n            <Trans message=\"Delete\" />\r\n          </MenuItem>\r\n        </Menu>\r\n      </MenuTrigger>\r\n      <DialogTrigger\r\n        type=\"modal\"\r\n        isOpen={confirmDialogOpen}\r\n        onClose={isConfirmed => {\r\n          if (isConfirmed) {\r\n            deleteTheme();\r\n          }\r\n          setConfirmDialogOpen(false);\r\n        }}\r\n      >\r\n        <ConfirmationDialog\r\n          isDanger\r\n          title={<Trans message=\"Delete theme\" />}\r\n          body={<Trans message=\"Are you sure you want to delete this theme?\" />}\r\n          confirm={<Trans message=\"Delete\" />}\r\n        />\r\n      </DialogTrigger>\r\n    </Fragment>\r\n  );\r\n}\r\n","import {message} from '@common/i18n/message';\r\nimport {useParams} from 'react-router-dom';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport {AppearanceValues} from '@common/admin/appearance/appearance-store';\r\nimport {Menu, MenuTrigger} from '@common/ui/navigation/menu/menu-trigger';\r\nimport {AppearanceButton} from '@common/admin/appearance/appearance-button';\r\nimport {ColorIcon} from '@common/admin/appearance/sections/themes/color-icon';\r\nimport clsx from 'clsx';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {Item} from '@common/ui/forms/listbox/item';\r\n\r\nconst navbarColorMap = [\r\n  {\r\n    label: message('Accent'),\r\n    value: 'primary',\r\n    bgColor: 'bg-primary',\r\n    previewBgColor: 'text-primary',\r\n  },\r\n  {\r\n    label: message('Background'),\r\n    value: 'bg',\r\n    bgColor: 'bg-background',\r\n    previewBgColor: 'text-background',\r\n  },\r\n  {\r\n    label: message('Background alt'),\r\n    value: 'bg-alt',\r\n    bgColor: 'bg-alt',\r\n    previewBgColor: 'text-background-alt',\r\n  },\r\n  {\r\n    label: message('Transparent'),\r\n    value: 'transparent',\r\n    bgColor: 'bg-transparent',\r\n    previewBgColor: 'text-transparent',\r\n  },\r\n];\r\n\r\nexport function NavbarColorPicker() {\r\n  const {themeIndex} = useParams();\r\n  const {watch, setValue} = useFormContext<AppearanceValues>();\r\n  const key =\r\n    `appearance.themes.all.${themeIndex!}.values.--be-navbar-color` as 'appearance.themes.all.1.values.--be-navbar-color';\r\n  const selectedValue = watch(key);\r\n  const previewColor = navbarColorMap.find(({value}) => value === selectedValue)\r\n    ?.previewBgColor;\r\n  return (\r\n    <MenuTrigger\r\n      placement=\"right\"\r\n      selectionMode=\"single\"\r\n      selectedValue={selectedValue}\r\n      onSelectionChange={value => {\r\n        setValue(key, value as string, {shouldDirty: true});\r\n      }}\r\n    >\r\n      <AppearanceButton\r\n        startIcon={\r\n          <ColorIcon\r\n            viewBox=\"0 0 48 48\"\r\n            className={clsx('icon-lg', previewColor)}\r\n          />\r\n        }\r\n      >\r\n        <Trans message=\"Navbar\" />\r\n      </AppearanceButton>\r\n      <Menu>\r\n        {navbarColorMap.map(({label, value, bgColor}) => (\r\n          <Item\r\n            key={value}\r\n            value={value}\r\n            startIcon={\r\n              <div className={clsx('h-20 w-20 rounded border', bgColor)} />\r\n            }\r\n          >\r\n            <Trans {...label} />\r\n          </Item>\r\n        ))}\r\n      </Menu>\r\n    </MenuTrigger>\r\n  );\r\n}\r\n","import {parseColor} from '@react-stately/color';\r\n\r\nexport function themeValueToHex(value: string): string {\r\n  try {\r\n    return parseColor(`rgb(${value.split(' ').join(',')})`).toString('hex');\r\n  } catch (e) {\r\n    return value;\r\n  }\r\n}\r\n","import {Link, useNavigate, useParams} from 'react-router-dom';\r\nimport {Fragment, ReactNode, useEffect, useState} from 'react';\r\nimport {\r\n  appearanceState,\r\n  AppearanceValues,\r\n} from '@common/admin/appearance/appearance-store';\r\nimport {AppearanceButton} from '@common/admin/appearance/appearance-button';\r\nimport {ColorIcon} from '@common/admin/appearance/sections/themes/color-icon';\r\nimport {CssTheme} from '@common/ui/themes/css-theme';\r\nimport {colorToThemeValue} from '@common/ui/themes/utils/color-to-theme-value';\r\nimport {ThemeSettingsDialogTrigger} from '@common/admin/appearance/sections/themes/theme-settings-dialog-trigger';\r\nimport {ThemeMoreOptionsButton} from '@common/admin/appearance/sections/themes/theme-more-options-button';\r\nimport {ColorPickerDialog} from '@common/ui/color-picker/color-picker-dialog';\r\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {NavbarColorPicker} from '@common/admin/appearance/sections/themes/navbar-color-picker';\r\nimport {message} from '@common/i18n/message';\r\nimport {themeValueToHex} from '@common/ui/themes/utils/theme-value-to-hex';\r\n\r\nconst colorList = [\r\n  {\r\n    label: message('Background'),\r\n    key: '--be-background',\r\n  },\r\n  {\r\n    label: message('Background alt'),\r\n    key: '--be-background-alt',\r\n  },\r\n  {\r\n    label: message('Foreground'),\r\n    key: '--be-foreground-base',\r\n  },\r\n  {\r\n    label: message('Accent light'),\r\n    key: '--be-primary-light',\r\n  },\r\n  {\r\n    label: message('Accent'),\r\n    key: '--be-primary',\r\n  },\r\n  {\r\n    label: message('Accent dark'),\r\n    key: '--be-primary-dark',\r\n  },\r\n  {\r\n    label: message('Text on accent'),\r\n    key: '--be-on-primary',\r\n  },\r\n  {\r\n    label: message('Chip'),\r\n    key: '--be-background-chip',\r\n  },\r\n];\r\n\r\nexport function ThemeEditor() {\r\n  const navigate = useNavigate();\r\n  const {themeIndex} = useParams();\r\n  const {getValues, watch} = useFormContext<AppearanceValues>();\r\n\r\n  const theme = getValues(`appearance.themes.all.${+themeIndex!}`);\r\n  const selectedFont = watch(\r\n    `appearance.themes.all.${+themeIndex!}.font.family`,\r\n  );\r\n\r\n  // go to theme list, if theme can't be found\r\n  useEffect(() => {\r\n    if (!theme) {\r\n      navigate('/admin/appearance/themes');\r\n    }\r\n  }, [navigate, theme]);\r\n\r\n  // select theme in preview on initial render\r\n  useEffect(() => {\r\n    if (theme?.id) {\r\n      appearanceState().preview.setActiveTheme(theme.id);\r\n    }\r\n  }, [theme?.id]);\r\n\r\n  if (!theme) return null;\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"mb-20 flex items-center justify-between gap-10\">\r\n        <ThemeSettingsDialogTrigger />\r\n        <ThemeMoreOptionsButton />\r\n      </div>\r\n      <div>\r\n        <AppearanceButton\r\n          elementType={Link}\r\n          to=\"font\"\r\n          description={selectedFont ? selectedFont : <Trans message=\"System\" />}\r\n        >\r\n          <Trans message=\"Font\" />\r\n        </AppearanceButton>\r\n        <AppearanceButton elementType={Link} to=\"radius\">\r\n          <Trans message=\"Rounding\" />\r\n        </AppearanceButton>\r\n        <div className=\"mb-6 mt-22 text-sm font-semibold\">\r\n          <Trans message=\"Colors\" />\r\n        </div>\r\n        <NavbarColorPicker />\r\n        {colorList.map(color => (\r\n          <ColorPickerTrigger\r\n            key={color.key}\r\n            colorName={color.key}\r\n            label={<Trans {...color.label} />}\r\n            initialThemeValue={theme.values[color.key]}\r\n            theme={theme}\r\n          />\r\n        ))}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface ColorPickerTriggerProps {\r\n  label: ReactNode;\r\n  theme: CssTheme;\r\n  colorName: string;\r\n  initialThemeValue: string;\r\n}\r\nfunction ColorPickerTrigger({\r\n  label,\r\n  theme,\r\n  colorName,\r\n  initialThemeValue,\r\n}: ColorPickerTriggerProps) {\r\n  const {setValue} = useFormContext<AppearanceValues>();\r\n  const {themeIndex} = useParams();\r\n  const [selectedThemeValue, setSelectedThemeValue] =\r\n    useState<string>(initialThemeValue);\r\n\r\n  // set color as css variable in preview and on button preview, but not in appearance values\r\n  // this way color change can be canceled when color picker is closed and applied explicitly via apply button\r\n  const selectThemeValue = (themeValue: string) => {\r\n    setSelectedThemeValue(themeValue);\r\n    appearanceState().preview.setThemeValue(colorName, themeValue);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // need to update the color here so changes via \"reset colors\" button are reflected\r\n    setSelectedThemeValue(initialThemeValue);\r\n  }, [initialThemeValue]);\r\n\r\n  return (\r\n    <DialogTrigger\r\n      value={themeValueToHex(selectedThemeValue)}\r\n      type=\"popover\"\r\n      placement=\"right\"\r\n      offset={10}\r\n      onValueChange={newColor => {\r\n        selectThemeValue(colorToThemeValue(newColor));\r\n      }}\r\n      onClose={(newColor, {valueChanged, initialValue}) => {\r\n        if (newColor && valueChanged) {\r\n          setValue(\r\n            `appearance.themes.all.${+themeIndex!}.values.${colorName}`,\r\n            colorToThemeValue(newColor),\r\n            {shouldDirty: true},\r\n          );\r\n          setValue('appearance.themes.selectedThemeId', theme.id);\r\n        } else {\r\n          // reset to initial value, if apply button was not clicked\r\n          selectThemeValue(initialValue);\r\n        }\r\n      }}\r\n    >\r\n      <AppearanceButton\r\n        className=\"capitalize\"\r\n        startIcon={\r\n          <ColorIcon\r\n            viewBox=\"0 0 48 48\"\r\n            className=\"icon-lg\"\r\n            style={{fill: `rgb(${selectedThemeValue})`}}\r\n          />\r\n        }\r\n      >\r\n        {label}\r\n      </AppearanceButton>\r\n      <ColorPickerDialog />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n","import {SettingsPanel} from '@common/admin/settings/settings-panel';\r\nimport {FormRadioGroup} from '@common/ui/forms/radio-group/radio-group';\r\nimport {FormRadio} from '@common/ui/forms/radio-group/radio';\r\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\r\nimport {Trans} from '@common/i18n/trans';\r\n\r\nexport function DriveSettings() {\r\n  return (\r\n    <SettingsPanel\r\n      title={<Trans message=\"Drive\" />}\r\n      description={\r\n        <Trans message=\"Configure defaults for drive user dashboard.\" />\r\n      }\r\n    >\r\n      <FormRadioGroup\r\n        required\r\n        className=\"mb-30\"\r\n        size=\"md\"\r\n        name=\"client.drive.default_view\"\r\n        orientation=\"vertical\"\r\n        label={<Trans message=\"Default view mode\" />}\r\n        description={\r\n          <Trans message=\"Which view mode should user drive use by default.\" />\r\n        }\r\n      >\r\n        <FormRadio value=\"list\">\r\n          <Trans message=\"List\" />\r\n        </FormRadio>\r\n        <FormRadio value=\"grid\">\r\n          <Trans message=\"Grid\" />\r\n        </FormRadio>\r\n      </FormRadioGroup>\r\n      <FormSwitch\r\n        className=\"mb-30\"\r\n        name=\"client.drive.send_share_notification\"\r\n        description={\r\n          <Trans message=\"Send a notification to user when a file or folder is shared with them.\" />\r\n        }\r\n      >\r\n        <Trans message=\"Share notifications\" />\r\n      </FormSwitch>\r\n      <FormSwitch\r\n        name=\"client.share.suggest_emails\"\r\n        description={\r\n          <Trans message=\"Suggest email address of existing users when sharing a file or folder.\" />\r\n        }\r\n      >\r\n        <Trans message=\"Suggest emails\" />\r\n      </FormSwitch>\r\n    </SettingsPanel>\r\n  );\r\n}\r\n","import {RouteObject} from 'react-router-dom';\r\nimport {DriveSettings} from './drive-settings';\r\n\r\nexport const AppSettingsRoutes: RouteObject[] = [\r\n  {path: 'drive', element: <DriveSettings />},\r\n];\r\n","import {ReactNode, useEffect, useRef} from 'react';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport clsx from 'clsx';\r\n\r\ninterface Props {\r\n  children: (isInvalid: boolean) => ReactNode;\r\n  name: string;\r\n  separatorBottom?: boolean;\r\n  separatorTop?: boolean;\r\n}\r\nexport function SettingsErrorGroup({\r\n  children,\r\n  name,\r\n  separatorBottom = true,\r\n  separatorTop = true,\r\n}: Props) {\r\n  const {\r\n    formState: {errors},\r\n  } = useFormContext<Record<string, string>>();\r\n\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const error = errors[name];\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      ref.current?.scrollIntoView({behavior: 'smooth'});\r\n    }\r\n  }, [error]);\r\n\r\n  return (\r\n    <div\r\n      className={clsx(\r\n        separatorBottom && 'border-b mb-20 pb-20',\r\n        separatorTop && 'border-t mt-20 pt-20',\r\n        error && 'border-y-error'\r\n      )}\r\n      ref={ref}\r\n    >\r\n      {children(!!error)}\r\n      {error && (\r\n        <div\r\n          className=\"text-danger text-sm mt-20\"\r\n          dangerouslySetInnerHTML={{__html: error.message!}}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import {useController} from 'react-hook-form';\r\nimport React, {useMemo} from 'react';\r\nimport {mergeProps} from '@react-aria/utils';\r\nimport {\r\n  ChipField,\r\n  ChipValue,\r\n} from '../../ui/forms/input-field/chip-field/chip-field';\r\nimport {FormChipFieldProps} from '../../ui/forms/input-field/chip-field/form-chip-field';\r\n\r\nexport function JsonChipField({children, ...props}: FormChipFieldProps<any>) {\r\n  const {\r\n    field: {onChange, onBlur, value = [], ref},\r\n    fieldState: {invalid, error},\r\n  } = useController({\r\n    name: props.name,\r\n  });\r\n\r\n  const arrayValue = useMemo(() => {\r\n    const mixedValue = value as string | string[];\r\n    return typeof mixedValue === 'string' ? JSON.parse(mixedValue) : mixedValue;\r\n  }, [value]);\r\n\r\n  const formProps: Partial<FormChipFieldProps<ChipValue>> = {\r\n    onChange: newValue => {\r\n      const jsonValue = JSON.stringify(newValue.map(chip => chip.name));\r\n      onChange(jsonValue);\r\n    },\r\n    onBlur,\r\n    value: arrayValue,\r\n    invalid,\r\n    errorMessage: error?.message,\r\n  };\r\n\r\n  return <ChipField ref={ref} {...mergeProps(formProps, props)} />;\r\n}\r\n","import React, {RefObject} from 'react';\r\n\r\nexport interface TabsContext {\r\n  selectedTab: number;\r\n  setSelectedTab: (newTab: number) => void;\r\n  tabsRef: RefObject<HTMLElement[]>;\r\n  size: 'sm' | 'md';\r\n  isLazy?: boolean;\r\n  id: string;\r\n}\r\n\r\nexport const TabContext = React.createContext<TabsContext>(null!);\r\n","import React, {ReactElement, useId, useMemo, useRef} from 'react';\r\nimport clsx from 'clsx';\r\nimport {useControlledState} from '@react-stately/utils';\r\nimport {TabContext, TabsContext} from './tabs-context';\r\nimport {TabListProps} from './tab-list';\r\nimport {TabPanelsProps} from './tab-panels';\r\n\r\nexport interface TabsProps {\r\n  children: [ReactElement<TabListProps>, ReactElement<TabPanelsProps>];\r\n  size?: 'sm' | 'md';\r\n  className?: string;\r\n  selectedTab?: number;\r\n  defaultSelectedTab?: number;\r\n  onTabChange?: (newTab: number) => void;\r\n  isLazy?: boolean;\r\n  overflow?: string;\r\n}\r\n\r\nexport function Tabs(props: TabsProps) {\r\n  const {\r\n    size = 'md',\r\n    children,\r\n    className,\r\n    isLazy,\r\n    overflow = 'overflow-hidden',\r\n  } = props;\r\n\r\n  const tabsRef = useRef<HTMLButtonElement[]>([]);\r\n  const id = useId();\r\n\r\n  const [selectedTab, setSelectedTab] = useControlledState(\r\n    props.selectedTab,\r\n    props.defaultSelectedTab || 0,\r\n    props.onTabChange\r\n  );\r\n\r\n  const ContextValue: TabsContext = useMemo(() => {\r\n    return {\r\n      selectedTab,\r\n      setSelectedTab,\r\n      tabsRef,\r\n      size,\r\n      isLazy,\r\n      id,\r\n    };\r\n  }, [selectedTab, id, isLazy, setSelectedTab, size]);\r\n\r\n  return (\r\n    <TabContext.Provider value={ContextValue}>\r\n      <div className={clsx(className, overflow, 'max-w-full')}>{children}</div>\r\n    </TabContext.Provider>\r\n  );\r\n}\r\n","import React, {useContext, useState} from 'react';\r\nimport {useLayoutEffect} from '@react-aria/utils';\r\nimport clsx from 'clsx';\r\nimport {TabContext} from './tabs-context';\r\n\r\ninterface TabLineStyle {\r\n  width?: string;\r\n  transform?: string;\r\n  className?: string;\r\n}\r\n\r\nexport function TabLine() {\r\n  const {tabsRef, selectedTab} = useContext(TabContext);\r\n  const [style, setStyle] = useState<TabLineStyle>({\r\n    width: undefined,\r\n    transform: undefined,\r\n    className: undefined,\r\n  });\r\n\r\n  useLayoutEffect(() => {\r\n    if (selectedTab != null && tabsRef.current) {\r\n      const el = tabsRef.current[selectedTab];\r\n      if (!el) return;\r\n\r\n      setStyle(prevState => {\r\n        return {\r\n          width: `${el.offsetWidth}px`,\r\n          transform: `translateX(${el.offsetLeft}px)`,\r\n          // disable initial transition for tabline\r\n          className: prevState.width === undefined ? '' : 'transition-all',\r\n        };\r\n      });\r\n    }\r\n  }, [setStyle, selectedTab, tabsRef]);\r\n\r\n  return (\r\n    <div\r\n      className={clsx(\r\n        'absolute bottom-0 left-0 h-2 bg-primary',\r\n        style.className\r\n      )}\r\n      role=\"presentation\"\r\n      style={{width: style.width, transform: style.transform}}\r\n    />\r\n  );\r\n}\r\n","import React, {Children, cloneElement, isValidElement, ReactNode} from 'react';\r\nimport clsx from 'clsx';\r\nimport {FocusScope} from '@react-aria/focus';\r\nimport {TabProps} from './tab';\r\nimport {TabLine} from './tab-line';\r\n\r\nexport interface TabListProps {\r\n  children: ReactNode;\r\n  // center tabs within tablist\r\n  center?: boolean;\r\n  // expand tabs to fill in tablist space fully. By default, tabs are only as wide as their content.\r\n  expand?: boolean;\r\n  className?: string;\r\n}\r\nexport function TabList({children, center, expand, className}: TabListProps) {\r\n  const childrenArray = Children.toArray(children);\r\n\r\n  return (\r\n    <FocusScope>\r\n      <div\r\n        className={clsx(\r\n          // hide scrollbar completely on mobile, show compact one on desktop\r\n          'flex relative max-w-full overflow-auto border-b max-sm:hidden-scrollbar md:compact-scrollbar',\r\n          className\r\n        )}\r\n        role=\"tablist\"\r\n        aria-orientation=\"horizontal\"\r\n      >\r\n        {childrenArray.map((child, index) => {\r\n          if (isValidElement<TabProps>(child)) {\r\n            return cloneElement<TabProps>(child, {\r\n              index,\r\n              className: clsx(\r\n                child.props.className,\r\n                expand && 'flex-auto',\r\n                center && index === 0 && 'ml-auto',\r\n                center && index === childrenArray.length - 1 && 'mr-auto'\r\n              ),\r\n            });\r\n          }\r\n          return null;\r\n        })}\r\n        <TabLine />\r\n      </div>\r\n    </FocusScope>\r\n  );\r\n}\r\n","import React, {JSXElementConstructor, ReactNode, useContext} from 'react';\r\nimport clsx from 'clsx';\r\nimport {useFocusManager} from '@react-aria/focus';\r\nimport {TabContext} from './tabs-context';\r\nimport {LinkProps} from 'react-router-dom';\r\n\r\nexport interface TabProps {\r\n  className?: string;\r\n  index?: number;\r\n  children: ReactNode;\r\n  isDisabled?: boolean;\r\n  padding?: string;\r\n  elementType?: 'button' | 'a' | JSXElementConstructor<any>;\r\n  to?: LinkProps['to'];\r\n  relative?: LinkProps['relative'];\r\n  replace?: LinkProps['replace'];\r\n  width?: string;\r\n}\r\nexport function Tab({\r\n  index,\r\n  className,\r\n  isDisabled,\r\n  children,\r\n  padding: paddingProp,\r\n  elementType = 'button',\r\n  to,\r\n  relative,\r\n  width = 'min-w-min',\r\n}: TabProps) {\r\n  const {\r\n    selectedTab,\r\n    setSelectedTab,\r\n    tabsRef,\r\n    size = 'md',\r\n    id,\r\n  } = useContext(TabContext);\r\n  const isSelected = index === selectedTab;\r\n  const focusManager = useFocusManager();\r\n  const padding = paddingProp || (size === 'sm' ? 'px-12' : 'px-18');\r\n\r\n  const mergedClassname = clsx(\r\n    'tracking-wide overflow-hidden capitalize text-sm flex items-center justify-center outline-none transition-colors',\r\n    'focus-visible:ring focus-visible:ring-2 ring-inset rounded whitespace-nowrap cursor-pointer',\r\n    width,\r\n    textColor({isDisabled, isSelected}),\r\n    className,\r\n    size === 'md' && `${padding} h-48`,\r\n    size === 'sm' && `${padding} h-32`,\r\n    isDisabled && 'pointer-events-none',\r\n  );\r\n\r\n  const onKeyDown = (e: React.KeyboardEvent<HTMLButtonElement>) => {\r\n    switch (e.key) {\r\n      case 'ArrowLeft':\r\n        focusManager?.focusPrevious();\r\n        break;\r\n      case 'ArrowRight':\r\n        focusManager?.focusNext();\r\n        break;\r\n      case 'Home':\r\n        focusManager?.focusFirst();\r\n        break;\r\n      case 'End':\r\n        focusManager?.focusLast();\r\n        break;\r\n    }\r\n  };\r\n\r\n  const tabIndex = isSelected ? 0 : -1;\r\n  const Element = elementType;\r\n\r\n  return (\r\n    <Element\r\n      disabled={isDisabled}\r\n      id={`${id}-${index}-tab`}\r\n      aria-controls={`${id}-${index}-tabpanel`}\r\n      type=\"button\"\r\n      role=\"tab\"\r\n      aria-selected={isSelected}\r\n      tabIndex={isDisabled ? undefined : tabIndex}\r\n      onKeyDown={onKeyDown}\r\n      onClick={() => {\r\n        setSelectedTab(index!);\r\n      }}\r\n      to={to}\r\n      relative={relative}\r\n      className={mergedClassname}\r\n      ref={(el: HTMLElement) => {\r\n        if (tabsRef.current && el) {\r\n          tabsRef.current[index!] = el;\r\n        }\r\n      }}\r\n    >\r\n      {children}\r\n    </Element>\r\n  );\r\n}\r\n\r\ninterface TextColorProps {\r\n  isDisabled?: boolean;\r\n  isSelected: boolean;\r\n}\r\nfunction textColor({isDisabled, isSelected}: TextColorProps): string {\r\n  if (isDisabled) {\r\n    return 'text-disabled cursor-default';\r\n  }\r\n  if (isSelected) {\r\n    return 'text-primary';\r\n  }\r\n  return 'text-muted hover:text-main';\r\n}\r\n","import React, {\r\n  Children,\r\n  cloneElement,\r\n  ComponentPropsWithoutRef,\r\n  isValidElement,\r\n  ReactElement,\r\n  ReactNode,\r\n  useContext,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport clsx from 'clsx';\r\nimport {useLayoutEffect} from '@react-aria/utils';\r\nimport {getFocusableTreeWalker} from '@react-aria/focus';\r\nimport {TabContext} from './tabs-context';\r\n\r\nexport interface TabPanelsProps {\r\n  children: ReactNode;\r\n  className?: string;\r\n}\r\nexport function TabPanels({children, className}: TabPanelsProps) {\r\n  const {selectedTab, isLazy} = useContext(TabContext);\r\n\r\n  // filter out falsy values, in case of conditional rendering\r\n  const panelArray = Children.toArray(children).filter(p => !!p);\r\n\r\n  let rendered: ReactNode;\r\n  if (isLazy) {\r\n    const el = panelArray[selectedTab] as ReactElement;\r\n    rendered = isValidElement(el)\r\n      ? cloneElement<TabPanelProps>(panelArray[selectedTab] as ReactElement, {\r\n          index: selectedTab,\r\n        })\r\n      : null;\r\n  } else {\r\n    rendered = panelArray.map((panel, index) => {\r\n      if (isValidElement<TabPanelsProps>(panel)) {\r\n        const isSelected = index === selectedTab;\r\n        return cloneElement<TabPanelProps>(panel, {\r\n          index,\r\n          'aria-hidden': !isSelected,\r\n          className: !isSelected\r\n            ? clsx(panel.props.className, 'hidden')\r\n            : panel.props.className,\r\n        });\r\n      }\r\n      return null;\r\n    });\r\n  }\r\n\r\n  return <div className={className}>{rendered}</div>;\r\n}\r\n\r\ninterface TabPanelProps extends ComponentPropsWithoutRef<'div'> {\r\n  className?: string;\r\n  children: ReactNode;\r\n  index?: number;\r\n}\r\nexport function TabPanel({\r\n  className,\r\n  children,\r\n  index,\r\n  ...domProps\r\n}: TabPanelProps) {\r\n  const {id} = useContext(TabContext);\r\n\r\n  const [tabIndex, setTabIndex] = useState<number | undefined>(0);\r\n  const ref = useRef<HTMLDivElement>(null);\r\n\r\n  // The tabpanel should have tabIndex=0 when there are no tabbable elements within it.\r\n  // Otherwise, tabbing from the focused tab should go directly to the first tabbable element\r\n  // within the tabpanel.\r\n  useLayoutEffect(() => {\r\n    if (ref?.current) {\r\n      const update = () => {\r\n        // Detect if there are any tabbable elements and update the tabIndex accordingly.\r\n        const walker = getFocusableTreeWalker(ref.current!, {tabbable: true});\r\n        setTabIndex(walker.nextNode() ? undefined : 0);\r\n      };\r\n\r\n      update();\r\n\r\n      // Update when new elements are inserted, or the tabIndex/disabled attribute updates.\r\n      const observer = new MutationObserver(update);\r\n      observer.observe(ref.current, {\r\n        subtree: true,\r\n        childList: true,\r\n        attributes: true,\r\n        attributeFilter: ['tabIndex', 'disabled'],\r\n      });\r\n\r\n      return () => {\r\n        observer.disconnect();\r\n      };\r\n    }\r\n  }, [ref]);\r\n\r\n  return (\r\n    <div\r\n      tabIndex={tabIndex}\r\n      ref={ref}\r\n      id={`${id}-${index}-tabpanel`}\r\n      aria-labelledby={`${id}-${index}-tab`}\r\n      className={clsx(className, 'focus-visible:outline-primary-light')}\r\n      role=\"tabpanel\"\r\n      {...domProps}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import {useFormContext} from 'react-hook-form';\r\nimport {SettingsPanel} from '../settings-panel';\r\nimport {FormSwitch} from '../../../ui/forms/toggle/switch';\r\nimport {SettingsSeparator} from '../settings-separator';\r\nimport {LearnMoreLink} from '../learn-more-link';\r\nimport {AdminSettings} from '../admin-settings';\r\nimport {FormTextField} from '../../../ui/forms/input-field/text-field/text-field';\r\nimport {SettingsErrorGroup} from '../settings-error-group';\r\nimport {JsonChipField} from '../json-chip-field';\r\nimport {Tabs} from '../../../ui/tabs/tabs';\r\nimport {TabList} from '../../../ui/tabs/tab-list';\r\nimport {Tab} from '../../../ui/tabs/tab';\r\nimport {TabPanel, TabPanels} from '../../../ui/tabs/tab-panels';\r\nimport {Trans} from '../../../i18n/trans';\r\nimport {useTrans} from '../../../i18n/use-trans';\r\nimport {Fragment} from 'react';\r\n\r\nexport function SubscriptionSettings() {\r\n  const {trans} = useTrans();\r\n  return (\r\n    <SettingsPanel\r\n      title={<Trans message=\"Subscriptions\" />}\r\n      description={\r\n        <Trans message=\"Configure gateway integration, accepted cards, invoices and other related settings.\" />\r\n      }\r\n    >\r\n      <Tabs>\r\n        <TabList>\r\n          <Tab>\r\n            <Trans message=\"General\" />\r\n          </Tab>\r\n          <Tab>\r\n            <Trans message=\"Invoices\" />\r\n          </Tab>\r\n        </TabList>\r\n        <TabPanels className=\"pt-30\">\r\n          <TabPanel>\r\n            <FormSwitch\r\n              name=\"client.billing.enable\"\r\n              description={\r\n                <Trans message=\"Enable or disable all subscription related functionality across the site.\" />\r\n              }\r\n            >\r\n              <Trans message=\"Enable subscriptions\" />\r\n            </FormSwitch>\r\n            <SettingsSeparator />\r\n            <PaypalSection />\r\n            <StripeSection />\r\n            <SettingsSeparator />\r\n            <JsonChipField\r\n              label={<Trans message=\"Accepted cards\" />}\r\n              name=\"client.billing.accepted_cards\"\r\n              placeholder={trans({message: 'Add new card...'})}\r\n            />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <FormTextField\r\n              inputElementType=\"textarea\"\r\n              rows={5}\r\n              label={<Trans message=\"Invoice address\" />}\r\n              name=\"client.billing.invoice.address\"\r\n              className=\"mb-30\"\r\n            />\r\n            <FormTextField\r\n              inputElementType=\"textarea\"\r\n              rows={5}\r\n              label={<Trans message=\"Invoice notes\" />}\r\n              description={\r\n                <Trans message=\"Default notes to show under `notes` section of user invoice. Optional.\" />\r\n              }\r\n              name=\"client.billing.invoice.notes\"\r\n            />\r\n          </TabPanel>\r\n        </TabPanels>\r\n      </Tabs>\r\n    </SettingsPanel>\r\n  );\r\n}\r\n\r\nfunction PaypalSection() {\r\n  const {watch} = useFormContext<AdminSettings>();\r\n  const paypalIsEnabled = watch('client.billing.paypal.enable');\r\n  return (\r\n    <div className=\"mb-30\">\r\n      <FormSwitch\r\n        name=\"client.billing.paypal.enable\"\r\n        description={\r\n          <div>\r\n            <Trans message=\"Enable PayPal payment gateway integration.\" />\r\n            <LearnMoreLink\r\n              className=\"mt-6\"\r\n              link=\"https://support.vebto.com/help-center/articles/147/configuring-paypal\"\r\n            />\r\n          </div>\r\n        }\r\n      >\r\n        <Trans message=\"PayPal gateway\" />\r\n      </FormSwitch>\r\n      {paypalIsEnabled ? (\r\n        <SettingsErrorGroup name=\"paypal_group\">\r\n          {isInvalid => (\r\n            <Fragment>\r\n              <FormTextField\r\n                name=\"server.paypal_client_id\"\r\n                label={<Trans message=\"PayPal Client ID\" />}\r\n                required\r\n                invalid={isInvalid}\r\n                className=\"mb-20\"\r\n              />\r\n              <FormTextField\r\n                name=\"server.paypal_secret\"\r\n                label={<Trans message=\"PayPal Secret\" />}\r\n                required\r\n                invalid={isInvalid}\r\n                className=\"mb-20\"\r\n              />\r\n              <FormTextField\r\n                name=\"server.paypal_webhook_id\"\r\n                label={<Trans message=\"PayPal Webhook ID\" />}\r\n                required\r\n                invalid={isInvalid}\r\n                className=\"mb-20\"\r\n              />\r\n              <FormSwitch\r\n                name=\"client.billing.paypal_test_mode\"\r\n                invalid={isInvalid}\r\n                description={\r\n                  <div>\r\n                    <Trans message=\"Allows testing PayPal payments with sandbox accounts.\" />\r\n                  </div>\r\n                }\r\n              >\r\n                <Trans message=\"PayPal test mode\" />\r\n              </FormSwitch>\r\n            </Fragment>\r\n          )}\r\n        </SettingsErrorGroup>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction StripeSection() {\r\n  const {watch} = useFormContext<AdminSettings>();\r\n  const stripeEnabled = watch('client.billing.stripe.enable');\r\n  return (\r\n    <Fragment>\r\n      <FormSwitch\r\n        name=\"client.billing.stripe.enable\"\r\n        description={\r\n          <div>\r\n            <Trans message=\"Enable Stripe payment gateway integration.\" />\r\n            <LearnMoreLink\r\n              className=\"mt-6\"\r\n              link=\"https://support.vebto.com/help-center/articles/148/configuring-stripe\"\r\n            />\r\n          </div>\r\n        }\r\n      >\r\n        <Trans message=\"Stripe gateway\" />\r\n      </FormSwitch>\r\n      {stripeEnabled ? (\r\n        <SettingsErrorGroup name=\"stripe_group\" separatorBottom={false}>\r\n          {isInvalid => (\r\n            <Fragment>\r\n              <FormTextField\r\n                name=\"server.stripe_key\"\r\n                label={<Trans message=\"Stripe publishable key\" />}\r\n                required\r\n                className=\"mb-20\"\r\n                invalid={isInvalid}\r\n              />\r\n              <FormTextField\r\n                name=\"server.stripe_secret\"\r\n                label={<Trans message=\"Stripe secret key\" />}\r\n                required\r\n                className=\"mb-20\"\r\n                invalid={isInvalid}\r\n              />\r\n              <FormTextField\r\n                name=\"server.stripe_webhook_secret\"\r\n                label={<Trans message=\"Stripe webhook signing secret\" />}\r\n                className=\"mb-20\"\r\n                invalid={isInvalid}\r\n              />\r\n            </Fragment>\r\n          )}\r\n        </SettingsErrorGroup>\r\n      ) : null}\r\n    </Fragment>\r\n  );\r\n}\r\n","import {FormSelect, Option} from '../../../ui/forms/select/select';\r\nimport {SettingsPanel} from '../settings-panel';\r\nimport {useValueLists} from '../../../http/value-lists';\r\nimport {Section} from '../../../ui/forms/listbox/section';\r\nimport {FormRadio} from '../../../ui/forms/radio-group/radio';\r\nimport {FormRadioGroup} from '../../../ui/forms/radio-group/radio-group';\r\nimport {DateFormatPresets, FormattedDate} from '../../../i18n/formatted-date';\r\nimport {FormSwitch} from '../../../ui/forms/toggle/switch';\r\nimport {Trans} from '../../../i18n/trans';\r\nimport {useCurrentDateTime} from '../../../i18n/use-current-date-time';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {message} from '@common/i18n/message';\r\n\r\nexport function LocalizationSettings() {\r\n  const {data} = useValueLists(['timezones', 'localizations']);\r\n  const today = useCurrentDateTime();\r\n  const {trans} = useTrans();\r\n  return (\r\n    <SettingsPanel\r\n      title={<Trans message=\"Localization\" />}\r\n      description={\r\n        <Trans message=\"Configure global date, time and language settings.\" />\r\n      }\r\n    >\r\n      <FormSelect\r\n        className=\"mb-30\"\r\n        required\r\n        name=\"client.dates.default_timezone\"\r\n        showSearchField\r\n        selectionMode=\"single\"\r\n        label={<Trans message=\"Default timezone\" />}\r\n        searchPlaceholder={trans(message('Search timezones'))}\r\n        description={\r\n          <Trans message=\"Which timezone should be selected by default for new users and guests.\" />\r\n        }\r\n      >\r\n        <Option key=\"auto\" value=\"auto\">\r\n          <Trans message=\"Auto\" />\r\n        </Option>\r\n        {Object.entries(data?.timezones || {}).map(([groupName, timezones]) => (\r\n          <Section key={groupName} label={groupName}>\r\n            {timezones.map(timezone => (\r\n              <Option key={timezone.value} value={timezone.value}>\r\n                {timezone.text}\r\n              </Option>\r\n            ))}\r\n          </Section>\r\n        ))}\r\n      </FormSelect>\r\n      <FormSelect\r\n        name=\"client.locale.default\"\r\n        className=\"mb-30\"\r\n        selectionMode=\"single\"\r\n        label={<Trans message=\"Default language\" />}\r\n        description={\r\n          <Trans message=\"Which localization should be selected by default for new users and guests.\" />\r\n        }\r\n      >\r\n        <Option key=\"auto\" value=\"auto\">\r\n          <Trans message=\"Auto\" />\r\n        </Option>\r\n        {(data?.localizations || []).map(locale => (\r\n          <Option key={locale.language} value={locale.language} capitalizeFirst>\r\n            {locale.name}\r\n          </Option>\r\n        ))}\r\n      </FormSelect>\r\n      <FormRadioGroup\r\n        required\r\n        className=\"mb-30\"\r\n        size=\"sm\"\r\n        name=\"client.dates.format\"\r\n        orientation=\"vertical\"\r\n        label={<Trans message=\"Date verbosity\" />}\r\n        description={\r\n          <Trans message=\"Default verbosity for all dates displayed across the site. Month/day order and separators will be adjusted automatically, based on user's locale.\" />\r\n        }\r\n      >\r\n        <FormRadio key=\"auto\" value=\"auto\">\r\n          <Trans message=\"Auto\" />\r\n        </FormRadio>\r\n        {Object.entries(DateFormatPresets).map(([format, options]) => (\r\n          <FormRadio key={format} value={format}>\r\n            <FormattedDate date={today} options={options} />\r\n          </FormRadio>\r\n        ))}\r\n      </FormRadioGroup>\r\n      <FormSwitch\r\n        name=\"client.i18n.enable\"\r\n        description={\r\n          <Trans message=\"If disabled, site will always be shown in default language and user will not be able to change their locale.\" />\r\n        }\r\n      >\r\n        <Trans message=\"Enable translations\" />\r\n      </FormSwitch>\r\n    </SettingsPanel>\r\n  );\r\n}\r\n","import {useFormContext} from 'react-hook-form';\r\nimport {SettingsPanel} from '@common/admin/settings/settings-panel';\r\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\r\nimport {AdminSettings} from '@common/admin/settings/admin-settings';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {SettingsErrorGroup} from '@common/admin/settings/settings-error-group';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {Fragment} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useSettings} from '@common/core/settings/use-settings';\r\nimport {SettingsSeparator} from '@common/admin/settings/settings-separator';\r\nimport {Button} from '@common/ui/buttons/button';\r\n\r\nexport function AuthenticationSettings() {\r\n  return (\r\n    <SettingsPanel\r\n      title={<Trans message=\"Authentication\" />}\r\n      description={\r\n        <Trans message=\"Configure registration, social login and related 3rd party integrations.\" />\r\n      }\r\n    >\r\n      <EmailConfirmationSection />\r\n      <FormSwitch\r\n        className=\"mb-24\"\r\n        name=\"client.registration.disable\"\r\n        description={\r\n          <Trans message=\"All registration related functionality (including social login) will be disabled.\" />\r\n        }\r\n      >\r\n        <Trans message=\"Disable registration\" />\r\n      </FormSwitch>\r\n      <FormSwitch\r\n        className=\"mb-24\"\r\n        name=\"client.single_device_login\"\r\n        description={\r\n          <Trans message=\"Only allow one device to be logged into user account at the same time.\" />\r\n        }\r\n      >\r\n        <Trans message=\"Single device login\" />\r\n      </FormSwitch>\r\n      <FormSwitch\r\n        name=\"client.social.compact_buttons\"\r\n        description={\r\n          <Trans message=\"Use compact design for social login buttons.\" />\r\n        }\r\n      >\r\n        <Trans message=\"Compact buttons\" />\r\n      </FormSwitch>\r\n      <EnvatoSection />\r\n      <GoogleSection />\r\n      <FacebookSection />\r\n      <TwitterSection />\r\n      <SettingsSeparator />\r\n      <FormTextField\r\n        inputElementType=\"textarea\"\r\n        rows={3}\r\n        className=\"mt-24\"\r\n        name=\"client.auth.domain_blacklist\"\r\n        label={<Trans message=\"Domain blacklist\" />}\r\n        description={\r\n          <Trans message=\"Comma separated list of domains. Users will not be able to register or login using any email adress from specified domains.\" />\r\n        }\r\n      />\r\n    </SettingsPanel>\r\n  );\r\n}\r\n\r\nexport function MailNotSetupWarning() {\r\n  const {watch} = useFormContext<AdminSettings>();\r\n  const mailSetup = watch('server.mail_setup');\r\n  if (mailSetup) return null;\r\n\r\n  return (\r\n    <p className=\"mt-10 rounded-panel border p-10 text-sm text-danger\">\r\n      <Trans\r\n        message=\"Outgoing mail method needs to be setup before enabling this setting. <a>Fix now</a>\"\r\n        values={{\r\n          a: text => (\r\n            <Button\r\n              elementType={Link}\r\n              variant=\"outline\"\r\n              size=\"xs\"\r\n              display=\"flex\"\r\n              className=\"mt-10 max-w-max\"\r\n              to=\"/admin/settings/outgoing-email\"\r\n            >\r\n              {text}\r\n            </Button>\r\n          ),\r\n        }}\r\n      />\r\n    </p>\r\n  );\r\n}\r\n\r\nfunction EmailConfirmationSection() {\r\n  return (\r\n    <FormSwitch\r\n      className=\"mb-30\"\r\n      name=\"client.require_email_confirmation\"\r\n      description={\r\n        <Fragment>\r\n          <Trans message=\"Require newly registered users to validate their email address before being able to login.\" />\r\n          <MailNotSetupWarning />\r\n        </Fragment>\r\n      }\r\n    >\r\n      <Trans message=\"Require email confirmation\" />\r\n    </FormSwitch>\r\n  );\r\n}\r\n\r\nfunction EnvatoSection() {\r\n  const {watch} = useFormContext<AdminSettings>();\r\n  const settings = useSettings();\r\n  const envatoLoginEnabled = watch('client.social.envato.enable');\r\n\r\n  if (!(settings as any).envato?.enable) return null;\r\n\r\n  return (\r\n    <SettingsErrorGroup separatorBottom={false} name=\"envato_group\">\r\n      {isInvalid => (\r\n        <>\r\n          <FormSwitch\r\n            invalid={isInvalid}\r\n            name=\"client.social.envato.enable\"\r\n            description={\r\n              <Trans message=\"Enable logging into the site via envato.\" />\r\n            }\r\n          >\r\n            <Trans message=\"Envato login\" />\r\n          </FormSwitch>\r\n          {!!envatoLoginEnabled && (\r\n            <>\r\n              <FormTextField\r\n                invalid={isInvalid}\r\n                className=\"mt-30\"\r\n                name=\"server.envato_id\"\r\n                label={<Trans message=\"Envato ID\" />}\r\n                required\r\n              />\r\n              <FormTextField\r\n                invalid={isInvalid}\r\n                className=\"mt-30\"\r\n                name=\"server.envato_secret\"\r\n                label={<Trans message=\"Envato secret\" />}\r\n                required\r\n              />\r\n              <FormTextField\r\n                invalid={isInvalid}\r\n                className=\"mt-30\"\r\n                name=\"server.envato_personal_token\"\r\n                label={<Trans message=\"Envato personal token\" />}\r\n                required\r\n              />\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </SettingsErrorGroup>\r\n  );\r\n}\r\n\r\nfunction GoogleSection() {\r\n  const {watch} = useFormContext<AdminSettings>();\r\n  const googleLoginEnabled = watch('client.social.google.enable');\r\n\r\n  return (\r\n    <SettingsErrorGroup name=\"google_group\">\r\n      {isInvalid => (\r\n        <>\r\n          <FormSwitch\r\n            invalid={isInvalid}\r\n            name=\"client.social.google.enable\"\r\n            description={\r\n              <Trans message=\"Enable logging into the site via google.\" />\r\n            }\r\n          >\r\n            <Trans message=\"Google login\" />\r\n          </FormSwitch>\r\n          {!!googleLoginEnabled && (\r\n            <>\r\n              <FormTextField\r\n                invalid={isInvalid}\r\n                className=\"mt-30\"\r\n                name=\"server.google_id\"\r\n                label={<Trans message=\"Google client ID\" />}\r\n                required\r\n              />\r\n              <FormTextField\r\n                className=\"mt-30\"\r\n                name=\"server.google_secret\"\r\n                label={<Trans message=\"Google client secret\" />}\r\n                required\r\n              />\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </SettingsErrorGroup>\r\n  );\r\n}\r\n\r\nfunction FacebookSection() {\r\n  const {watch} = useFormContext<AdminSettings>();\r\n  const facebookLoginEnabled = watch('client.social.facebook.enable');\r\n\r\n  return (\r\n    <SettingsErrorGroup name=\"facebook_group\" separatorTop={false}>\r\n      {isInvalid => (\r\n        <>\r\n          <FormSwitch\r\n            invalid={isInvalid}\r\n            name=\"client.social.facebook.enable\"\r\n            description={\r\n              <Trans message=\"Enable logging into the site via facebook.\" />\r\n            }\r\n          >\r\n            <Trans message=\"Facebook login\" />\r\n          </FormSwitch>\r\n          {!!facebookLoginEnabled && (\r\n            <>\r\n              <FormTextField\r\n                invalid={isInvalid}\r\n                className=\"mt-30\"\r\n                name=\"server.facebook_id\"\r\n                label={<Trans message=\"Facebook app ID\" />}\r\n                required\r\n              />\r\n              <FormTextField\r\n                invalid={isInvalid}\r\n                className=\"mt-30\"\r\n                name=\"server.facebook_secret\"\r\n                label={<Trans message=\"Facebook app secret\" />}\r\n                required\r\n              />\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </SettingsErrorGroup>\r\n  );\r\n}\r\n\r\nfunction TwitterSection() {\r\n  const {watch} = useFormContext<AdminSettings>();\r\n  const twitterLoginEnabled = watch('client.social.twitter.enable');\r\n\r\n  return (\r\n    <SettingsErrorGroup\r\n      name=\"twitter_group\"\r\n      separatorTop={false}\r\n      separatorBottom={false}\r\n    >\r\n      {isInvalid => (\r\n        <>\r\n          <FormSwitch\r\n            invalid={isInvalid}\r\n            name=\"client.social.twitter.enable\"\r\n            description={\r\n              <Trans message=\"Enable logging into the site via twitter.\" />\r\n            }\r\n          >\r\n            <Trans message=\"Twitter login\" />\r\n          </FormSwitch>\r\n          {!!twitterLoginEnabled && (\r\n            <>\r\n              <FormTextField\r\n                invalid={isInvalid}\r\n                className=\"mt-30\"\r\n                name=\"server.twitter_id\"\r\n                label={<Trans message=\"Twitter ID\" />}\r\n                required\r\n              />\r\n              <FormTextField\r\n                invalid={isInvalid}\r\n                className=\"mt-30\"\r\n                name=\"server.twitter_secret\"\r\n                label={<Trans message=\"Twitter secret\" />}\r\n                required\r\n              />\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </SettingsErrorGroup>\r\n  );\r\n}\r\n","import {useQuery} from '@tanstack/react-query';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {apiClient} from '@common/http/query-client';\r\n\r\nexport interface FetchMaxServerUploadSizeResponse extends BackendResponse {\r\n  maxSize: string;\r\n}\r\n\r\nfunction fetchMaxServerUploadSize(): Promise<FetchMaxServerUploadSizeResponse> {\r\n  return apiClient\r\n    .get('uploads/server-max-file-size')\r\n    .then(response => response.data);\r\n}\r\n\r\nexport function useMaxServerUploadSize() {\r\n  return useQuery({\r\n    queryKey: ['MaxServerUploadSize'],\r\n    queryFn: () => fetchMaxServerUploadSize(),\r\n  });\r\n}\r\n","export const spaceUnits = ['B', 'KB', 'MB', 'GB', 'TB', 'PB'];\r\n","export type SpaceUnit = 'KB' | 'MB' | 'GB' | 'TB' | 'PB';\r\n\r\nexport function convertToBytes(value: number, unit: SpaceUnit): number {\r\n  if (value == null) return 0;\r\n  switch (unit) {\r\n    case 'KB':\r\n      return value * 1024;\r\n    case 'MB':\r\n      return value * 1024 ** 2;\r\n    case 'GB':\r\n      return value * 1024 ** 3;\r\n    case 'TB':\r\n      return value * 1024 ** 4;\r\n    case 'PB':\r\n      return value * 1024 ** 5;\r\n    default:\r\n      return value;\r\n  }\r\n}\r\n","import {useController} from 'react-hook-form';\r\nimport {mergeProps} from '@react-aria/utils';\r\nimport React, {useEffect, useState} from 'react';\r\nimport memoize from 'nano-memoize';\r\nimport {\r\n  FormTextFieldProps,\r\n  TextField,\r\n  TextFieldProps,\r\n} from './text-field/text-field';\r\nimport {prettyBytes} from '../../../uploads/utils/pretty-bytes';\r\nimport {Option, Select} from '../select/select';\r\nimport {spaceUnits} from '../../../uploads/utils/space-units';\r\nimport {\r\n  convertToBytes,\r\n  SpaceUnit,\r\n} from '../../../uploads/utils/convert-to-bytes';\r\n\r\n// 99TB\r\nconst MaxValue = 108851651149824;\r\n\r\nexport const FormFileSizeField = React.forwardRef<\r\n  HTMLDivElement,\r\n  FormTextFieldProps\r\n>(({name, ...props}, ref) => {\r\n  const {\r\n    field: {\r\n      onChange: setByteValue,\r\n      onBlur,\r\n      value: byteValue = '',\r\n      ref: inputRef,\r\n    },\r\n    fieldState: {invalid, error},\r\n  } = useController({\r\n    name,\r\n  });\r\n\r\n  const [liveValue, setLiveValue] = useState<number | string>('');\r\n  const [unit, setUnit] = useState<SpaceUnit | string>('MB');\r\n\r\n  useEffect(() => {\r\n    if (byteValue == null || byteValue === '') {\r\n      setLiveValue('');\r\n      return;\r\n    }\r\n    const {amount, unit: newUnit} = fromBytes({\r\n      bytes: Math.min(byteValue, MaxValue),\r\n    });\r\n    setUnit(newUnit || 'MB');\r\n    setLiveValue(Number.isNaN(amount) ? '' : amount);\r\n  }, [byteValue, unit]);\r\n\r\n  const formProps: TextFieldProps = {\r\n    onChange: e => {\r\n      const value = parseInt(e.target.value);\r\n      if (Number.isNaN(value)) {\r\n        setByteValue(value);\r\n      } else {\r\n        const newBytes = convertToBytes(\r\n          parseInt(e.target.value),\r\n          unit as SpaceUnit\r\n        );\r\n        setByteValue(newBytes);\r\n      }\r\n    },\r\n    onBlur,\r\n    value: liveValue,\r\n    invalid,\r\n    errorMessage: error?.message,\r\n    inputRef,\r\n  };\r\n\r\n  const unitSelect = (\r\n    <Select\r\n      minWidth=\"min-w-80\"\r\n      selectionMode=\"single\"\r\n      selectedValue={unit}\r\n      disabled={!byteValue}\r\n      onSelectionChange={newUnit => {\r\n        const newBytes = convertToBytes(\r\n          (liveValue || 0) as number,\r\n          newUnit as SpaceUnit\r\n        );\r\n        setByteValue(newBytes);\r\n      }}\r\n    >\r\n      {spaceUnits.slice(0, 5).map(u => (\r\n        <Option value={u} key={u}>\r\n          {u === 'B' ? 'Bytes' : u}\r\n        </Option>\r\n      ))}\r\n    </Select>\r\n  );\r\n\r\n  return (\r\n    <TextField\r\n      {...mergeProps(formProps, props)}\r\n      type=\"number\"\r\n      ref={ref}\r\n      endAppend={unitSelect}\r\n    />\r\n  );\r\n});\r\n\r\nconst fromBytes = memoize(\r\n  ({bytes}: {bytes: number}): {amount: number | string; unit: SpaceUnit} => {\r\n    const pretty = prettyBytes(bytes);\r\n    if (!pretty) return {amount: '', unit: 'MB'};\r\n    let amount = parseInt(pretty.split(' ')[0]);\r\n    // get rid of any punctuation\r\n    amount = Math.round(amount);\r\n    return {amount, unit: pretty.split(' ')[1] as SpaceUnit};\r\n  }\r\n);\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient} from '../../../../http/query-client';\r\nimport {useTrans} from '../../../../i18n/use-trans';\r\nimport {BackendResponse} from '../../../../http/backend-response/backend-response';\r\nimport {showHttpErrorToast} from '../../../../utils/http/show-http-error-toast';\r\nimport {message} from '../../../../i18n/message';\r\nimport {toast} from '../../../../ui/toast/toast';\r\n\r\ninterface Response extends BackendResponse {}\r\n\r\nexport function useUploadS3Cors() {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: () => uploadCors(),\r\n    onSuccess: () => {\r\n      toast(trans(message('CORS file updated')));\r\n    },\r\n    onError: err => showHttpErrorToast(err),\r\n  });\r\n}\r\n\r\nfunction uploadCors(): Promise<Response> {\r\n  return apiClient.post('s3/cors/upload').then(r => r.data);\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient} from '../../../../../http/query-client';\r\nimport {BackendResponse} from '../../../../../http/backend-response/backend-response';\r\nimport {showHttpErrorToast} from '../../../../../utils/http/show-http-error-toast';\r\n\r\ninterface Response extends BackendResponse {\r\n  refreshToken: string;\r\n}\r\n\r\ninterface Payload {\r\n  app_key: string;\r\n  app_secret: string;\r\n  access_code: string;\r\n}\r\n\r\nexport function useGenerateDropboxRefreshToken() {\r\n  return useMutation({\r\n    mutationFn: (props: Payload) => generateToken(props),\r\n    onError: err => showHttpErrorToast(err),\r\n  });\r\n}\r\n\r\nfunction generateToken(payload: Payload): Promise<Response> {\r\n  return apiClient\r\n    .post('settings/uploading/dropbox-refresh-token', payload)\r\n    .then(r => r.data);\r\n}\r\n","import {Fragment} from 'react';\r\nimport {FormTextField} from '../../../../../ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '../../../../../i18n/trans';\r\nimport {CredentialFormProps} from '../uploading-settings';\r\nimport {Button} from '../../../../../ui/buttons/button';\r\nimport {Dialog} from '../../../../../ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '../../../../../ui/overlays/dialog/dialog-header';\r\nimport {DialogBody} from '../../../../../ui/overlays/dialog/dialog-body';\r\nimport {useForm, useFormContext} from 'react-hook-form';\r\nimport {Form} from '../../../../../ui/forms/form';\r\nimport {DialogTrigger} from '../../../../../ui/overlays/dialog/dialog-trigger';\r\nimport {AdminSettings} from '../../../admin-settings';\r\nimport {DialogFooter} from '../../../../../ui/overlays/dialog/dialog-footer';\r\nimport {useDialogContext} from '../../../../../ui/overlays/dialog/dialog-context';\r\nimport {useGenerateDropboxRefreshToken} from './use-generate-dropbox-refresh-token';\r\n\r\nexport function DropboxForm({isInvalid}: CredentialFormProps) {\r\n  const {watch, setValue} = useFormContext<AdminSettings>();\r\n  const appKey = watch('server.storage_dropbox_app_key');\r\n  const appSecret = watch('server.storage_dropbox_app_secret');\r\n\r\n  return (\r\n    <Fragment>\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-20\"\r\n        name=\"server.storage_dropbox_app_key\"\r\n        label={<Trans message=\"Dropbox application key\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-20\"\r\n        name=\"server.storage_dropbox_app_secret\"\r\n        label={<Trans message=\"Dropbox application secret\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-20\"\r\n        name=\"server.storage_dropbox_refresh_token\"\r\n        label={<Trans message=\"Dropbox refresh token\" />}\r\n        required\r\n      />\r\n      <DialogTrigger\r\n        type=\"modal\"\r\n        onClose={refreshToken => {\r\n          if (refreshToken) {\r\n            setValue('server.storage_dropbox_refresh_token', refreshToken);\r\n          }\r\n        }}\r\n      >\r\n        <Button\r\n          variant=\"outline\"\r\n          color=\"primary\"\r\n          size=\"xs\"\r\n          disabled={!appKey || !appSecret}\r\n        >\r\n          <Trans message=\"Get dropbox refresh token\" />\r\n        </Button>\r\n        <DropboxRefreshTokenDialog appKey={appKey!} appSecret={appSecret!} />\r\n      </DialogTrigger>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface DropboxRefreshTokenDialogProps {\r\n  appKey: string;\r\n  appSecret: string;\r\n}\r\nfunction DropboxRefreshTokenDialog({\r\n  appKey,\r\n  appSecret,\r\n}: DropboxRefreshTokenDialogProps) {\r\n  const form = useForm<{accessCode: string}>();\r\n  const {formId, close} = useDialogContext();\r\n  const generateRefreshToken = useGenerateDropboxRefreshToken();\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Connected dropbox account\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <Form\r\n          id={formId}\r\n          form={form}\r\n          onSubmit={data => {\r\n            generateRefreshToken.mutate(\r\n              {\r\n                app_key: appKey,\r\n                app_secret: appSecret,\r\n                access_code: data.accessCode,\r\n              },\r\n              {\r\n                onSuccess: response => {\r\n                  close(response.refreshToken);\r\n                },\r\n              },\r\n            );\r\n          }}\r\n        >\r\n          <div className=\"mb-20 pb-20 border-b\">\r\n            <div className=\"text-muted text-sm mb-10\">\r\n              <Trans message=\"Click the 'get access code' button to get dropbox access code, then paste it into the field below.\" />\r\n            </div>\r\n            <Button\r\n              variant=\"outline\"\r\n              color=\"primary\"\r\n              size=\"xs\"\r\n              elementType=\"a\"\r\n              target=\"_blank\"\r\n              href={`https://www.dropbox.com/oauth2/authorize?client_id=${appKey}&token_access_type=offline&response_type=code`}\r\n            >\r\n              <Trans message=\"Get access code\" />\r\n            </Button>\r\n          </div>\r\n          <FormTextField\r\n            name=\"accessCode\"\r\n            label={<Trans message=\"Dropbox access code\" />}\r\n            required\r\n          />\r\n        </Form>\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button\r\n          onClick={() => {\r\n            close();\r\n          }}\r\n        >\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          form={formId}\r\n          type=\"submit\"\r\n          disabled={!appKey || !appSecret || generateRefreshToken.isPending}\r\n        >\r\n          <Trans message=\"Connect\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {useFormContext} from 'react-hook-form';\r\nimport {SettingsPanel} from '../../settings-panel';\r\nimport {FormSelect, Option} from '../../../../ui/forms/select/select';\r\nimport {AdminSettings} from '../../admin-settings';\r\nimport {SettingsErrorGroup} from '../../settings-error-group';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\r\nimport {FormRadioGroup} from '@common/ui/forms/radio-group/radio-group';\r\nimport {FormRadio} from '@common/ui/forms/radio-group/radio';\r\nimport {SectionHelper} from '@common/ui/section-helper';\r\nimport {useMaxServerUploadSize} from './max-server-upload-size';\r\nimport {SettingsSeparator} from '../../settings-separator';\r\nimport {JsonChipField} from '../../json-chip-field';\r\nimport {FormFileSizeField} from '@common/ui/forms/input-field/file-size-field';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {Fragment} from 'react';\r\nimport {useUploadS3Cors} from './use-upload-s3-cors';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {DropboxForm} from './dropbox-form/dropbox-form';\r\nimport {useAdminSettings} from '../../requests/use-admin-settings';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {message} from '@common/i18n/message';\r\n\r\nexport function UploadingSettings() {\r\n  const {trans} = useTrans();\r\n  return (\r\n    <SettingsPanel\r\n      title={<Trans message=\"Uploading\" />}\r\n      description={\r\n        <Trans message=\"Configure size and type of files that users are able to upload. This will affect all uploads across the site.\" />\r\n      }\r\n    >\r\n      <PrivateUploadSection />\r\n      <PublicUploadSection />\r\n      <CredentialsSection />\r\n      <SettingsErrorGroup name=\"static_delivery_group\">\r\n        {isInvalid => (\r\n          <FormRadioGroup\r\n            invalid={isInvalid}\r\n            size=\"sm\"\r\n            name=\"server.static_file_delivery\"\r\n            orientation=\"vertical\"\r\n            label={<Trans message=\"File delivery optimization\" />}\r\n            description={\r\n              <Trans message=\"Both X-Sendfile and X-Accel need to be enabled on the server first. When enabled, it will reduce server memory and CPU usage when previewing or downloading files, especially for large files.\" />\r\n            }\r\n          >\r\n            <FormRadio value=\"\">\r\n              <Trans message=\"None\" />\r\n            </FormRadio>\r\n            <FormRadio value=\"xsendfile\">\r\n              <Trans message=\"X-Sendfile (Apache)\" />\r\n            </FormRadio>\r\n            <FormRadio value=\"xaccel\">\r\n              <Trans message=\"X-Accel (Nginx)\" />\r\n            </FormRadio>\r\n          </FormRadioGroup>\r\n        )}\r\n      </SettingsErrorGroup>\r\n      <FormFileSizeField\r\n        className=\"mb-30\"\r\n        name=\"client.uploads.chunk_size\"\r\n        min={1}\r\n        label={<Trans message=\"Chunk size\" />}\r\n        placeholder=\"Infinity\"\r\n        description={\r\n          <Trans message=\"Size (in bytes) for each file chunk. It should only be changed if there is a maximum upload size on your server or proxy (for example cloudflare). If chunk size is larger then limit on the server, uploads will fail.\" />\r\n        }\r\n      />\r\n      <MaxUploadSizeSection />\r\n      <SettingsSeparator />\r\n      <FormFileSizeField\r\n        min={1}\r\n        name=\"client.uploads.max_size\"\r\n        className=\"mb-30\"\r\n        label={<Trans message=\"Maximum file size\" />}\r\n        description={\r\n          <Trans message=\"Maximum size (in bytes) for a single file user can upload.\" />\r\n        }\r\n      />\r\n      <FormFileSizeField\r\n        min={1}\r\n        name=\"client.uploads.available_space\"\r\n        className=\"mb-30\"\r\n        label={<Trans message=\"Available space\" />}\r\n        description={\r\n          <Trans message=\"Disk space (in bytes) each user uploads are allowed to take up. This can be overridden per user.\" />\r\n        }\r\n      />\r\n      <JsonChipField\r\n        name=\"client.uploads.allowed_extensions\"\r\n        className=\"mb-30\"\r\n        label={<Trans message=\"Allowed extensions\" />}\r\n        placeholder={trans(message('Add extension...'))}\r\n        description={\r\n          <Trans message=\"List of allowed file types (jpg, mp3, pdf etc.). Leave empty to allow all file types.\" />\r\n        }\r\n      />\r\n      <JsonChipField\r\n        name=\"client.uploads.blocked_extensions\"\r\n        label={<Trans message=\"Blocked extensions\" />}\r\n        placeholder={trans(message('Add extension...'))}\r\n        description={\r\n          <Trans message=\"Prevent uploading of these file types, even if they are allowed above.\" />\r\n        }\r\n      />\r\n    </SettingsPanel>\r\n  );\r\n}\r\n\r\nfunction MaxUploadSizeSection() {\r\n  const {data} = useMaxServerUploadSize();\r\n  return (\r\n    <SectionHelper\r\n      color=\"warning\"\r\n      description={\r\n        <Trans\r\n          message=\"Maximum upload size on your server currently is set to <b>:size</b>\"\r\n          values={{size: data?.maxSize, b: chunks => <b>{chunks}</b>}}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction PrivateUploadSection() {\r\n  const {watch, clearErrors} = useFormContext<AdminSettings>();\r\n  const isEnabled = watch('server.uploads_disk_driver');\r\n\r\n  if (!isEnabled) return null;\r\n\r\n  return (\r\n    <FormSelect\r\n      className=\"mb-30\"\r\n      selectionMode=\"single\"\r\n      name=\"server.uploads_disk_driver\"\r\n      label={<Trans message=\"User Uploads Storage Method\" />}\r\n      description={\r\n        <Trans message=\"Where should user private file uploads be stored.\" />\r\n      }\r\n      onSelectionChange={() => {\r\n        clearErrors();\r\n      }}\r\n    >\r\n      <Option value=\"local\">\r\n        <Trans message=\"Local Disk (Default)\" />\r\n      </Option>\r\n      <Option value=\"ftp\">FTP</Option>\r\n      <Option value=\"digitalocean_s3\">DigitalOcean Spaces</Option>\r\n      <Option value=\"backblaze_s3\">Backblaze</Option>\r\n      <Option value=\"s3\">Amazon S3 (Or compatible service)</Option>\r\n      <Option value=\"dropbox\">Dropbox</Option>\r\n      <Option value=\"rackspace\">Rackspace</Option>\r\n    </FormSelect>\r\n  );\r\n}\r\n\r\nfunction PublicUploadSection() {\r\n  const {watch, clearErrors} = useFormContext<AdminSettings>();\r\n  const isEnabled = watch('server.public_disk_driver');\r\n\r\n  if (!isEnabled) return null;\r\n\r\n  return (\r\n    <FormSelect\r\n      label={<Trans message=\"Public Uploads Storage Method\" />}\r\n      selectionMode=\"single\"\r\n      name=\"server.public_disk_driver\"\r\n      description={\r\n        <Trans message=\"Where should user public uploads (like avatars) be stored.\" />\r\n      }\r\n      onSelectionChange={() => {\r\n        clearErrors();\r\n      }}\r\n    >\r\n      <Option value=\"local\">\r\n        <Trans message=\"Local Disk (Default)\" />\r\n      </Option>\r\n      <Option value=\"s3\">Amazon S3</Option>\r\n      <Option value=\"ftp\">FTP</Option>\r\n      <Option value=\"digitalocean_s3\">DigitalOcean Spaces</Option>\r\n      <Option value=\"backblaze_s3\">Backblaze</Option>\r\n    </FormSelect>\r\n  );\r\n}\r\n\r\nfunction CredentialsSection() {\r\n  const {watch} = useFormContext<AdminSettings>();\r\n  const drives = [\r\n    watch('server.uploads_disk_driver'),\r\n    watch('server.public_disk_driver'),\r\n  ];\r\n\r\n  if (drives[0] === 'local' && drives[1] === 'local') {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <SettingsErrorGroup separatorBottom={false} name=\"storage_group\">\r\n      {isInvalid => {\r\n        if (drives.includes('s3')) {\r\n          return <S3Form isInvalid={isInvalid} />;\r\n        }\r\n        if (drives.includes('ftp')) {\r\n          return <FtpForm isInvalid={isInvalid} />;\r\n        }\r\n        if (drives.includes('dropbox')) {\r\n          return <DropboxForm isInvalid={isInvalid} />;\r\n        }\r\n        if (drives.includes('digitalocean_s3')) {\r\n          return <DigitalOceanForm isInvalid={isInvalid} />;\r\n        }\r\n        if (drives.includes('backblaze_s3')) {\r\n          return <BackblazeForm isInvalid={isInvalid} />;\r\n        }\r\n      }}\r\n    </SettingsErrorGroup>\r\n  );\r\n}\r\n\r\nexport interface CredentialFormProps {\r\n  isInvalid: boolean;\r\n}\r\nfunction S3Form({isInvalid}: CredentialFormProps) {\r\n  return (\r\n    <Fragment>\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_s3_key\"\r\n        label={<Trans message=\"Amazon S3 key\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_s3_secret\"\r\n        label={<Trans message=\"Amazon S3 secret\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_s3_region\"\r\n        label={<Trans message=\"Amazon S3 region\" />}\r\n        pattern=\"[a-z1-9\\-]+\"\r\n        placeholder=\"us-east-1\"\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_s3_bucket\"\r\n        label={<Trans message=\"Amazon S3 bucket\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        name=\"server.storage_s3_endpoint\"\r\n        label={<Trans message=\"Amazon S3 endpoint\" />}\r\n        description={\r\n          <Trans message=\"Only change endpoint if you are using another S3 compatible storage service.\" />\r\n        }\r\n      />\r\n      <S3DirectUploadField invalid={isInvalid} />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction DigitalOceanForm({isInvalid}: CredentialFormProps) {\r\n  return (\r\n    <Fragment>\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_digitalocean_key\"\r\n        label={<Trans message=\"DigitalOcean key\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_digitalocean_secret\"\r\n        label={<Trans message=\"DigitalOcean secret\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_digitalocean_region\"\r\n        label={<Trans message=\"DigitalOcean region\" />}\r\n        pattern=\"[a-z0-9\\-]+\"\r\n        placeholder=\"us-east-1\"\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_digitalocean_bucket\"\r\n        label={<Trans message=\"DigitalOcean bucket\" />}\r\n        required\r\n      />\r\n      <S3DirectUploadField invalid={isInvalid} />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction BackblazeForm({isInvalid}: CredentialFormProps) {\r\n  return (\r\n    <Fragment>\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_backblaze_key\"\r\n        label={<Trans message=\"Backblaze KeyID\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_backblaze_secret\"\r\n        label={<Trans message=\"Backblaze applicationKey\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_backblaze_region\"\r\n        label={<Trans message=\"Backblaze Region\" />}\r\n        pattern=\"[a-z0-9\\-]+\"\r\n        placeholder=\"us-west-002\"\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_backblaze_bucket\"\r\n        label={<Trans message=\"Backblaze bucket name\" />}\r\n        required\r\n      />\r\n      <S3DirectUploadField invalid={isInvalid} />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface S3DirectUploadFieldProps {\r\n  invalid: boolean;\r\n}\r\nfunction S3DirectUploadField({invalid}: S3DirectUploadFieldProps) {\r\n  const uploadCors = useUploadS3Cors();\r\n  const {data: defaultSettings} = useAdminSettings();\r\n\r\n  const s3DriverEnabled =\r\n    defaultSettings?.server.uploads_disk_driver?.endsWith('s3') ||\r\n    defaultSettings?.server.public_disk_driver?.endsWith('s3');\r\n\r\n  return (\r\n    <Fragment>\r\n      <FormSwitch\r\n        className=\"mt-30\"\r\n        invalid={invalid}\r\n        name=\"client.uploads.s3_direct_upload\"\r\n        description={\r\n          <div>\r\n            <p>\r\n              <Trans message=\"Upload files directly from the browser to s3 without going through the server. It will save on server bandwidth and should result in faster upload times. This should be enabled, unless storage provider does not support multipart uploads.\" />\r\n            </p>\r\n            <p className=\"mt-10\">\r\n              <Trans message=\"If s3 provider is not configured to allow uploads from browser, this can be done automatically via CORS button below, when valid credentials are saved.\" />\r\n            </p>\r\n          </div>\r\n        }\r\n      >\r\n        <Trans message=\"Direct upload\" />\r\n      </FormSwitch>\r\n      <Button\r\n        variant=\"flat\"\r\n        color=\"primary\"\r\n        size=\"xs\"\r\n        className=\"mt-20\"\r\n        onClick={() => {\r\n          uploadCors.mutate();\r\n        }}\r\n        disabled={!s3DriverEnabled || uploadCors.isPending}\r\n      >\r\n        <Trans message=\"Configure CORS\" />\r\n      </Button>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction FtpForm({isInvalid}: CredentialFormProps) {\r\n  return (\r\n    <>\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_ftp_host\"\r\n        label={<Trans message=\"FTP hostname\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_ftp_username\"\r\n        label={<Trans message=\"FTP username\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_ftp_password\"\r\n        label={<Trans message=\"FTP password\" />}\r\n        type=\"password\"\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_ftp_root\"\r\n        label={<Trans message=\"FTP directory\" />}\r\n        placeholder=\"/\"\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.storage_ftp_port\"\r\n        label={<Trans message=\"FTP port\" />}\r\n        type=\"number\"\r\n        min={0}\r\n        placeholder=\"21\"\r\n      />\r\n      <FormSwitch\r\n        invalid={isInvalid}\r\n        name=\"server.storage_ftp_passive\"\r\n        className=\"mb-30\"\r\n      >\r\n        <Trans message=\"Passive\" />\r\n      </FormSwitch>\r\n      <FormSwitch invalid={isInvalid} name=\"server.storage_ftp_ssl\">\r\n        <Trans message=\"SSL\" />\r\n      </FormSwitch>\r\n    </>\r\n  );\r\n}\r\n","import {Fragment} from 'react';\r\nimport {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '../../../../i18n/trans';\r\n\r\nexport interface MailgunCredentialsProps {\r\n  isInvalid: boolean;\r\n}\r\nexport function MailgunCredentials({isInvalid}: MailgunCredentialsProps) {\r\n  return (\r\n    <Fragment>\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.mailgun_domain\"\r\n        label={<Trans message=\"Mailgun domain\" />}\r\n        description={\r\n          <Trans message=\"Usually the domain of your site (site.com)\" />\r\n        }\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.mailgun_secret\"\r\n        label={<Trans message=\"Mailgun API key\" />}\r\n        description={<Trans message=\"Should start with `key-`\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        name=\"server.mailgun_endpoint\"\r\n        label={<Trans message=\"Mailgun endpoint\" />}\r\n        description={\r\n          <Trans message=\"Can be left empty, if your mailgun account is in the US region.\" />\r\n        }\r\n        placeholder=\"api.eu.mailgun.net\"\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\n","import {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '../../../../i18n/trans';\r\nimport {FormSelect} from '@common/ui/forms/select/select';\r\nimport {Item} from '@common/ui/forms/listbox/item';\r\n\r\nexport interface SmtpCredentialsProps {\r\n  isInvalid: boolean;\r\n}\r\nexport function SmtpCredentials({isInvalid}: SmtpCredentialsProps) {\r\n  return (\r\n    <>\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.mail_host\"\r\n        label={<Trans message=\"SMTP host\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.mail_username\"\r\n        label={<Trans message=\"SMTP username\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        type=\"password\"\r\n        name=\"server.mail_password\"\r\n        label={<Trans message=\"SMTP password\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        type=\"number\"\r\n        name=\"server.mail_port\"\r\n        label={<Trans message=\"SMTP port\" />}\r\n      />\r\n      <FormSelect\r\n        selectionMode=\"single\"\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.mail_encryption\"\r\n        label={<Trans message=\"SMTP encryption\" />}\r\n      >\r\n        <Item value=\"\">\r\n          <Trans message=\"None\" />\r\n        </Item>\r\n        <Item value=\"tls\">\r\n          <Trans message=\"TLS\" />\r\n        </Item>\r\n      </FormSelect>\r\n    </>\r\n  );\r\n}\r\n","import {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '../../../../i18n/trans';\r\nimport {Fragment} from 'react';\r\n\r\nexport interface SesCredentialsProps {\r\n  isInvalid: boolean;\r\n}\r\nexport function SesCredentials({isInvalid}: SesCredentialsProps) {\r\n  return (\r\n    <Fragment>\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.ses_key\"\r\n        label={<Trans message=\"SES key\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.ses_secret\"\r\n        label={<Trans message=\"SES secret\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        name=\"server.ses_region\"\r\n        label={<Trans message=\"SES region\" />}\r\n        placeholder=\"us-east-1\"\r\n        required\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\n","import {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '../../../../i18n/trans';\r\n\r\nexport interface PostmarkCredentialsProps {\r\n  isInvalid: boolean;\r\n}\r\nexport function PostmarkCredentials({isInvalid}: PostmarkCredentialsProps) {\r\n  return (\r\n    <FormTextField\r\n      invalid={isInvalid}\r\n      name=\"server.postmark_token\"\r\n      label={<Trans message=\"Postmark token\" />}\r\n      required\r\n    />\r\n  );\r\n}\r\n","import {createSvgIcon} from '../../../../icons/create-svg-icon';\r\n\r\nexport const GmailIcon = createSvgIcon(\r\n  [\r\n    <path\r\n      key=\"0\"\r\n      fill=\"#4caf50\"\r\n      d=\"M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z\"\r\n    />,\r\n    <path\r\n      key=\"1\"\r\n      fill=\"#1e88e5\"\r\n      d=\"M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z\"\r\n    />,\r\n    <polygon\r\n      key=\"2\"\r\n      fill=\"#e53935\"\r\n      points=\"35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17\"\r\n    />,\r\n    <path\r\n      key=\"3\"\r\n      fill=\"#c62828\"\r\n      d=\"M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z\"\r\n    />,\r\n    <path\r\n      key=\"4\"\r\n      fill=\"#fbc02d\"\r\n      d=\"M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z\"\r\n    />,\r\n  ],\r\n  'Gmail',\r\n  '0 0 48 48'\r\n);\r\n","import {useFormContext} from 'react-hook-form';\r\nimport {AdminSettings} from '../../admin-settings';\r\nimport {useSocialLogin} from '../../../../auth/requests/use-social-login';\r\nimport {toast} from '../../../../ui/toast/toast';\r\nimport {message} from '../../../../i18n/message';\r\nimport {Button} from '../../../../ui/buttons/button';\r\nimport {GmailIcon} from './gmail-icon';\r\nimport {Trans} from '../../../../i18n/trans';\r\nimport {Fragment} from 'react';\r\n\r\nexport function ConnectGmailPanel() {\r\n  const {watch, setValue} = useFormContext<AdminSettings>();\r\n  const {connectSocial} = useSocialLogin();\r\n  const connectedEmail = watch('server.connectedGmailAccount');\r\n\r\n  const handleGmailConnect = async () => {\r\n    const e = await connectSocial('secure/settings/mail/gmail/connect');\r\n    if (e?.status === 'SUCCESS') {\r\n      const email = (e.callbackData as any).profile.email;\r\n      setValue('server.connectedGmailAccount', email);\r\n      toast(message('Connected gmail account: :email', {values: {email}}));\r\n    }\r\n  };\r\n\r\n  const connectButton = (\r\n    <Button\r\n      variant=\"outline\"\r\n      color=\"primary\"\r\n      startIcon={<GmailIcon />}\r\n      onClick={() => {\r\n        handleGmailConnect();\r\n      }}\r\n    >\r\n      <Trans message=\"Connect gmail account\" />\r\n    </Button>\r\n  );\r\n\r\n  const reconnectPanel = (\r\n    <div className=\"flex items-center gap-14 rounded border bg-alt px-14 py-6 text-sm\">\r\n      <GmailIcon size=\"lg\" />\r\n      {connectedEmail}\r\n      <Button\r\n        variant=\"text\"\r\n        color=\"primary\"\r\n        className=\"ml-auto\"\r\n        onClick={() => {\r\n          handleGmailConnect();\r\n        }}\r\n      >\r\n        <Trans message=\"Reconnect\" />\r\n      </Button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"mb-6 text-sm\">\r\n        <Trans message=\"Gmail account\" />\r\n      </div>\r\n      {connectedEmail ? reconnectPanel : connectButton}\r\n    </Fragment>\r\n  );\r\n}\r\n","import {useFormContext} from 'react-hook-form';\r\nimport {AdminSettings} from '../../admin-settings';\r\nimport {ComponentType, Fragment} from 'react';\r\nimport {MailgunCredentials} from './mailgun-credentials';\r\nimport {SmtpCredentials} from './smtp-credentials';\r\nimport {SesCredentials} from './ses-credentials';\r\nimport {PostmarkCredentials} from './postmark-credentials';\r\nimport {ConnectGmailPanel} from './connect-gmail-panel';\r\nimport {SettingsErrorGroup} from '../../settings-error-group';\r\nimport {FormSelect, Option} from '../../../../ui/forms/select/select';\r\nimport {Trans} from '../../../../i18n/trans';\r\nimport {LearnMoreLink} from '../../learn-more-link';\r\n\r\nexport function OutgoingMailGroup() {\r\n  const {watch, clearErrors} = useFormContext<AdminSettings>();\r\n\r\n  const selectedDriver = watch('server.mail_driver');\r\n  const credentialForms: ComponentType<{isInvalid: boolean}>[] = [];\r\n\r\n  if (selectedDriver === 'mailgun') {\r\n    credentialForms.push(MailgunCredentials);\r\n  }\r\n  if (selectedDriver === 'smtp') {\r\n    credentialForms.push(SmtpCredentials);\r\n  }\r\n  if (selectedDriver === 'ses') {\r\n    credentialForms.push(SesCredentials);\r\n  }\r\n  if (selectedDriver === 'postmark') {\r\n    credentialForms.push(PostmarkCredentials);\r\n  }\r\n  if (selectedDriver === 'gmailApi') {\r\n    credentialForms.push(ConnectGmailPanel);\r\n  }\r\n\r\n  return (\r\n    <SettingsErrorGroup\r\n      separatorTop={false}\r\n      separatorBottom={false}\r\n      name=\"mail_group\"\r\n    >\r\n      {isInvalid => (\r\n        <Fragment>\r\n          <FormSelect\r\n            onSelectionChange={() => {\r\n              clearErrors();\r\n            }}\r\n            invalid={isInvalid}\r\n            selectionMode=\"single\"\r\n            name=\"server.mail_driver\"\r\n            label={<Trans message=\"Outgoing mail method\" />}\r\n            description={\r\n              <div>\r\n                <Trans message=\"Which method should be used for sending outgoing application emails (like registration confirmation)\" />\r\n                <LearnMoreLink\r\n                  className=\"mt-8\"\r\n                  link=\"https://support.vebto.com/help-center/articles/42/44/155/incoming-emails\"\r\n                />\r\n              </div>\r\n            }\r\n          >\r\n            <Option value=\"mailgun\">Mailgun</Option>\r\n            <Option value=\"gmailApi\">Gmail Api</Option>\r\n            <Option value=\"smtp\">SMTP</Option>\r\n            <Option value=\"postmark\">Postmark</Option>\r\n            <Option value=\"ses\">Ses (Amazon Simple Email Service)</Option>\r\n            <Option value=\"sendmail\">SendMail</Option>\r\n            <Option value=\"log\">Log (Email will be saved to error log)</Option>\r\n          </FormSelect>\r\n          {credentialForms.length ? (\r\n            <div className=\"mt-30\">\r\n              {credentialForms.map((CredentialsForm, index) => (\r\n                <CredentialsForm key={index} isInvalid={isInvalid} />\r\n              ))}\r\n            </div>\r\n          ) : null}\r\n        </Fragment>\r\n      )}\r\n    </SettingsErrorGroup>\r\n  );\r\n}\r\n","import {SettingsPanel} from '../../settings-panel';\r\nimport {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\r\nimport {ExternalLink} from '../../../../ui/buttons/external-link';\r\nimport {SectionHelper} from '../../../../ui/section-helper';\r\nimport {SettingsSeparator} from '../../settings-separator';\r\nimport {Trans} from '../../../../i18n/trans';\r\nimport {OutgoingMailGroup} from './outgoing-mail-group';\r\nimport {useSettings} from '../../../../core/settings/use-settings';\r\n\r\nexport function OutgoingEmailSettings() {\r\n  return (\r\n    <SettingsPanel\r\n      title={<Trans message=\"Outgoing email settings\" />}\r\n      description={\r\n        <Trans message=\"Change outgoing email handlers, email credentials and other related settings.\" />\r\n      }\r\n    >\r\n      <FormTextField\r\n        id=\"outgoing-emails\"\r\n        className=\"mb-30\"\r\n        type=\"email\"\r\n        name=\"server.mail_from_address\"\r\n        label={<Trans message=\"From address\" />}\r\n        description={\r\n          <Trans message=\"All outgoing application emails will be sent from this email address.\" />\r\n        }\r\n        required\r\n      />\r\n      <ContactAddressSection />\r\n      <FormTextField\r\n        className=\"mb-30\"\r\n        name=\"server.mail_from_name\"\r\n        label={<Trans message=\"From name\" />}\r\n        description={\r\n          <Trans message=\"All outgoing application emails will be sent using this name.\" />\r\n        }\r\n        required\r\n      />\r\n      <SectionHelper\r\n        color=\"warning\"\r\n        description={\r\n          <Trans message=\"Your selected mail method must be authorized to send emails using this address and name.\" />\r\n        }\r\n      />\r\n      <SettingsSeparator />\r\n      <OutgoingMailGroup />\r\n    </SettingsPanel>\r\n  );\r\n}\r\n\r\nfunction ContactAddressSection() {\r\n  const {base_url} = useSettings();\r\n  const contactPageUrl = `${base_url}/contact`;\r\n  const link = (\r\n    <ExternalLink href={contactPageUrl}>{contactPageUrl}</ExternalLink>\r\n  );\r\n  return (\r\n    <FormTextField\r\n      className=\"mb-30\"\r\n      type=\"email\"\r\n      name=\"client.mail.contact_page_address\"\r\n      label={<Trans message=\"Contact page address\" />}\r\n      description={\r\n        <Trans\r\n          values={{\r\n            contactPageUrl: link,\r\n          }}\r\n          message=\"Where emails from :contactPageUrl page should be sent to.\"\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {toast} from '../../../../ui/toast/toast';\r\nimport {BackendResponse} from '../../../../http/backend-response/backend-response';\r\nimport {message} from '../../../../i18n/message';\r\nimport {apiClient} from '../../../../http/query-client';\r\nimport {showHttpErrorToast} from '../../../../utils/http/show-http-error-toast';\r\n\r\ninterface Response extends BackendResponse {}\r\n\r\nfunction clearCache(): Promise<Response> {\r\n  return apiClient.post('cache/flush').then(r => r.data);\r\n}\r\n\r\nexport function useClearCache() {\r\n  return useMutation({\r\n    mutationFn: () => clearCache(),\r\n    onSuccess: () => {\r\n      toast(message('Cache cleared'));\r\n    },\r\n    onError: err => showHttpErrorToast(err),\r\n  });\r\n}\r\n","import {useFormContext} from 'react-hook-form';\r\nimport {ComponentType} from 'react';\r\nimport {SettingsPanel} from '../../settings-panel';\r\nimport {FormSelect, Option} from '../../../../ui/forms/select/select';\r\nimport {SettingsErrorGroup} from '../../settings-error-group';\r\nimport {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\r\nimport {AdminSettings} from '../../admin-settings';\r\nimport {useClearCache} from './clear-cache';\r\nimport {Button} from '../../../../ui/buttons/button';\r\nimport {SectionHelper} from '../../../../ui/section-helper';\r\nimport {Trans} from '../../../../i18n/trans';\r\n\r\nexport function CacheSettings() {\r\n  const clearCache = useClearCache();\r\n  return (\r\n    <SettingsPanel\r\n      title={<Trans message=\"Cache settings\" />}\r\n      description={\r\n        <Trans message=\"Select cache provider and manually clear cache.\" />\r\n      }\r\n    >\r\n      <CacheSelect />\r\n      <Button\r\n        type=\"button\"\r\n        variant=\"outline\"\r\n        size=\"xs\"\r\n        color=\"primary\"\r\n        disabled={clearCache.isPending}\r\n        onClick={() => {\r\n          clearCache.mutate();\r\n        }}\r\n      >\r\n        <Trans message=\"Clear cache\" />\r\n      </Button>\r\n      <SectionHelper\r\n        color=\"warning\"\r\n        className=\"mt-30\"\r\n        description={\r\n          <Trans\r\n            message={\r\n              '\"File\" is the best option for most cases and should not be changed, unless you are familiar with another cache method and have it set up on the server already.'\r\n            }\r\n          />\r\n        }\r\n      />\r\n    </SettingsPanel>\r\n  );\r\n}\r\n\r\nfunction CacheSelect() {\r\n  const {watch, clearErrors} = useFormContext<AdminSettings>();\r\n  const cacheDriver = watch('server.cache_driver');\r\n\r\n  let CredentialSection: ComponentType<CredentialProps> | null = null;\r\n  if (cacheDriver === 'memcached') {\r\n    CredentialSection = MemcachedCredentials;\r\n  }\r\n\r\n  return (\r\n    <SettingsErrorGroup separatorTop={false} name=\"cache_group\">\r\n      {isInvalid => {\r\n        return (\r\n          <>\r\n            <FormSelect\r\n              invalid={isInvalid}\r\n              onSelectionChange={() => {\r\n                clearErrors();\r\n              }}\r\n              selectionMode=\"single\"\r\n              name=\"server.cache_driver\"\r\n              label={<Trans message=\"Cache method\" />}\r\n              description={\r\n                <Trans message=\"Which method should be used for storing and retrieving cached items.\" />\r\n              }\r\n            >\r\n              <Option value=\"file\">\r\n                <Trans message=\"File (Default)\" />\r\n              </Option>\r\n              <Option value=\"array\">\r\n                <Trans message=\"None\" />\r\n              </Option>\r\n              <Option value=\"apc\">APC</Option>\r\n              <Option value=\"memcached\">Memcached</Option>\r\n              <Option value=\"redis\">Redis</Option>\r\n            </FormSelect>\r\n            {CredentialSection && (\r\n              <div className=\"mt-30\">\r\n                <CredentialSection isInvalid={isInvalid} />\r\n              </div>\r\n            )}\r\n          </>\r\n        );\r\n      }}\r\n    </SettingsErrorGroup>\r\n  );\r\n}\r\n\r\ninterface CredentialProps {\r\n  isInvalid: boolean;\r\n}\r\nfunction MemcachedCredentials({isInvalid}: CredentialProps) {\r\n  return (\r\n    <>\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.memcached_host\"\r\n        label={<Trans message=\"Memcached host\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        type=\"number\"\r\n        name=\"server.memcached_port\"\r\n        label={<Trans message=\"Memcached port\" />}\r\n        required\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import {useFormContext} from 'react-hook-form';\r\nimport {SettingsPanel} from '@common/admin/settings/settings-panel';\r\nimport {SettingsErrorGroup} from '@common/admin/settings/settings-error-group';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {SectionHelper} from '@common/ui/section-helper';\r\nimport {ExternalLink} from '@common/ui/buttons/external-link';\r\nimport {Trans} from '@common/i18n/trans';\r\n\r\nexport function LoggingSettings() {\r\n  return (\r\n    <SettingsPanel\r\n      title={<Trans message=\"Error logging\" />}\r\n      description={\r\n        <Trans message=\"Configure site error logging and related 3rd party integrations.\" />\r\n      }\r\n    >\r\n      <SentrySection />\r\n      <SectionHelper\r\n        className=\"mt-30\"\r\n        color=\"positive\"\r\n        description={\r\n          <Trans\r\n            values={{\r\n              a: parts => (\r\n                <ExternalLink href=\"https://sentry.io\">{parts}</ExternalLink>\r\n              ),\r\n            }}\r\n            message=\"<a>Sentry</a> integration provides real-time error tracking and helps identify and fix issues when site is in production.\"\r\n          />\r\n        }\r\n      />\r\n    </SettingsPanel>\r\n  );\r\n}\r\n\r\nfunction SentrySection() {\r\n  const {clearErrors} = useFormContext();\r\n  return (\r\n    <SettingsErrorGroup\r\n      separatorTop={false}\r\n      separatorBottom={false}\r\n      name=\"logging_group\"\r\n    >\r\n      {isInvalid => {\r\n        return (\r\n          <FormTextField\r\n            onChange={() => {\r\n              clearErrors();\r\n            }}\r\n            invalid={isInvalid}\r\n            name=\"server.sentry_dsn\"\r\n            type=\"url\"\r\n            minLength={30}\r\n            label={<Trans message=\"Sentry DSN\" />}\r\n          />\r\n        );\r\n      }}\r\n    </SettingsErrorGroup>\r\n  );\r\n}\r\n","import {useFormContext} from 'react-hook-form';\r\nimport {ComponentType} from 'react';\r\nimport {SettingsPanel} from '../settings-panel';\r\nimport {SettingsErrorGroup} from '../settings-error-group';\r\nimport {SectionHelper} from '../../../ui/section-helper';\r\nimport {AdminSettings} from '../admin-settings';\r\nimport {FormSelect, Option} from '../../../ui/forms/select/select';\r\nimport {FormTextField} from '../../../ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '../../../i18n/trans';\r\n\r\nexport function QueueSettings() {\r\n  return (\r\n    <SettingsPanel\r\n      title={<Trans message=\"Queue\" />}\r\n      description={\r\n        <Trans message=\"Select active queue method and enter related 3rd party API keys.\" />\r\n      }\r\n    >\r\n      <SectionHelper\r\n        color=\"positive\"\r\n        className=\"mb-30\"\r\n        description={\r\n          <Trans message=\"Queues allow to defer time consuming tasks, such as sending an email, until a later time. Deferring these tasks can speed up web requests to the application.\" />\r\n        }\r\n      />\r\n      <SectionHelper\r\n        color=\"warning\"\r\n        className=\"mb-30\"\r\n        description={\r\n          <Trans message=\"All methods except sync require additional setup, which should be performed before changing the queue method. Consult documentation for more information.\" />\r\n        }\r\n      />\r\n      <DriverSection />\r\n    </SettingsPanel>\r\n  );\r\n}\r\n\r\nfunction DriverSection() {\r\n  const {watch, clearErrors} = useFormContext<AdminSettings>();\r\n  const queueDriver = watch('server.queue_driver');\r\n\r\n  let CredentialSection: ComponentType<CredentialProps> | null = null;\r\n  if (queueDriver === 'sqs') {\r\n    CredentialSection = SqsCredentials;\r\n  }\r\n  return (\r\n    <SettingsErrorGroup\r\n      separatorTop={false}\r\n      separatorBottom={false}\r\n      name=\"queue_group\"\r\n    >\r\n      {isInvalid => {\r\n        return (\r\n          <>\r\n            <FormSelect\r\n              invalid={isInvalid}\r\n              onSelectionChange={() => {\r\n                clearErrors();\r\n              }}\r\n              selectionMode=\"single\"\r\n              name=\"server.queue_driver\"\r\n              label={<Trans message=\"Queue method\" />}\r\n              required\r\n            >\r\n              <Option value=\"sync\">\r\n                <Trans message=\"Sync (Default)\" />\r\n              </Option>\r\n              <Option value=\"beanstalkd\">Beanstalkd</Option>\r\n              <Option value=\"database\">\r\n                <Trans message=\"Database\" />\r\n              </Option>\r\n              <Option value=\"sqs\">\r\n                <Trans message=\"SQS (Amazon simple queue service)\" />\r\n              </Option>\r\n              <Option value=\"redis\">Redis</Option>\r\n            </FormSelect>\r\n            {CredentialSection && (\r\n              <div className=\"mt-30\">\r\n                <CredentialSection isInvalid={isInvalid} />\r\n              </div>\r\n            )}\r\n          </>\r\n        );\r\n      }}\r\n    </SettingsErrorGroup>\r\n  );\r\n}\r\n\r\ninterface CredentialProps {\r\n  isInvalid: boolean;\r\n}\r\nfunction SqsCredentials({isInvalid}: CredentialProps) {\r\n  return (\r\n    <>\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.sqs_queue_key\"\r\n        label={<Trans message=\"SQS queue key\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.sqs_queue_secret\"\r\n        label={<Trans message=\"SQS queue secret\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.sqs_queue_prefix\"\r\n        label={<Trans message=\"SQS queue prefix\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.sqs_queue_name\"\r\n        label={<Trans message=\"SQS queue name\" />}\r\n        required\r\n      />\r\n      <FormTextField\r\n        invalid={isInvalid}\r\n        className=\"mb-30\"\r\n        name=\"server.sqs_queue_region\"\r\n        label={<Trans message=\"SQS queue region\" />}\r\n        required\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import {useFormContext} from 'react-hook-form';\r\nimport {useContext} from 'react';\r\nimport {SettingsPanel} from '../settings-panel';\r\nimport {SettingsErrorGroup} from '../settings-error-group';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\r\nimport {SiteConfigContext} from '@common/core/settings/site-config-context';\r\nimport {Trans} from '@common/i18n/trans';\r\n\r\nexport function RecaptchaSettings() {\r\n  const {settings} = useContext(SiteConfigContext);\r\n  return (\r\n    <SettingsPanel\r\n      title={<Trans message=\"Recaptcha\" />}\r\n      description={\r\n        <Trans message=\"Configure google recaptcha integration and credentials.\" />\r\n      }\r\n    >\r\n      {settings?.showRecaptchaLinkSwitch && (\r\n        <FormSwitch\r\n          className=\"mb-30\"\r\n          name=\"client.recaptcha.enable.link_creation\"\r\n          description={\r\n            <Trans message=\"Enable recaptcha integration when creating links from homepage or user dashboard.\" />\r\n          }\r\n        >\r\n          <Trans message=\"Link creation\" />\r\n        </FormSwitch>\r\n      )}\r\n      <FormSwitch\r\n        className=\"mb-30\"\r\n        name=\"client.recaptcha.enable.contact\"\r\n        description={\r\n          <Trans\r\n            message={'Enable recaptcha integration for \"contact us\" page.'}\r\n          />\r\n        }\r\n      >\r\n        <Trans message=\"Contact page\" />\r\n      </FormSwitch>\r\n      <FormSwitch\r\n        className=\"mb-30\"\r\n        name=\"client.recaptcha.enable.register\"\r\n        description={\r\n          <Trans message=\"Enable recaptcha integration for registration page.\" />\r\n        }\r\n      >\r\n        <Trans message=\"Registration page\" />\r\n      </FormSwitch>\r\n      <RecaptchaSection />\r\n    </SettingsPanel>\r\n  );\r\n}\r\n\r\nfunction RecaptchaSection() {\r\n  const {clearErrors} = useFormContext();\r\n  return (\r\n    <SettingsErrorGroup\r\n      separatorTop={false}\r\n      separatorBottom={false}\r\n      name=\"recaptcha_group\"\r\n    >\r\n      {isInvalid => {\r\n        return (\r\n          <>\r\n            <FormTextField\r\n              className=\"mb-30\"\r\n              onChange={() => {\r\n                clearErrors();\r\n              }}\r\n              invalid={isInvalid}\r\n              name=\"client.recaptcha.site_key\"\r\n              label={<Trans message=\"Recaptcha v3 site key\" />}\r\n            />\r\n            <FormTextField\r\n              onChange={() => {\r\n                clearErrors();\r\n              }}\r\n              invalid={isInvalid}\r\n              name=\"client.recaptcha.secret_key\"\r\n              label={<Trans message=\"Recaptcha v3 secret key\" />}\r\n            />\r\n          </>\r\n        );\r\n      }}\r\n    </SettingsErrorGroup>\r\n  );\r\n}\r\n","import React, {ChangeEventHandler} from 'react';\r\nimport {mergeProps, useObjectRef} from '@react-aria/utils';\r\nimport {useController} from 'react-hook-form';\r\nimport clsx from 'clsx';\r\nimport {BaseFieldProps} from './base-field-props';\r\nimport {useField} from './use-field';\r\nimport {getInputFieldClassNames} from './get-input-field-class-names';\r\nimport {Field} from './field';\r\nimport {TextFieldProps} from './text-field/text-field';\r\n\r\nexport interface FileFieldProps\r\n  extends Omit<BaseFieldProps, 'type'> {\r\n  onChange?: ChangeEventHandler<'input'>;\r\n  accept?: string;\r\n}\r\nexport const FileField = React.forwardRef<HTMLInputElement, FileFieldProps>(\r\n  (props, ref) => {\r\n    const inputRef = useObjectRef(ref);\r\n\r\n    const {fieldProps, inputProps} = useField({...props, focusRef: inputRef});\r\n\r\n    const inputFieldClassNames = getInputFieldClassNames(props);\r\n\r\n    return (\r\n      <Field ref={ref} fieldClassNames={inputFieldClassNames} {...fieldProps}>\r\n        <input\r\n          type=\"file\"\r\n          ref={inputRef}\r\n          {...inputProps as any}\r\n          className={clsx(\r\n            inputFieldClassNames.input,\r\n            'py-8',\r\n            'file:bg-primary file:text-on-primary file:border-none file:rounded file:text-sm file:font-semibold file:px-10 file:h-24 file:mr-10'\r\n          )}\r\n        />\r\n      </Field>\r\n    );\r\n  }\r\n);\r\n\r\nexport interface FormFileFieldProps extends FileFieldProps {\r\n  name: string;\r\n}\r\nexport function FormFileField({name, ...props}: FormFileFieldProps) {\r\n  const {\r\n    field: {onChange, onBlur, ref},\r\n    fieldState: {invalid, error},\r\n  } = useController({\r\n    name,\r\n  });\r\n\r\n  const [value, setValue] = React.useState('');\r\n\r\n  const formProps: TextFieldProps = {\r\n    onChange: e => {\r\n      onChange(e.target.files?.[0]);\r\n      setValue(e.target.value);\r\n    },\r\n    onBlur,\r\n    value,\r\n    invalid,\r\n    errorMessage: error?.message,\r\n  };\r\n\r\n  return <FileField ref={ref} {...mergeProps(formProps, props)} />;\r\n}\r\n","import {useFormContext} from 'react-hook-form';\r\nimport {SettingsPanel} from '../settings-panel';\r\nimport {SettingsErrorGroup} from '../settings-error-group';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {FormFileField} from '@common/ui/forms/input-field/file-field';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {Fragment} from 'react';\r\n\r\nexport function ReportsSettings() {\r\n  return (\r\n    <SettingsPanel\r\n      title={<Trans message=\"Analytics\" />}\r\n      description={\r\n        <Trans message=\"Configure google analytics integration and credentials.\" />\r\n      }\r\n    >\r\n      <AnalyticsSection />\r\n    </SettingsPanel>\r\n  );\r\n}\r\n\r\nfunction AnalyticsSection() {\r\n  const {clearErrors} = useFormContext();\r\n  return (\r\n    <SettingsErrorGroup\r\n      separatorTop={false}\r\n      separatorBottom={false}\r\n      name=\"analytics_group\"\r\n    >\r\n      {isInvalid => (\r\n        <Fragment>\r\n          <FormFileField\r\n            className=\"mb-30\"\r\n            onChange={() => {\r\n              clearErrors();\r\n            }}\r\n            invalid={isInvalid}\r\n            name=\"files.certificate\"\r\n            accept=\".json\"\r\n            label={<Trans message=\"Google service account key file (.json)\" />}\r\n          />\r\n          <FormTextField\r\n            className=\"mb-30\"\r\n            onChange={() => {\r\n              clearErrors();\r\n            }}\r\n            invalid={isInvalid}\r\n            name=\"server.analytics_property_id\"\r\n            type=\"number\"\r\n            label={<Trans message=\"Google analytics property ID\" />}\r\n          />\r\n          <FormTextField\r\n            className=\"mb-30\"\r\n            onChange={() => {\r\n              clearErrors();\r\n            }}\r\n            invalid={isInvalid}\r\n            name=\"client.analytics.tracking_code\"\r\n            placeholder=\"G-******\"\r\n            min=\"1\"\r\n            max=\"20\"\r\n            description={\r\n              <Trans message=\"Google analytics measurement ID only, not the whole javascript snippet.\" />\r\n            }\r\n            label={<Trans message=\"Google tag manager measurement ID\" />}\r\n          />\r\n          <FormTextField\r\n            name=\"client.analytics.gchart_api_key\"\r\n            label={<Trans message=\"Google maps javascript API key\" />}\r\n            description={\r\n              <Trans message=\"Only required in order to show world geochart on integrated analytics pages.\" />\r\n            }\r\n          />\r\n        </Fragment>\r\n      )}\r\n    </SettingsErrorGroup>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {User} from '@common/auth/user';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\r\nimport {message} from '@common/i18n/message';\r\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\r\n\r\ninterface Response extends BackendResponse {\r\n  user: User;\r\n}\r\n\r\nexport interface UpdateUserPayload\r\n  extends Omit<Partial<User>, 'email_verified_at'> {\r\n  email_verified_at?: boolean;\r\n  id: number;\r\n}\r\n\r\nexport function useUpdateUser(form: UseFormReturn<UpdateUserPayload>) {\r\n  const navigate = useNavigate();\r\n  return useMutation({\r\n    mutationFn: (props: UpdateUserPayload) => updateUser(props),\r\n    onSuccess: (response, props) => {\r\n      toast(message('User updated'));\r\n      queryClient.invalidateQueries({queryKey: ['users']});\r\n      navigate('/admin/users');\r\n    },\r\n    onError: r => onFormQueryError(r, form),\r\n  });\r\n}\r\n\r\nfunction updateUser({id, ...other}: UpdateUserPayload): Promise<Response> {\r\n  if (other.roles) {\r\n    other.roles = other.roles.map(r => r.id) as any;\r\n  }\r\n  return apiClient.put(`users/${id}`, other).then(r => r.data);\r\n}\r\n","import {useCallback, useRef, useState} from 'react';\r\n\r\nexport function useStickySentinel() {\r\n  const [isSticky, setIsSticky] = useState(false);\r\n\r\n  const observerRef = useRef<IntersectionObserver>();\r\n\r\n  const sentinelRef = useCallback((sentinel: HTMLDivElement | null) => {\r\n    if (sentinel) {\r\n      const observer = new IntersectionObserver(\r\n        ([e]) => setIsSticky(e.intersectionRatio < 1),\r\n        {threshold: [1]}\r\n      );\r\n      observerRef.current = observer;\r\n      observer.observe(sentinel);\r\n    } else if (observerRef.current) {\r\n      observerRef.current?.disconnect();\r\n    }\r\n  }, []);\r\n\r\n  return {isSticky, sentinelRef};\r\n}\r\n","import {FieldValues, SubmitHandler, UseFormReturn} from 'react-hook-form';\r\nimport clsx from 'clsx';\r\nimport React, {ReactNode} from 'react';\r\nimport {useStickySentinel} from '../utils/hooks/sticky-sentinel';\r\nimport {Form} from '../ui/forms/form';\r\nimport {Button} from '../ui/buttons/button';\r\nimport {Trans} from '../i18n/trans';\r\n\r\ninterface Props<T extends FieldValues> {\r\n  onSubmit: SubmitHandler<T>;\r\n  form: UseFormReturn<T>;\r\n  title: ReactNode;\r\n  subTitle?: ReactNode;\r\n  isLoading: boolean;\r\n  children: ReactNode;\r\n  actions?: ReactNode;\r\n  backButton?: ReactNode;\r\n  disableSaveWhenNotDirty?: boolean;\r\n  wrapInContainer?: boolean;\r\n}\r\nexport function CrupdateResourceLayout<T extends FieldValues>({\r\n  onSubmit,\r\n  form,\r\n  title,\r\n  subTitle,\r\n  children,\r\n  actions,\r\n  backButton,\r\n  isLoading = false,\r\n  disableSaveWhenNotDirty = false,\r\n  wrapInContainer = true,\r\n}: Props<T>) {\r\n  const {isSticky, sentinelRef} = useStickySentinel();\r\n  const isDirty = !disableSaveWhenNotDirty\r\n    ? true\r\n    : Object.keys(form.formState.dirtyFields).length;\r\n\r\n  return (\r\n    <Form\r\n      onSubmit={onSubmit}\r\n      onBeforeSubmit={() => form.clearErrors()}\r\n      form={form}\r\n    >\r\n      <div ref={sentinelRef} />\r\n      <div\r\n        className={clsx(\r\n          'sticky top-0 z-10 my-12 transition-shadow md:my-24',\r\n          isSticky && 'bg shadow',\r\n        )}\r\n      >\r\n        <div\r\n          className={clsx(\r\n            'flex items-center gap-24 py-14 md:items-start',\r\n            wrapInContainer && 'container mx-auto px-24',\r\n          )}\r\n        >\r\n          {backButton}\r\n          <div className=\"overflow-hidden overflow-ellipsis md:mr-64\">\r\n            <h1 className=\"overflow-hidden overflow-ellipsis whitespace-nowrap text-xl md:text-3xl\">\r\n              {title}\r\n            </h1>\r\n            {subTitle && <div className=\"mt-4\">{subTitle}</div>}\r\n          </div>\r\n          <div className=\"mr-auto\"></div>\r\n          {actions}\r\n          <Button\r\n            variant=\"flat\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            disabled={isLoading || !isDirty}\r\n          >\r\n            <Trans message=\"Save\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className={\r\n          wrapInContainer ? 'container mx-auto px-24 pb-24' : undefined\r\n        }\r\n      >\r\n        <div className=\"rounded\">{children}</div>\r\n      </div>\r\n    </Form>\r\n  );\r\n}\r\n","import {FieldValues, SubmitHandler, UseFormReturn} from 'react-hook-form';\r\nimport clsx from 'clsx';\r\nimport {ReactNode} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useValueLists} from '../../http/value-lists';\r\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport {FormSwitch} from '../../ui/forms/toggle/switch';\r\nimport {FormFileSizeField} from '../../ui/forms/input-field/file-size-field';\r\nimport {LinkStyle} from '../../ui/buttons/external-link';\r\nimport {FormPermissionSelector} from '../../auth/ui/permission-selector';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {FormChipField} from '../../ui/forms/input-field/chip-field/form-chip-field';\r\nimport {Item} from '../../ui/forms/listbox/item';\r\nimport {CrupdateResourceLayout} from '../crupdate-resource-layout';\r\nimport {useSettings} from '../../core/settings/use-settings';\r\n\r\ninterface Props<T extends FieldValues> {\r\n  onSubmit: SubmitHandler<T>;\r\n  form: UseFormReturn<T>;\r\n  title: ReactNode;\r\n  subTitle?: ReactNode;\r\n  isLoading: boolean;\r\n  avatarManager: ReactNode;\r\n  resendEmailButton?: ReactNode;\r\n  children?: ReactNode;\r\n}\r\nexport function CrupdateUserForm<T extends FieldValues>({\r\n  onSubmit,\r\n  form,\r\n  title,\r\n  subTitle,\r\n  isLoading,\r\n  avatarManager,\r\n  resendEmailButton,\r\n  children,\r\n}: Props<T>) {\r\n  const {require_email_confirmation} = useSettings();\r\n  const {data: valueLists} = useValueLists(['roles', 'permissions']);\r\n\r\n  return (\r\n    <CrupdateResourceLayout\r\n      onSubmit={onSubmit}\r\n      form={form}\r\n      title={title}\r\n      subTitle={subTitle}\r\n      isLoading={isLoading}\r\n    >\r\n      <div className=\"mb-40 flex items-start gap-40 md:gap-80\">\r\n        {avatarManager}\r\n        <div className=\"flex-auto\">\r\n          {children}\r\n          <FormTextField\r\n            className=\"mb-30\"\r\n            name=\"first_name\"\r\n            label={<Trans message=\"First name\" />}\r\n          />\r\n          <FormTextField\r\n            name=\"last_name\"\r\n            label={<Trans message=\"Last name\" />}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mb-30 border-b border-t pb-30 pt-30\">\r\n        <FormSwitch\r\n          className={clsx(resendEmailButton && 'mb-30')}\r\n          disabled={!require_email_confirmation}\r\n          name=\"email_verified_at\"\r\n          description={\r\n            <Trans message=\"Whether email address has been confirmed. User will not be able to login until address is confirmed, unless confirmation is disabled from settings page.\" />\r\n          }\r\n        >\r\n          <Trans message=\"Email confirmed\" />\r\n        </FormSwitch>\r\n        {resendEmailButton}\r\n      </div>\r\n      <FormFileSizeField\r\n        className=\"mb-30\"\r\n        name=\"available_space\"\r\n        label={<Trans message=\"Allowed storage space\" />}\r\n        description={\r\n          <Trans\r\n            values={{\r\n              a: parts => (\r\n                <Link\r\n                  className={LinkStyle}\r\n                  target=\"_blank\"\r\n                  to=\"/admin/settings/uploading\"\r\n                >\r\n                  {parts}\r\n                </Link>\r\n              ),\r\n            }}\r\n            message=\"Total storage space all user uploads are allowed to take up. If left empty, this value will be inherited from any roles or subscriptions user has, or from 'Available space' setting in <a>Uploading</a> settings page.\"\r\n          />\r\n        }\r\n      />\r\n      <FormChipField\r\n        className=\"mb-30\"\r\n        name=\"roles\"\r\n        label={<Trans message=\"Roles\" />}\r\n        suggestions={valueLists?.roles}\r\n      >\r\n        {chip => (\r\n          <Item key={chip.id} value={chip.id}>\r\n            {chip.name}\r\n          </Item>\r\n        )}\r\n      </FormChipField>\r\n      <div className=\"mt-30 border-t pt-30\">\r\n        <div className=\"mb-10 text-sm\">\r\n          <Trans message=\"Permissions\" />\r\n        </div>\r\n        <FormPermissionSelector name=\"permissions\" />\r\n      </div>\r\n    </CrupdateResourceLayout>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const ReportIcon = createSvgIcon(\r\n  [<path d=\"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM19 14.9 14.9 19H9.1L5 14.9V9.1L9.1 5h5.8L19 9.1v5.8z\" key=\"0\" />,<circle cx=\"12\" cy=\"16\" r=\"1\" key=\"1\" />,<path d=\"M11 7h2v7h-2z\" key=\"2\" />,]\r\n, 'ReportOutlined');\r\n","import {useForm} from 'react-hook-form';\r\nimport {useParams} from 'react-router-dom';\r\nimport React, {useEffect} from 'react';\r\nimport {useUser} from '../../auth/ui/use-user';\r\nimport {UpdateUserPayload, useUpdateUser} from './requests/update-user';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {useResendVerificationEmail} from '../../auth/requests/use-resend-verification-email';\r\nimport {useUploadAvatar} from '../../auth/ui/account-settings/avatar/upload-avatar';\r\nimport {useRemoveAvatar} from '../../auth/ui/account-settings/avatar/remove-avatar';\r\nimport {CrupdateUserForm} from './crupdate-user-form';\r\nimport {User} from '../../auth/user';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {FullPageLoader} from '../../ui/progress/full-page-loader';\r\nimport {useSettings} from '../../core/settings/use-settings';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\r\nimport {FormImageSelector} from '@common/ui/images/image-selector';\r\nimport {queryClient} from '@common/http/query-client';\r\nimport {ReportIcon} from '@common/icons/material/Report';\r\n\r\nexport function UpdateUserPage() {\r\n  const form = useForm<UpdateUserPayload>();\r\n  const {require_email_confirmation} = useSettings();\r\n  const {userId} = useParams();\r\n  const updateUser = useUpdateUser(form);\r\n  const resendConfirmationEmail = useResendVerificationEmail();\r\n  const {data, isLoading} = useUser(userId!, {\r\n    with: ['subscriptions', 'roles', 'permissions', 'bans'],\r\n  });\r\n  const banReason = data?.user.bans?.[0]?.comment;\r\n\r\n  useEffect(() => {\r\n    if (data?.user && !form.getValues().id) {\r\n      form.reset({\r\n        first_name: data.user.first_name,\r\n        last_name: data.user.last_name,\r\n        roles: data.user.roles,\r\n        permissions: data.user.permissions,\r\n        id: data.user.id,\r\n        email_verified_at: Boolean(data.user.email_verified_at),\r\n        available_space: data.user.available_space,\r\n        avatar: data.user.avatar,\r\n      });\r\n    }\r\n  }, [data?.user, form]);\r\n\r\n  if (isLoading) {\r\n    return <FullPageLoader />;\r\n  }\r\n\r\n  const resendEmailButton = (\r\n    <Button\r\n      size=\"xs\"\r\n      variant=\"outline\"\r\n      color=\"primary\"\r\n      disabled={\r\n        !require_email_confirmation ||\r\n        resendConfirmationEmail.isPending ||\r\n        data?.user?.email_verified_at != null\r\n      }\r\n      onClick={() => {\r\n        resendConfirmationEmail.mutate({email: data!.user.email});\r\n      }}\r\n    >\r\n      <Trans message=\"Resend email\" />\r\n    </Button>\r\n  );\r\n\r\n  return (\r\n    <CrupdateUserForm\r\n      onSubmit={newValues => {\r\n        updateUser.mutate(newValues);\r\n      }}\r\n      form={form}\r\n      title={\r\n        <Trans values={{email: data?.user.email}} message=\"Edit :email\" />\r\n      }\r\n      subTitle={\r\n        banReason && (\r\n          <div className=\"flex items-center gap-4 text-sm text-danger\">\r\n            <ReportIcon />\r\n            <div>\r\n              <Trans\r\n                message=\"Suspended: :reason\"\r\n                values={{reason: banReason}}\r\n              />\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n      isLoading={updateUser.isPending}\r\n      avatarManager={\r\n        <AvatarSection\r\n          user={data!.user}\r\n          onChange={() => {\r\n            queryClient.invalidateQueries({queryKey: ['users']});\r\n          }}\r\n        />\r\n      }\r\n      resendEmailButton={resendEmailButton}\r\n    >\r\n      <FormTextField\r\n        className=\"mb-30\"\r\n        name=\"password\"\r\n        type=\"password\"\r\n        label={<Trans message=\"New password\" />}\r\n      />\r\n    </CrupdateUserForm>\r\n  );\r\n}\r\n\r\ninterface AvatarSectionProps {\r\n  user: User;\r\n  onChange: () => void;\r\n}\r\nfunction AvatarSection({user, onChange}: AvatarSectionProps) {\r\n  const uploadAvatar = useUploadAvatar({user});\r\n  const removeAvatar = useRemoveAvatar({user});\r\n  return (\r\n    <FileUploadProvider>\r\n      <FormImageSelector\r\n        name=\"avatar\"\r\n        diskPrefix=\"avatars\"\r\n        variant=\"avatar\"\r\n        stretchPreview\r\n        label={<Trans message=\"Profile image\" />}\r\n        previewSize=\"w-90 h-90\"\r\n        showRemoveButton\r\n        onChange={url => {\r\n          if (url) {\r\n            uploadAvatar.mutate({url});\r\n          } else {\r\n            removeAvatar.mutate();\r\n          }\r\n          onChange();\r\n        }}\r\n      />\r\n    </FileUploadProvider>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {User} from '../../../auth/user';\r\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\r\nimport {toast} from '../../../ui/toast/toast';\r\nimport {apiClient, queryClient} from '../../../http/query-client';\r\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\r\nimport {onFormQueryError} from '../../../errors/on-form-query-error';\r\nimport {message} from '../../../i18n/message';\r\nimport {useNavigate} from '../../../utils/hooks/use-navigate';\r\n\r\ninterface Response extends BackendResponse {\r\n  user: User;\r\n}\r\n\r\nexport interface CreateUserPayload\r\n  extends Omit<Partial<User>, 'email_verified_at'> {\r\n  email_verified_at?: boolean;\r\n}\r\n\r\nexport function useCreateUser(form: UseFormReturn<CreateUserPayload>) {\r\n  const navigate = useNavigate();\r\n  return useMutation({\r\n    mutationFn: (props: CreateUserPayload) => createUser(props),\r\n    onSuccess: () => {\r\n      toast(message('User created'));\r\n      queryClient.invalidateQueries({queryKey: DatatableDataQueryKey('users')});\r\n      navigate('/admin/users');\r\n    },\r\n    onError: r => onFormQueryError(r, form),\r\n  });\r\n}\r\n\r\nfunction createUser(payload: CreateUserPayload): Promise<Response> {\r\n  if (payload.roles) {\r\n    payload.roles = payload.roles.map(r => r.id) as any;\r\n  }\r\n  return apiClient.post('users', payload).then(r => r.data);\r\n}\r\n","import {useForm} from 'react-hook-form';\r\nimport React from 'react';\r\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport {CreateUserPayload, useCreateUser} from './requests/create-user';\r\nimport {CrupdateUserForm} from './crupdate-user-form';\r\nimport {FileUploadProvider} from '../../uploads/uploader/file-upload-provider';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {FormImageSelector} from '@common/ui/images/image-selector';\r\n\r\nexport function CreateUserPage() {\r\n  const form = useForm<CreateUserPayload>();\r\n  const createUser = useCreateUser(form);\r\n\r\n  const avatarManager = (\r\n    <FileUploadProvider>\r\n      <FormImageSelector\r\n        name=\"avatar\"\r\n        diskPrefix=\"avatars\"\r\n        variant=\"avatar\"\r\n        stretchPreview\r\n        label={<Trans message=\"Profile image\" />}\r\n        previewSize=\"w-90 h-90\"\r\n        showRemoveButton\r\n      />\r\n    </FileUploadProvider>\r\n  );\r\n\r\n  return (\r\n    <CrupdateUserForm\r\n      onSubmit={newValues => {\r\n        createUser.mutate(newValues);\r\n      }}\r\n      form={form}\r\n      title={<Trans message=\"Add new user\" />}\r\n      isLoading={createUser.isPending}\r\n      avatarManager={avatarManager}\r\n    >\r\n      <FormTextField\r\n        className=\"mb-30\"\r\n        name=\"email\"\r\n        type=\"email\"\r\n        label={<Trans message=\"Email\" />}\r\n      />\r\n      <FormTextField\r\n        className=\"mb-30\"\r\n        name=\"password\"\r\n        type=\"password\"\r\n        label={<Trans message=\"Password\" />}\r\n      />\r\n    </CrupdateUserForm>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const TranslateIcon = createSvgIcon(\r\n  <path d=\"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7 1.62-4.33L19.12 17h-3.24z\" />\r\n, 'TranslateOutlined');\r\n","import {useQuery} from '@tanstack/react-query';\r\nimport {BackendResponse} from '../../http/backend-response/backend-response';\r\nimport {Localization} from '../../i18n/localization';\r\nimport {apiClient} from '../../http/query-client';\r\n\r\nexport interface FetchLocaleWithLinesResponse extends BackendResponse {\r\n  localization: Localization;\r\n}\r\n\r\nexport const getLocalWithLinesQueryKey = (localeId?: number | string) => {\r\n  const key: (string | number)[] = ['getLocaleWithLines'];\r\n  if (localeId != null) {\r\n    key.push(localeId);\r\n  }\r\n  return key;\r\n};\r\n\r\nexport function useLocaleWithLines(localeId: number | string) {\r\n  return useQuery({\r\n    queryKey: getLocalWithLinesQueryKey(localeId),\r\n    queryFn: () => fetchLocaleWithLines(localeId),\r\n    staleTime: Infinity,\r\n  });\r\n}\r\n\r\nfunction fetchLocaleWithLines(\r\n  localeId: number | string,\r\n): Promise<FetchLocaleWithLinesResponse> {\r\n  return apiClient\r\n    .get(`localizations/${localeId}`)\r\n    .then(response => response.data);\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {toast} from '../../ui/toast/toast';\r\nimport {BackendResponse} from '../../http/backend-response/backend-response';\r\nimport {apiClient, queryClient} from '../../http/query-client';\r\nimport {message} from '../../i18n/message';\r\nimport {DatatableDataQueryKey} from '../../datatable/requests/paginated-resources';\r\nimport {Localization} from '../../i18n/localization';\r\nimport {onFormQueryError} from '../../errors/on-form-query-error';\r\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\r\nimport {getLocalWithLinesQueryKey} from './use-locale-with-lines';\r\n\r\ninterface Response extends BackendResponse {\r\n  localization: Localization;\r\n}\r\n\r\nfunction UpdateLocalization({\r\n  id,\r\n  ...other\r\n}: Partial<Localization>): Promise<Response> {\r\n  return apiClient.put(`localizations/${id}`, other).then(r => r.data);\r\n}\r\n\r\nexport function useUpdateLocalization(\r\n  form?: UseFormReturn<Partial<Localization>>,\r\n) {\r\n  return useMutation({\r\n    mutationFn: (props: Partial<Localization>) => UpdateLocalization(props),\r\n    onSuccess: () => {\r\n      toast(message('Localization updated'));\r\n      queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('localizations'),\r\n      });\r\n      queryClient.invalidateQueries({queryKey: getLocalWithLinesQueryKey()});\r\n    },\r\n    onError: r => (form ? onFormQueryError(r, form) : showHttpErrorToast(r)),\r\n  });\r\n}\r\n","import {useForm} from 'react-hook-form';\r\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\r\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\r\nimport {Form} from '../../ui/forms/form';\r\nimport {Localization} from '../../i18n/localization';\r\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport {useValueLists} from '../../http/value-lists';\r\nimport {FormSelect, Option} from '../../ui/forms/select/select';\r\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {useUpdateLocalization} from './update-localization';\r\nimport {message} from '@common/i18n/message';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\n\r\ninterface UpdateLocalizationDialogProps {\r\n  localization: Localization;\r\n}\r\nexport function UpdateLocalizationDialog({\r\n  localization,\r\n}: UpdateLocalizationDialogProps) {\r\n  const {trans} = useTrans();\r\n  const {formId, close} = useDialogContext();\r\n  const form = useForm<Partial<Localization>>({\r\n    defaultValues: {\r\n      id: localization.id,\r\n      name: localization.name,\r\n      language: localization.language,\r\n    },\r\n  });\r\n\r\n  const {data} = useValueLists(['languages']);\r\n  const languages = data?.languages || [];\r\n\r\n  const updateLocalization = useUpdateLocalization(form);\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Update localization\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <Form\r\n          form={form}\r\n          id={formId}\r\n          onSubmit={values => {\r\n            updateLocalization.mutate(values, {onSuccess: close});\r\n          }}\r\n        >\r\n          <FormTextField\r\n            name=\"name\"\r\n            label={<Trans message=\"Name\" />}\r\n            className=\"mb-30\"\r\n            required\r\n          />\r\n          <FormSelect\r\n            required\r\n            name=\"language\"\r\n            label={<Trans message=\"Language\" />}\r\n            selectionMode=\"single\"\r\n            showSearchField\r\n            searchPlaceholder={trans(message('Search languages'))}\r\n          >\r\n            {languages.map(language => (\r\n              <Option value={language.code} key={language.code}>\r\n                {language.name}\r\n              </Option>\r\n            ))}\r\n          </FormSelect>\r\n        </Form>\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button onClick={close}>\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n          form={formId}\r\n          disabled={updateLocalization.isPending}\r\n        >\r\n          <Trans message=\"Save\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {useMutation, useQueryClient} from '@tanstack/react-query';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {toast} from '../../ui/toast/toast';\r\nimport {BackendResponse} from '../../http/backend-response/backend-response';\r\nimport {apiClient} from '../../http/query-client';\r\nimport {message} from '../../i18n/message';\r\nimport {DatatableDataQueryKey} from '../../datatable/requests/paginated-resources';\r\nimport {onFormQueryError} from '../../errors/on-form-query-error';\r\nimport {Localization} from '../../i18n/localization';\r\n\r\ninterface Response extends BackendResponse {\r\n  localization: Localization;\r\n}\r\n\r\nexport interface CreateLocalizationPayload {\r\n  name: string;\r\n  language: string;\r\n}\r\n\r\nfunction createLocalization(\r\n  payload: CreateLocalizationPayload,\r\n): Promise<Response> {\r\n  return apiClient.post(`localizations`, payload).then(r => r.data);\r\n}\r\n\r\nexport function useCreateLocalization(\r\n  form: UseFormReturn<CreateLocalizationPayload>,\r\n) {\r\n  const queryClient = useQueryClient();\r\n  return useMutation({\r\n    mutationFn: (props: CreateLocalizationPayload) => createLocalization(props),\r\n    onSuccess: () => {\r\n      toast(message('Localization created'));\r\n      queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('localizations'),\r\n      });\r\n    },\r\n    onError: r => onFormQueryError(r, form),\r\n  });\r\n}\r\n","import {useForm} from 'react-hook-form';\r\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\r\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\r\nimport {Form} from '../../ui/forms/form';\r\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport {useValueLists} from '../../http/value-lists';\r\nimport {FormSelect, Option} from '../../ui/forms/select/select';\r\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {\r\n  CreateLocalizationPayload,\r\n  useCreateLocalization,\r\n} from './create-localization';\r\nimport {message} from '@common/i18n/message';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\n\r\nexport function CreateLocationDialog() {\r\n  const {trans} = useTrans();\r\n  const {formId, close} = useDialogContext();\r\n  const form = useForm<CreateLocalizationPayload>({\r\n    defaultValues: {\r\n      language: 'en',\r\n    },\r\n  });\r\n\r\n  const {data} = useValueLists(['languages']);\r\n  const languages = data?.languages || [];\r\n\r\n  const createLocalization = useCreateLocalization(form);\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Create localization\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <Form\r\n          form={form}\r\n          id={formId}\r\n          onSubmit={values => {\r\n            createLocalization.mutate(values, {onSuccess: close});\r\n          }}\r\n        >\r\n          <FormTextField\r\n            autoFocus\r\n            name=\"name\"\r\n            label={<Trans message=\"Name\" />}\r\n            className=\"mb-30\"\r\n            required\r\n          />\r\n          <FormSelect\r\n            required\r\n            name=\"language\"\r\n            label={<Trans message=\"Language\" />}\r\n            selectionMode=\"single\"\r\n            showSearchField\r\n            searchPlaceholder={trans(message('Search languages'))}\r\n          >\r\n            {languages.map(language => (\r\n              <Option value={language.code} key={language.code}>\r\n                {language.name}\r\n              </Option>\r\n            ))}\r\n          </FormSelect>\r\n        </Form>\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button onClick={close}>\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n          form={formId}\r\n          disabled={createLocalization.isPending}\r\n        >\r\n          <Trans message=\"Save\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","export default \"__VITE_ASSET__5bb85b7d__\"","import {useMutation} from '@tanstack/react-query';\r\nimport {toast} from '../../ui/toast/toast';\r\nimport {BackendResponse} from '../../http/backend-response/backend-response';\r\nimport {apiClient, queryClient} from '../../http/query-client';\r\nimport {message} from '../../i18n/message';\r\nimport {DatatableDataQueryKey} from '../../datatable/requests/paginated-resources';\r\nimport {Localization} from '../../i18n/localization';\r\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\r\nimport {getLocalWithLinesQueryKey} from './use-locale-with-lines';\r\nimport {UploadedFile} from '@common/uploads/uploaded-file';\r\n\r\ninterface Response extends BackendResponse {\r\n  localization: Localization;\r\n}\r\n\r\ninterface Payload {\r\n  file: UploadedFile;\r\n  localeId: string | number;\r\n}\r\n\r\nexport function useUploadTranslationFile() {\r\n  return useMutation({\r\n    mutationFn: (payload: Payload) => uploadFile(payload),\r\n    onSuccess: async () => {\r\n      await queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('localizations'),\r\n      });\r\n      await queryClient.invalidateQueries({\r\n        queryKey: getLocalWithLinesQueryKey(),\r\n      });\r\n      toast(message('Translation file uploaded'));\r\n    },\r\n    onError: r => showHttpErrorToast(r),\r\n  });\r\n}\r\n\r\nfunction uploadFile({localeId, file}: Payload): Promise<Response> {\r\n  const data = new FormData();\r\n  data.append('file', file.native);\r\n  return apiClient\r\n    .post(`localizations/${localeId}/upload`, data)\r\n    .then(r => r.data);\r\n}\r\n","import React, {Fragment} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {DataTablePage} from '../../datatable/page/data-table-page';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {FormattedDate} from '../../i18n/formatted-date';\r\nimport {ColumnConfig} from '../../datatable/column-config';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {Localization} from '../../i18n/localization';\r\nimport {TranslateIcon} from '../../icons/material/Translate';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport {UpdateLocalizationDialog} from './update-localization-dialog';\r\nimport {Tooltip} from '../../ui/tooltip/tooltip';\r\nimport {CreateLocationDialog} from './create-localization-dialog';\r\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\r\nimport aroundTheWorldSvg from './around-the-world.svg';\r\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\r\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\r\nimport {\r\n  Menu,\r\n  MenuItem,\r\n  MenuTrigger,\r\n} from '@common/ui/navigation/menu/menu-trigger';\r\nimport {openDialog} from '@common/ui/overlays/store/dialog-store';\r\nimport {downloadFileFromUrl} from '@common/uploads/utils/download-file-from-url';\r\nimport {MoreVertIcon} from '@common/icons/material/MoreVert';\r\nimport {UploadInputType} from '@common/uploads/types/upload-input-config';\r\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\r\nimport {useUploadTranslationFile} from '@common/admin/translations/use-upload-translation-file';\r\nimport {openUploadWindow} from '@common/uploads/utils/open-upload-window';\r\n\r\nconst columnConfig: ColumnConfig<Localization>[] = [\r\n  {\r\n    key: 'name',\r\n    allowsSorting: true,\r\n    sortingKey: 'name',\r\n    visibleInMode: 'all',\r\n    width: 'flex-3 min-w-200',\r\n    header: () => <Trans message=\"Name\" />,\r\n    body: locale => locale.name,\r\n  },\r\n  {\r\n    key: 'language',\r\n    allowsSorting: true,\r\n    sortingKey: 'language',\r\n    header: () => <Trans message=\"Language code\" />,\r\n    body: locale => locale.language,\r\n  },\r\n  {\r\n    key: 'updatedAt',\r\n    allowsSorting: true,\r\n    width: 'w-100',\r\n    header: () => <Trans message=\"Last updated\" />,\r\n    body: locale => <FormattedDate date={locale.updated_at} />,\r\n  },\r\n  {\r\n    key: 'actions',\r\n    header: () => <Trans message=\"Actions\" />,\r\n    hideHeader: true,\r\n    align: 'end',\r\n    width: 'w-84 flex-shrink-0',\r\n    visibleInMode: 'all',\r\n    body: locale => {\r\n      return (\r\n        <div className=\"text-muted\">\r\n          <Tooltip label={<Trans message=\"Translate\" />}>\r\n            <IconButton\r\n              size=\"md\"\r\n              elementType={Link}\r\n              to={`${locale.id}/translate`}\r\n            >\r\n              <TranslateIcon />\r\n            </IconButton>\r\n          </Tooltip>\r\n\r\n          <FileUploadProvider>\r\n            <RowActionsMenuTrigger locale={locale} />\r\n          </FileUploadProvider>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\nexport function LocalizationIndex() {\r\n  return (\r\n    <DataTablePage\r\n      endpoint=\"localizations\"\r\n      title={<Trans message=\"Localizations\" />}\r\n      columns={columnConfig}\r\n      actions={<Actions />}\r\n      selectedActions={<DeleteSelectedItemsAction />}\r\n      emptyStateMessage={\r\n        <DataTableEmptyStateMessage\r\n          image={aroundTheWorldSvg}\r\n          title={<Trans message=\"No localizations have been created yet\" />}\r\n          filteringTitle={<Trans message=\"No matching localizations\" />}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction Actions() {\r\n  return (\r\n    <Fragment>\r\n      <DialogTrigger type=\"modal\">\r\n        <DataTableAddItemButton>\r\n          <Trans message=\"Add new localization\" />\r\n        </DataTableAddItemButton>\r\n        <CreateLocationDialog />\r\n      </DialogTrigger>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface RowActionsMenuTriggerProps {\r\n  locale: Localization;\r\n}\r\nfunction RowActionsMenuTrigger({locale}: RowActionsMenuTriggerProps) {\r\n  const uploadFile = useUploadTranslationFile();\r\n  return (\r\n    <MenuTrigger>\r\n      <IconButton disabled={uploadFile.isPending}>\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu>\r\n        <MenuItem\r\n          value=\"translate\"\r\n          elementType={Link}\r\n          to={`${locale.id}/translate`}\r\n        >\r\n          <Trans message=\"Translate\" />\r\n        </MenuItem>\r\n        <MenuItem\r\n          value=\"rename\"\r\n          onSelected={() =>\r\n            openDialog(UpdateLocalizationDialog, {localization: locale})\r\n          }\r\n        >\r\n          <Trans message=\"Rename\" />\r\n        </MenuItem>\r\n        <MenuItem\r\n          value=\"download\"\r\n          onSelected={() =>\r\n            downloadFileFromUrl(`api/v1/localizations/${locale.id}/download`)\r\n          }\r\n        >\r\n          <Trans message=\"Download\" />\r\n        </MenuItem>\r\n        <MenuItem\r\n          value=\"upload\"\r\n          onSelected={async () => {\r\n            const files = await openUploadWindow({\r\n              types: [UploadInputType.json],\r\n            });\r\n            if (files.length == 1) {\r\n              uploadFile.mutate({localeId: locale.id, file: files[0]});\r\n            }\r\n          }}\r\n        >\r\n          <Trans message=\"Upload\" />\r\n        </MenuItem>\r\n      </Menu>\r\n    </MenuTrigger>\r\n  );\r\n}\r\n","import {useForm} from 'react-hook-form';\r\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\r\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\r\nimport {Form} from '../../ui/forms/form';\r\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {SectionHelper} from '../../ui/section-helper';\r\n\r\ninterface FormValue {\r\n  key: string;\r\n  value: string;\r\n}\r\n\r\nexport function NewTranslationDialog() {\r\n  const {formId, close} = useDialogContext();\r\n  const form = useForm<FormValue>();\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Add translation\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <Form\r\n          form={form}\r\n          id={formId}\r\n          onSubmit={values => {\r\n            close(values);\r\n          }}\r\n        >\r\n          <SectionHelper\r\n            className=\"mb-30\"\r\n            title={\r\n              <Trans message=\"Add a new translation, if it does not exist already.\" />\r\n            }\r\n            description={\r\n              <Trans message=\"This should only need to be done for things like custom menu items.\" />\r\n            }\r\n          />\r\n          <FormTextField\r\n            inputElementType=\"textarea\"\r\n            rows={2}\r\n            autoFocus\r\n            name=\"key\"\r\n            label={<Trans message=\"Translation key\" />}\r\n            className=\"mb-30\"\r\n            required\r\n          />\r\n          <FormTextField\r\n            inputElementType=\"textarea\"\r\n            rows={2}\r\n            name=\"value\"\r\n            label={<Trans message=\"Translation value\" />}\r\n            required\r\n          />\r\n        </Form>\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button onClick={close}>\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button variant=\"flat\" color=\"primary\" type=\"submit\" form={formId}>\r\n          <Trans message=\"Add\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, {useMemo, useRef, useState} from 'react';\r\nimport {useParams} from 'react-router-dom';\r\nimport {useLocaleWithLines} from './use-locale-with-lines';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {Breadcrumb} from '../../ui/breadcrumbs/breadcrumb';\r\nimport {BreadcrumbItem} from '../../ui/breadcrumbs/breadcrumb-item';\r\nimport {TextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport {useTrans} from '../../i18n/use-trans';\r\nimport {SearchIcon} from '../../icons/material/Search';\r\nimport {CloseIcon} from '../../icons/material/Close';\r\nimport {AddIcon} from '../../icons/material/Add';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport {NewTranslationDialog} from './new-translation-dialog';\r\nimport {useUpdateLocalization} from './update-localization';\r\nimport {Localization} from '../../i18n/localization';\r\nimport {FullPageLoader} from '../../ui/progress/full-page-loader';\r\nimport {useIsMobileMediaQuery} from '../../utils/hooks/is-mobile-media-query';\r\nimport {useVirtualizer} from '@tanstack/react-virtual';\r\nimport {useNavigate} from '../../utils/hooks/use-navigate';\r\nimport {useUploadTranslationFile} from '@common/admin/translations/use-upload-translation-file';\r\nimport {\r\n  Menu,\r\n  MenuItem,\r\n  MenuTrigger,\r\n} from '@common/ui/navigation/menu/menu-trigger';\r\nimport {MoreVertIcon} from '@common/icons/material/MoreVert';\r\nimport {downloadFileFromUrl} from '@common/uploads/utils/download-file-from-url';\r\nimport {openUploadWindow} from '@common/uploads/utils/open-upload-window';\r\nimport {UploadInputType} from '@common/uploads/types/upload-input-config';\r\n\r\ntype Lines = Record<string, string>;\r\n\r\nexport function TranslationManagementPage() {\r\n  const {localeId} = useParams();\r\n\r\n  const {data, isLoading} = useLocaleWithLines(localeId!);\r\n  const localization = data?.localization;\r\n\r\n  if (isLoading || !localization) {\r\n    return <FullPageLoader />;\r\n  }\r\n\r\n  return <Form localization={localization} />;\r\n}\r\n\r\ninterface FormProps {\r\n  localization: Localization;\r\n}\r\nfunction Form({localization}: FormProps) {\r\n  const [lines, setLines] = useState<Lines>(localization.lines || {});\r\n\r\n  const navigate = useNavigate();\r\n  const updateLocalization = useUpdateLocalization();\r\n  const [searchQuery, setSearchQuery] = useState<string>('');\r\n\r\n  return (\r\n    <form\r\n      className=\"flex h-full flex-col p-14 md:p-24\"\r\n      onSubmit={e => {\r\n        e.preventDefault();\r\n        updateLocalization.mutate(\r\n          {id: localization.id, lines},\r\n          {\r\n            onSuccess: () => {\r\n              navigate('/admin/localizations');\r\n            },\r\n          },\r\n        );\r\n      }}\r\n    >\r\n      <Header\r\n        localization={localization}\r\n        setLines={setLines}\r\n        lines={lines}\r\n        searchQuery={searchQuery}\r\n        setSearchQuery={setSearchQuery}\r\n        isLoading={updateLocalization.isPending}\r\n      />\r\n      <LinesList lines={lines} setLines={setLines} searchQuery={searchQuery} />\r\n    </form>\r\n  );\r\n}\r\n\r\ninterface HeaderProps {\r\n  localization: Localization;\r\n  lines: Lines;\r\n  setLines: (lines: Lines) => void;\r\n  searchQuery: string;\r\n  setSearchQuery: (value: string) => void;\r\n  isLoading: boolean;\r\n}\r\nfunction Header({\r\n  localization,\r\n  searchQuery,\r\n  setSearchQuery,\r\n  isLoading,\r\n  lines,\r\n  setLines,\r\n}: HeaderProps) {\r\n  const navigate = useNavigate();\r\n  const isMobile = useIsMobileMediaQuery();\r\n  const {trans} = useTrans();\r\n\r\n  return (\r\n    <div className=\"flex-shrink-0\">\r\n      <Breadcrumb size=\"lg\" className=\"mb-16\">\r\n        <BreadcrumbItem\r\n          onSelected={() => {\r\n            navigate('/admin/localizations');\r\n          }}\r\n        >\r\n          <Trans message=\"Localizations\" />\r\n        </BreadcrumbItem>\r\n        <BreadcrumbItem>\r\n          <Trans\r\n            message=\":locale translations\"\r\n            values={{locale: localization.name}}\r\n          />\r\n        </BreadcrumbItem>\r\n      </Breadcrumb>\r\n      <div className=\"mb-24 flex items-center gap-32 md:gap-12\">\r\n        <div className=\"max-w-440 flex-auto\">\r\n          <TextField\r\n            value={searchQuery}\r\n            onChange={e => setSearchQuery(e.target.value)}\r\n            startAdornment={<SearchIcon />}\r\n            placeholder={trans({message: 'Type to search...'})}\r\n          />\r\n        </div>\r\n        <DialogTrigger\r\n          type=\"modal\"\r\n          onClose={newTranslation => {\r\n            if (newTranslation) {\r\n              const newLines = {...lines};\r\n              newLines[newTranslation.key] = newTranslation.value;\r\n              setLines(newLines);\r\n            }\r\n          }}\r\n        >\r\n          {!isMobile && (\r\n            <Button\r\n              className=\"ml-auto\"\r\n              variant=\"outline\"\r\n              color=\"primary\"\r\n              startIcon={<AddIcon />}\r\n            >\r\n              <Trans message=\"Add new\" />\r\n            </Button>\r\n          )}\r\n          <NewTranslationDialog />\r\n        </DialogTrigger>\r\n        <ActionsMenuTrigger locale={localization} />\r\n        <Button\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n        >\r\n          {isMobile ? (\r\n            <Trans message=\"Save\" />\r\n          ) : (\r\n            <Trans message=\"Save translations\" />\r\n          )}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface LinesListProps {\r\n  searchQuery?: string;\r\n  lines: Lines;\r\n  setLines: (lines: Lines) => void;\r\n}\r\nfunction LinesList({searchQuery, lines, setLines}: LinesListProps) {\r\n  const filteredLines = useMemo(() => {\r\n    return Object.entries(lines).filter(([id, translation]) => {\r\n      const lowerCaseQuery = searchQuery?.toLowerCase();\r\n      return (\r\n        !lowerCaseQuery ||\r\n        id?.toLowerCase().includes(lowerCaseQuery) ||\r\n        translation?.toLowerCase().includes(lowerCaseQuery)\r\n      );\r\n    });\r\n  }, [lines, searchQuery]);\r\n\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const rowVirtualizer = useVirtualizer({\r\n    count: filteredLines.length,\r\n    getScrollElement: () => ref.current,\r\n    estimateSize: () => 123,\r\n  });\r\n\r\n  return (\r\n    <div className=\"flex-auto overflow-y-auto\" ref={ref}>\r\n      <div\r\n        className=\"relative w-full\"\r\n        style={{\r\n          height: `${rowVirtualizer.getTotalSize()}px`,\r\n        }}\r\n      >\r\n        {rowVirtualizer.getVirtualItems().map(virtualItem => {\r\n          const [id, translation] = filteredLines[virtualItem.index];\r\n          return (\r\n            <div\r\n              key={id}\r\n              className=\"absolute left-0 top-0 w-full\"\r\n              style={{\r\n                height: `${virtualItem.size}px`,\r\n                transform: `translateY(${virtualItem.start}px)`,\r\n              }}\r\n            >\r\n              <div className=\"mb-10 rounded border md:mr-10\">\r\n                <div className=\"flex items-center justify-between gap-24 border-b px-10 py-2\">\r\n                  <label\r\n                    className=\"flex-auto text-xs font-semibold\"\r\n                    htmlFor={id}\r\n                  >\r\n                    {id}\r\n                  </label>\r\n                  <IconButton\r\n                    size=\"xs\"\r\n                    className=\"text-muted\"\r\n                    onClick={() => {\r\n                      const newLines = {...lines};\r\n                      delete newLines[id];\r\n                      setLines(newLines);\r\n                    }}\r\n                  >\r\n                    <CloseIcon />\r\n                  </IconButton>\r\n                </div>\r\n                <div>\r\n                  <textarea\r\n                    id={id}\r\n                    name={id}\r\n                    defaultValue={translation}\r\n                    className=\"block w-full resize-none rounded bg-inherit p-10 text-sm outline-none focus-visible:ring-2\"\r\n                    rows={2}\r\n                    onChange={e => {\r\n                      const newLines = {...lines};\r\n                      newLines[id] = e.target.value;\r\n                      setLines(newLines);\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface ActionsMenuTriggerProps {\r\n  locale: Localization;\r\n}\r\nfunction ActionsMenuTrigger({locale}: ActionsMenuTriggerProps) {\r\n  const uploadFile = useUploadTranslationFile();\r\n  return (\r\n    <MenuTrigger>\r\n      <IconButton\r\n        variant=\"outline\"\r\n        size=\"sm\"\r\n        color=\"primary\"\r\n        disabled={uploadFile.isPending}\r\n      >\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu>\r\n        <MenuItem\r\n          value=\"download\"\r\n          onSelected={() =>\r\n            downloadFileFromUrl(`api/v1/localizations/${locale.id}/download`)\r\n          }\r\n        >\r\n          <Trans message=\"Download\" />\r\n        </MenuItem>\r\n        <MenuItem\r\n          value=\"upload\"\r\n          onSelected={async () => {\r\n            const files = await openUploadWindow({\r\n              types: [UploadInputType.json],\r\n            });\r\n            if (files.length == 1) {\r\n              uploadFile.mutate({localeId: locale.id, file: files[0]});\r\n            }\r\n          }}\r\n        >\r\n          <Trans message=\"Upload\" />\r\n        </MenuItem>\r\n      </Menu>\r\n    </MenuTrigger>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {useDialogContext} from './dialog-context';\r\nimport {Dialog} from './dialog';\r\nimport {DialogBody} from './dialog-body';\r\nimport {IconButton} from '@common/ui/buttons/icon-button';\r\nimport {CloseIcon} from '@common/icons/material/Close';\r\nimport {KeyboardArrowLeftIcon} from '@common/icons/material/KeyboardArrowLeft';\r\nimport {KeyboardArrowRightIcon} from '@common/icons/material/KeyboardArrowRight';\r\nimport {useControlledState} from '@react-stately/utils';\r\n\r\ninterface Props {\r\n  image?: string;\r\n  images?: string[];\r\n  activeIndex?: number;\r\n  onActiveIndexChange?: (index: number) => void;\r\n  defaultActiveIndex?: number;\r\n}\r\nexport function ImageZoomDialog(props: Props) {\r\n  const {close} = useDialogContext();\r\n  const {image, images} = props;\r\n  const [activeIndex, setActiveIndex] = useControlledState(\r\n    props.activeIndex,\r\n    props.defaultActiveIndex,\r\n    props.onActiveIndexChange,\r\n  );\r\n  const src = image || images?.[activeIndex];\r\n\r\n  return (\r\n    <Dialog size=\"fullscreenTakeover\" background=\"bg-black/80\">\r\n      <DialogBody padding=\"p-0\" className=\"h-full w-full\">\r\n        <IconButton\r\n          size=\"lg\"\r\n          color=\"paper\"\r\n          className=\"absolute right-0 top-0 z-20 text-white\"\r\n          onClick={() => {\r\n            close();\r\n          }}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n        <div className=\"relative flex h-full w-full items-center justify-center p-40\">\r\n          {images?.length ? (\r\n            <IconButton\r\n              size=\"lg\"\r\n              color=\"white\"\r\n              variant=\"flat\"\r\n              className=\"absolute bottom-0 left-20 top-0 my-auto\"\r\n              disabled={activeIndex < 1}\r\n              onClick={() => {\r\n                setActiveIndex(activeIndex - 1);\r\n              }}\r\n            >\r\n              <KeyboardArrowLeftIcon />\r\n            </IconButton>\r\n          ) : null}\r\n          <img\r\n            src={src}\r\n            alt=\"\"\r\n            className=\"max-h-full w-auto object-contain shadow\"\r\n          />\r\n          {images?.length ? (\r\n            <IconButton\r\n              size=\"lg\"\r\n              color=\"white\"\r\n              variant=\"flat\"\r\n              className=\"absolute bottom-0 right-20 top-0 my-auto\"\r\n              disabled={activeIndex + 1 === images?.length}\r\n              onClick={() => {\r\n                setActiveIndex(activeIndex + 1);\r\n              }}\r\n            >\r\n              <KeyboardArrowRightIcon />\r\n            </IconButton>\r\n          ) : null}\r\n        </div>\r\n      </DialogBody>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {useContext} from 'react';\r\nimport {\r\n  AdConfig,\r\n  SiteConfigContext,\r\n} from '../../core/settings/site-config-context';\r\nimport {Form} from '../../ui/forms/form';\r\nimport {useForm} from 'react-hook-form';\r\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {FormSwitch} from '../../ui/forms/toggle/switch';\r\nimport {useAdminSettings} from '../settings/requests/use-admin-settings';\r\nimport {ProgressCircle} from '../../ui/progress/progress-circle';\r\nimport {Settings} from '../../core/settings/settings';\r\nimport {\r\n  AdminSettingsWithFiles,\r\n  useUpdateAdminSettings,\r\n} from '../settings/requests/update-admin-settings';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport {ImageZoomDialog} from '../../ui/overlays/dialog/image-zoom-dialog';\r\nimport {StaticPageTitle} from '../../seo/static-page-title';\r\n\r\nexport function AdsPage() {\r\n  const query = useAdminSettings();\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-12 md:p-24\">\r\n      <StaticPageTitle>\r\n        <Trans message=\"Ads\" />\r\n      </StaticPageTitle>\r\n      <h1 className=\"mb-20 text-2xl font-light md:mb-40 md:text-3xl\">\r\n        <Trans message=\"Predefined Ad slots\" />\r\n      </h1>\r\n      {query.isLoading ? (\r\n        <ProgressCircle isIndeterminate />\r\n      ) : (\r\n        <AdsForm defaultValues={query.data?.client.ads || {}} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface AdsFormProps {\r\n  defaultValues: Settings['ads'];\r\n}\r\nfunction AdsForm({defaultValues}: AdsFormProps) {\r\n  const {\r\n    admin: {ads},\r\n  } = useContext(SiteConfigContext);\r\n\r\n  const form = useForm<AdminSettingsWithFiles>({\r\n    defaultValues: {client: {ads: defaultValues}},\r\n  });\r\n  const updateSettings = useUpdateAdminSettings(form);\r\n\r\n  return (\r\n    <Form\r\n      form={form}\r\n      onSubmit={value => {\r\n        updateSettings.mutate(value);\r\n      }}\r\n    >\r\n      {ads.map(ad => {\r\n        return <AdSection key={ad.slot} adConfig={ad} />;\r\n      })}\r\n      <FormSwitch\r\n        name=\"client.ads.disable\"\r\n        className=\"mb-30\"\r\n        description={\r\n          <Trans message=\"Disable all add related functionality across the site.\" />\r\n        }\r\n      >\r\n        <Trans message=\"Disable ads\" />\r\n      </FormSwitch>\r\n      <Button\r\n        type=\"submit\"\r\n        variant=\"flat\"\r\n        color=\"primary\"\r\n        disabled={updateSettings.isPending}\r\n      >\r\n        <Trans message=\"Save\" />\r\n      </Button>\r\n    </Form>\r\n  );\r\n}\r\n\r\ninterface AdSectionProps {\r\n  adConfig: AdConfig;\r\n}\r\nfunction AdSection({adConfig}: AdSectionProps) {\r\n  return (\r\n    <div className=\"flex items-center gap-24\">\r\n      <FormTextField\r\n        className=\"mb-30 flex-auto\"\r\n        name={`client.${adConfig.slot}`}\r\n        inputElementType=\"textarea\"\r\n        rows={8}\r\n        label={<Trans {...adConfig.description} />}\r\n      />\r\n      <DialogTrigger type=\"modal\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"cursor-zoom-in overflow-hidden rounded outline-none transition hover:scale-105 focus-visible:ring max-md:hidden\"\r\n        >\r\n          <img\r\n            src={adConfig.image}\r\n            className=\"h-[186px] w-auto border\"\r\n            alt=\"Ad slot example\"\r\n          />\r\n        </button>\r\n        <ImageZoomDialog image={adConfig.image} />\r\n      </DialogTrigger>\r\n    </div>\r\n  );\r\n}\r\n","import {NavLink} from 'react-router-dom';\r\nimport {AppearanceButton} from './appearance-button';\r\nimport {useAppearanceStore} from './appearance-store';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {Fragment, useMemo} from 'react';\r\n\r\nexport function SectionList() {\r\n  const sections = useAppearanceStore(s => s.config?.sections);\r\n  const sortedSection = useMemo(() => {\r\n    if (!sections) return [];\r\n    return Object.entries(sections || [])\r\n      .map(([key, value]) => {\r\n        return {\r\n          ...value,\r\n          key,\r\n        };\r\n      })\r\n      .sort((a, b) => (a?.position || 1) - (b?.position || 1));\r\n  }, [sections]);\r\n\r\n  return (\r\n    <Fragment>\r\n      {sortedSection.map(section => {\r\n        return (\r\n          <AppearanceButton\r\n            key={section.key}\r\n            to={section.key}\r\n            elementType={NavLink}\r\n          >\r\n            <Trans {...section.label} />\r\n          </AppearanceButton>\r\n        );\r\n      })}\r\n    </Fragment>\r\n  );\r\n}\r\n","import {\r\n  BackendFilter,\r\n  FilterControlType,\r\n  FilterOperator,\r\n} from '../../datatable/filters/backend-filter';\r\nimport {message} from '../../i18n/message';\r\nimport {\r\n  createdAtFilter,\r\n  updatedAtFilter,\r\n} from '@common/datatable/filters/timestamp-filters';\r\n\r\nexport const RoleIndexPageFilters: BackendFilter[] = [\r\n  {\r\n    key: 'type',\r\n    label: message('Type'),\r\n    description: message('Type of the role'),\r\n    defaultOperator: FilterOperator.ne,\r\n    control: {\r\n      type: FilterControlType.Select,\r\n      defaultValue: '01',\r\n      options: [\r\n        {\r\n          key: '01',\r\n          label: message('Sitewide'),\r\n          value: 'sitewide',\r\n        },\r\n        {\r\n          key: '02',\r\n          label: message('Workspace'),\r\n          value: 'workspace',\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  createdAtFilter({\r\n    description: message('Date role was created'),\r\n  }),\r\n  updatedAtFilter({\r\n    description: message('Date role was last updated'),\r\n  }),\r\n];\r\n","import React, {Fragment} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {DataTablePage} from '../../datatable/page/data-table-page';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {EditIcon} from '../../icons/material/Edit';\r\nimport {FormattedDate} from '../../i18n/formatted-date';\r\nimport {ColumnConfig} from '../../datatable/column-config';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {Role} from '../../auth/role';\r\nimport teamSvg from './team.svg';\r\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\r\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\r\nimport {RoleIndexPageFilters} from './role-index-page-filters';\r\nimport {DataTableExportCsvButton} from '../../datatable/csv-export/data-table-export-csv-button';\r\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\r\n\r\nconst columnConfig: ColumnConfig<Role>[] = [\r\n  {\r\n    key: 'name',\r\n    allowsSorting: true,\r\n    visibleInMode: 'all',\r\n    header: () => <Trans message=\"Role\" />,\r\n    body: role => (\r\n      <div>\r\n        <div>\r\n          <Trans message={role.name} />\r\n        </div>\r\n        <div className=\"text-muted text-xs overflow-x-hidden overflow-ellipsis\">\r\n          {role.description ? <Trans message={role.description} /> : undefined}\r\n        </div>\r\n      </div>\r\n    ),\r\n  },\r\n  {\r\n    key: 'type',\r\n    maxWidth: 'max-w-100',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Type\" />,\r\n    body: role => <Trans message={role.type} />,\r\n  },\r\n  {\r\n    key: 'updated_at',\r\n    maxWidth: 'max-w-100',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Last updated\" />,\r\n    body: role => <FormattedDate date={role.updated_at} />,\r\n  },\r\n  {\r\n    key: 'actions',\r\n    header: () => <Trans message=\"Actions\" />,\r\n    hideHeader: true,\r\n    visibleInMode: 'all',\r\n    align: 'end',\r\n    width: 'w-42 flex-shrink-0',\r\n    body: role => {\r\n      return (\r\n        <Link to={`${role.id}/edit`}>\r\n          <IconButton size=\"md\" className=\"text-muted\">\r\n            <EditIcon />\r\n          </IconButton>\r\n        </Link>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\nexport function RolesIndexPage() {\r\n  return (\r\n    <DataTablePage\r\n      endpoint=\"roles\"\r\n      title={<Trans message=\"Roles\" />}\r\n      columns={columnConfig}\r\n      filters={RoleIndexPageFilters}\r\n      actions={<Actions />}\r\n      selectedActions={<DeleteSelectedItemsAction />}\r\n      emptyStateMessage={\r\n        <DataTableEmptyStateMessage\r\n          image={teamSvg}\r\n          title={<Trans message=\"No roles have been created yet\" />}\r\n          filteringTitle={<Trans message=\"No matching roles\" />}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction Actions() {\r\n  return (\r\n    <Fragment>\r\n      <DataTableExportCsvButton endpoint=\"roles/csv/export\" />\r\n      <DataTableAddItemButton elementType={Link} to=\"new\">\r\n        <Trans message=\"Add new role\" />\r\n      </DataTableAddItemButton>\r\n    </Fragment>\r\n  );\r\n}\r\n","import {useQuery} from '@tanstack/react-query';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {apiClient} from '@common/http/query-client';\r\nimport {Role} from '@common/auth/role';\r\nimport {useParams} from 'react-router-dom';\r\n\r\nconst Endpoint = (id: number | string) => `roles/${id}`;\r\n\r\nexport interface FetchRoleResponse extends BackendResponse {\r\n  role: Role;\r\n}\r\n\r\nexport function useRole() {\r\n  const {roleId} = useParams();\r\n  return useQuery({\r\n    queryKey: [Endpoint(roleId!)],\r\n    queryFn: () => fetchRole(roleId!),\r\n  });\r\n}\r\n\r\nfunction fetchRole(roleId: number | string): Promise<FetchRoleResponse> {\r\n  return apiClient.get(Endpoint(roleId)).then(response => response.data);\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '../../../http/query-client';\r\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\r\nimport {toast} from '../../../ui/toast/toast';\r\nimport {Role} from '../../../auth/role';\r\nimport {useTrans} from '../../../i18n/use-trans';\r\nimport {message} from '../../../i18n/message';\r\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\r\nimport {showHttpErrorToast} from '../../../utils/http/show-http-error-toast';\r\nimport {useNavigate} from '../../../utils/hooks/use-navigate';\r\n\r\ninterface Response extends BackendResponse {\r\n  role: Role;\r\n}\r\n\r\ninterface Payload extends Partial<Role> {\r\n  id: number;\r\n}\r\n\r\nconst Endpoint = (id: number) => `roles/${id}`;\r\n\r\nexport function useUpdateRole() {\r\n  const {trans} = useTrans();\r\n  const navigate = useNavigate();\r\n  return useMutation({\r\n    mutationFn: (payload: Payload) => updateRole(payload),\r\n    onSuccess: response => {\r\n      toast(trans(message('Role updated')));\r\n      queryClient.invalidateQueries({queryKey: [Endpoint(response.role.id)]});\r\n      queryClient.invalidateQueries({queryKey: DatatableDataQueryKey('roles')});\r\n      navigate('/admin/roles');\r\n    },\r\n    onError: err => showHttpErrorToast(err),\r\n  });\r\n}\r\n\r\nfunction updateRole({id, ...payload}: Payload): Promise<Response> {\r\n  return apiClient.put(Endpoint(id), payload).then(r => r.data);\r\n}\r\n","import {Role} from '../../../auth/role';\r\nimport {useTrans} from '../../../i18n/use-trans';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport {FormTextField} from '../../../ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '../../../i18n/trans';\r\nimport {message} from '../../../i18n/message';\r\nimport {FormSelect} from '../../../ui/forms/select/select';\r\nimport {Item} from '../../../ui/forms/listbox/item';\r\nimport {FormSwitch} from '../../../ui/forms/toggle/switch';\r\nimport {FormPermissionSelector} from '../../../auth/ui/permission-selector';\r\nimport {useSettings} from '../../../core/settings/use-settings';\r\n\r\ninterface CrupdateRolePageSettingsPanelProps {\r\n  isInternal?: boolean;\r\n}\r\nexport function CrupdateRolePageSettingsPanel({\r\n  isInternal = false,\r\n}: CrupdateRolePageSettingsPanelProps) {\r\n  const {trans} = useTrans();\r\n  const {workspaces} = useSettings();\r\n  const {watch} = useFormContext<Role>();\r\n  const watchedType = watch('type');\r\n\r\n  return (\r\n    <>\r\n      <FormTextField\r\n        label={<Trans message=\"Name\" />}\r\n        name=\"name\"\r\n        className=\"mb-20\"\r\n        required\r\n      />\r\n      <FormTextField\r\n        label={<Trans message=\"Description\" />}\r\n        name=\"description\"\r\n        inputElementType=\"textarea\"\r\n        placeholder={trans(message('Role description...'))}\r\n        rows={4}\r\n        className=\"mb-20\"\r\n      />\r\n      {workspaces.integrated && (\r\n        <FormSelect\r\n          label={<Trans message=\"Type\" />}\r\n          name=\"type\"\r\n          selectionMode=\"single\"\r\n          className=\"mb-20\"\r\n          description={\r\n            <Trans message=\"Whether this role will be assigned to users globally on the site or only within workspaces.\" />\r\n          }\r\n        >\r\n          <Item value=\"sitewide\">\r\n            <Trans message=\"Sitewide\" />\r\n          </Item>\r\n          <Item value=\"workspace\">\r\n            <Trans message=\"Workspace\" />\r\n          </Item>\r\n        </FormSelect>\r\n      )}\r\n      {!isInternal && (\r\n        <>\r\n          <FormSwitch\r\n            name=\"default\"\r\n            className=\"mb-20\"\r\n            description={\r\n              <Trans message=\"Assign this role to new users automatically.\" />\r\n            }\r\n          >\r\n            <Trans message=\"Default\" />\r\n          </FormSwitch>\r\n          {watchedType === 'sitewide' && (\r\n            <FormSwitch\r\n              name=\"guests\"\r\n              description={\r\n                <Trans message=\"Assign this role to guests (not logged in users).\" />\r\n              }\r\n            >\r\n              <Trans message=\"Guests\" />\r\n            </FormSwitch>\r\n          )}\r\n        </>\r\n      )}\r\n      <h2 className=\"mb-10 mt-30 text-lg\">\r\n        <Trans message=\"Permissions\" />\r\n      </h2>\r\n      <FormPermissionSelector\r\n        name=\"permissions\"\r\n        valueListKey={\r\n          watchedType === 'sitewide' ? 'permissions' : 'workspacePermissions'\r\n        }\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import {Dialog} from '../ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '../ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '../i18n/trans';\r\nimport {DialogBody} from '../ui/overlays/dialog/dialog-body';\r\nimport {TextField} from '../ui/forms/input-field/text-field/text-field';\r\nimport {SearchIcon} from '../icons/material/Search';\r\nimport {useState} from 'react';\r\nimport {useTrans} from '../i18n/use-trans';\r\nimport {message} from '../i18n/message';\r\nimport {Avatar} from '../ui/images/avatar';\r\nimport {NormalizedModel} from '../datatable/filters/normalized-model';\r\nimport {IllustratedMessage} from '../ui/images/illustrated-message';\r\nimport {SvgImage} from '../ui/images/svg-image/svg-image';\r\nimport teamSvg from '../admin/roles/team.svg';\r\nimport {useDialogContext} from '../ui/overlays/dialog/dialog-context';\r\nimport {useNormalizedModels} from './queries/use-normalized-models';\r\n\r\ninterface SelectUserDialogProps {\r\n  onUserSelected: (user: NormalizedModel) => void;\r\n}\r\n\r\nexport function SelectUserDialog({onUserSelected}: SelectUserDialogProps) {\r\n  const {close} = useDialogContext();\r\n  const [searchTerm, setSearchTerm] = useState<string>('');\r\n  const {trans} = useTrans();\r\n  const query = useNormalizedModels('normalized-models/user', {\r\n    query: searchTerm,\r\n    perPage: 14,\r\n  });\r\n  const users = query.data?.results || [];\r\n\r\n  const emptyStateMessage = (\r\n    <IllustratedMessage\r\n      className=\"pt-20\"\r\n      size=\"sm\"\r\n      title={<Trans message=\"No matching users\" />}\r\n      description={<Trans message=\"Try another search query\" />}\r\n      image={<SvgImage src={teamSvg} />}\r\n    />\r\n  );\r\n\r\n  const selectUser = (user: NormalizedModel) => {\r\n    close();\r\n    onUserSelected(user);\r\n  };\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Select a user\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <TextField\r\n          autoFocus\r\n          className=\"mb-20\"\r\n          startAdornment={<SearchIcon />}\r\n          placeholder={trans(message('Search for user by name or email'))}\r\n          value={searchTerm}\r\n          onChange={e => {\r\n            setSearchTerm(e.target.value);\r\n          }}\r\n        />\r\n        {!query.isLoading && !users.length && emptyStateMessage}\r\n        <div className=\"grid grid-cols-2 gap-x-10\">\r\n          {users.map(user => (\r\n            <UserListItem\r\n              key={user.id}\r\n              user={user}\r\n              onUserSelected={selectUser}\r\n            />\r\n          ))}\r\n        </div>\r\n      </DialogBody>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\ninterface UserListItemProps {\r\n  user: NormalizedModel;\r\n  onUserSelected: (user: NormalizedModel) => void;\r\n}\r\nfunction UserListItem({user, onUserSelected}: UserListItemProps) {\r\n  return (\r\n    <div\r\n      key={user.id}\r\n      className=\"flex items-center gap-10 rounded p-10 outline-none ring-offset-4 hover:bg-hover focus-visible:ring\"\r\n      role=\"button\"\r\n      tabIndex={0}\r\n      onClick={() => {\r\n        onUserSelected(user);\r\n      }}\r\n      onKeyDown={e => {\r\n        if (e.key === 'Enter' || e.key === ' ') {\r\n          e.preventDefault();\r\n          onUserSelected(user);\r\n        }\r\n      }}\r\n    >\r\n      <Avatar src={user.image} />\r\n      <div className=\"overflow-hidden\">\r\n        <div className=\"overflow-hidden text-ellipsis\">{user.name}</div>\r\n        <div className=\"overflow-hidden text-ellipsis text-muted\">\r\n          {user.description}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient} from '../../../http/query-client';\r\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\r\nimport {toast} from '../../../ui/toast/toast';\r\nimport {message} from '../../../i18n/message';\r\nimport {Role} from '../../../auth/role';\r\nimport {showHttpErrorToast} from '../../../utils/http/show-http-error-toast';\r\n\r\ninterface Response extends BackendResponse {}\r\n\r\ninterface Payload {\r\n  userIds: number[];\r\n}\r\n\r\nexport function useRemoveUsersFromRole(role: Role) {\r\n  return useMutation({\r\n    mutationFn: ({userIds}: Payload) =>\r\n      removeUsersFromRole({userIds, roleId: role.id}),\r\n    onSuccess: (response, payload) => {\r\n      toast(\r\n        message('Removed [one 1 user|other :count users] from {role}', {\r\n          values: {count: payload.userIds.length, role: role.name},\r\n        }),\r\n      );\r\n    },\r\n    onError: err => showHttpErrorToast(err),\r\n  });\r\n}\r\n\r\nfunction removeUsersFromRole({\r\n  roleId,\r\n  userIds,\r\n}: Payload & {roleId: number}): Promise<Response> {\r\n  return apiClient\r\n    .post(`roles/${roleId}/remove-users`, {userIds})\r\n    .then(r => r.data);\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient} from '../../../http/query-client';\r\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\r\nimport {toast} from '../../../ui/toast/toast';\r\nimport {message} from '../../../i18n/message';\r\nimport {Role} from '../../../auth/role';\r\nimport {showHttpErrorToast} from '../../../utils/http/show-http-error-toast';\r\n\r\ninterface Response extends BackendResponse {}\r\n\r\ninterface Payload {\r\n  userIds: number[];\r\n}\r\n\r\nexport function useAddUsersToRole(role: Role) {\r\n  return useMutation({\r\n    mutationFn: ({userIds}: Payload) =>\r\n      addUsersToRole({userIds, roleId: role.id}),\r\n    onSuccess: (response, payload) => {\r\n      toast(\r\n        message('Assigned [one 1 user|other :count users] to {role}', {\r\n          values: {count: payload.userIds.length, role: role.name},\r\n        }),\r\n      );\r\n    },\r\n    onError: err => showHttpErrorToast(err),\r\n  });\r\n}\r\n\r\nfunction addUsersToRole({\r\n  roleId,\r\n  userIds,\r\n}: Payload & {roleId: number}): Promise<Response> {\r\n  return apiClient\r\n    .post(`roles/${roleId}/add-users`, {userIds})\r\n    .then(r => r.data);\r\n}\r\n","import {Role} from '../../../auth/role';\r\nimport {ColumnConfig} from '../../../datatable/column-config';\r\nimport {User} from '../../../auth/user';\r\nimport {Trans} from '../../../i18n/trans';\r\nimport {NameWithAvatar} from '../../../datatable/column-templates/name-with-avatar';\r\nimport {FormattedDate} from '../../../i18n/formatted-date';\r\nimport React from 'react';\r\nimport teamSvg from '../team.svg';\r\nimport {DialogTrigger} from '../../../ui/overlays/dialog/dialog-trigger';\r\nimport {Button} from '../../../ui/buttons/button';\r\nimport {SelectUserDialog} from '../../../users/select-user-dialog';\r\nimport {queryClient} from '../../../http/query-client';\r\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\r\nimport {DataTableEmptyStateMessage} from '../../../datatable/page/data-table-emty-state-message';\r\nimport {useDataTable} from '../../../datatable/page/data-table-context';\r\nimport {ConfirmationDialog} from '../../../ui/overlays/dialog/confirmation-dialog';\r\nimport {useRemoveUsersFromRole} from '../requests/use-remove-users-from-role';\r\nimport {useAddUsersToRole} from '../requests/use-add-users-to-role';\r\nimport {DataTable} from '../../../datatable/data-table';\r\nimport {useIsMobileMediaQuery} from '../../../utils/hooks/is-mobile-media-query';\r\n\r\nconst userColumn: ColumnConfig<User> = {\r\n  key: 'name',\r\n  allowsSorting: true,\r\n  sortingKey: 'email',\r\n  header: () => <Trans message=\"User\" />,\r\n  body: user => (\r\n    <NameWithAvatar\r\n      image={user.avatar}\r\n      label={user.display_name}\r\n      description={user.email}\r\n    />\r\n  ),\r\n  width: 'col-w-3',\r\n};\r\n\r\nconst desktopColumns: ColumnConfig<User>[] = [\r\n  userColumn,\r\n  {\r\n    key: 'first_name',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"First name\" />,\r\n    body: user => user.first_name,\r\n  },\r\n  {\r\n    key: 'last_name',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Last name\" />,\r\n    body: user => user.last_name,\r\n  },\r\n  {\r\n    key: 'created_at',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Assigned at\" />,\r\n    body: user => <FormattedDate date={user.created_at} />,\r\n  },\r\n];\r\n\r\nconst mobileColumns: ColumnConfig<User>[] = [userColumn];\r\n\r\ninterface CrupdateRolePageUsersPanelProps {\r\n  role: Role;\r\n}\r\nexport function EditRolePageUsersPanel({\r\n  role,\r\n}: CrupdateRolePageUsersPanelProps) {\r\n  const isMobile = useIsMobileMediaQuery();\r\n\r\n  if (role.guests || role.type === 'workspace') {\r\n    return (\r\n      <div className=\"pt-30 pb-10\">\r\n        <DataTableEmptyStateMessage\r\n          image={teamSvg}\r\n          title={<Trans message=\"Users can't be assigned to this role\" />}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DataTable\r\n      endpoint=\"users\"\r\n      columns={isMobile ? mobileColumns : desktopColumns}\r\n      queryParams={{roleId: `${role.id}`}}\r\n      actions={<AssignUserAction role={role} />}\r\n      selectedActions={<RemoveUsersAction role={role} />}\r\n      emptyStateMessage={\r\n        <DataTableEmptyStateMessage\r\n          image={teamSvg}\r\n          title={\r\n            <Trans message=\"No users have been assigned to this role yet\" />\r\n          }\r\n          filteringTitle={<Trans message=\"No matching users\" />}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\ninterface AssignUserActionProps {\r\n  role: Role;\r\n}\r\nfunction AssignUserAction({role}: AssignUserActionProps) {\r\n  const addUsers = useAddUsersToRole(role);\r\n  return (\r\n    <DialogTrigger type=\"modal\">\r\n      <Button variant=\"flat\" color=\"primary\" disabled={addUsers.isPending}>\r\n        <Trans message=\"Assign user\" />\r\n      </Button>\r\n      <SelectUserDialog\r\n        onUserSelected={user => {\r\n          addUsers.mutate(\r\n            {userIds: [user.id as number]},\r\n            {\r\n              onSuccess: () => {\r\n                queryClient.invalidateQueries({\r\n                  queryKey: DatatableDataQueryKey('users', {\r\n                    roleId: `${role.id}`,\r\n                  }),\r\n                });\r\n              },\r\n            },\r\n          );\r\n        }}\r\n      />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n\r\ntype RemoveUsersActionProps = {\r\n  role: Role;\r\n};\r\nexport function RemoveUsersAction({role}: RemoveUsersActionProps) {\r\n  const removeUsers = useRemoveUsersFromRole(role);\r\n  const {selectedRows} = useDataTable();\r\n\r\n  return (\r\n    <DialogTrigger\r\n      type=\"modal\"\r\n      onClose={isConfirmed => {\r\n        if (isConfirmed) {\r\n          removeUsers.mutate(\r\n            {userIds: selectedRows as number[]},\r\n            {\r\n              onSuccess: () => {\r\n                queryClient.invalidateQueries({\r\n                  queryKey: DatatableDataQueryKey('users', {\r\n                    roleId: `${role.id}`,\r\n                  }),\r\n                });\r\n              },\r\n            },\r\n          );\r\n        }\r\n      }}\r\n    >\r\n      <Button variant=\"flat\" color=\"danger\" disabled={removeUsers.isPending}>\r\n        <Trans message=\"Remove users\" />\r\n      </Button>\r\n      <ConfirmationDialog\r\n        title={\r\n          <Trans\r\n            message=\"Remove [one 1 user|other :count users] from :name role?\"\r\n            values={{count: selectedRows.length, name: role.name}}\r\n          />\r\n        }\r\n        body={<Trans message=\"This will permanently remove the users.\" />}\r\n        confirm={<Trans message=\"Remove\" />}\r\n        isDanger\r\n      />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n","import {useRole} from '../requests/use-role';\r\nimport {FullPageLoader} from '../../../ui/progress/full-page-loader';\r\nimport {Role} from '../../../auth/role';\r\nimport {Trans} from '../../../i18n/trans';\r\nimport {useForm} from 'react-hook-form';\r\nimport {Tabs} from '../../../ui/tabs/tabs';\r\nimport {Tab} from '../../../ui/tabs/tab';\r\nimport {TabList} from '../../../ui/tabs/tab-list';\r\nimport {TabPanel, TabPanels} from '../../../ui/tabs/tab-panels';\r\nimport {useUpdateRole} from '../requests/use-update-role';\r\nimport {CrupdateResourceLayout} from '../../crupdate-resource-layout';\r\nimport {CrupdateRolePageSettingsPanel} from './crupdate-role-settings-panel';\r\nimport {EditRolePageUsersPanel} from './edit-role-page-users-panel';\r\n\r\nexport function EditRolePage() {\r\n  const query = useRole();\r\n\r\n  if (query.status !== 'success') {\r\n    return <FullPageLoader />;\r\n  }\r\n\r\n  return <PageContent role={query.data.role} />;\r\n}\r\n\r\ninterface PageContentProps {\r\n  role: Role;\r\n}\r\nfunction PageContent({role}: PageContentProps) {\r\n  const form = useForm<Role>({defaultValues: role});\r\n  const updateRole = useUpdateRole();\r\n\r\n  return (\r\n    <CrupdateResourceLayout\r\n      form={form}\r\n      onSubmit={values => {\r\n        updateRole.mutate(values);\r\n      }}\r\n      title={<Trans message=\"Edit :name role\" values={{name: role.name}} />}\r\n      isLoading={updateRole.isPending}\r\n    >\r\n      <Tabs isLazy>\r\n        <TabList>\r\n          <Tab>\r\n            <Trans message=\"Settings\" />\r\n          </Tab>\r\n          <Tab>\r\n            <Trans message=\"Users\" />\r\n          </Tab>\r\n        </TabList>\r\n        <TabPanels className=\"pt-20\">\r\n          <TabPanel>\r\n            <CrupdateRolePageSettingsPanel isInternal={role.internal} />\r\n          </TabPanel>\r\n          <TabPanel>\r\n            <EditRolePageUsersPanel role={role} />\r\n          </TabPanel>\r\n        </TabPanels>\r\n      </Tabs>\r\n    </CrupdateResourceLayout>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '../../../http/query-client';\r\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\r\nimport {toast} from '../../../ui/toast/toast';\r\nimport {Role} from '../../../auth/role';\r\nimport {useTrans} from '../../../i18n/use-trans';\r\nimport {message} from '../../../i18n/message';\r\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\r\nimport {onFormQueryError} from '../../../errors/on-form-query-error';\r\nimport {UseFormReturn} from 'react-hook-form';\r\n\r\ninterface Response extends BackendResponse {\r\n  role: Role;\r\n}\r\n\r\nexport interface CreateRolePayload extends Partial<Role> {}\r\n\r\nconst Endpoint = 'roles';\r\n\r\nexport function useCreateRole(form: UseFormReturn<CreateRolePayload>) {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (payload: CreateRolePayload) => createRole(payload),\r\n    onSuccess: () => {\r\n      toast(trans(message('Created new role')));\r\n      queryClient.invalidateQueries({queryKey: DatatableDataQueryKey('roles')});\r\n    },\r\n    onError: r => onFormQueryError(r, form),\r\n  });\r\n}\r\n\r\nfunction createRole({id, ...payload}: CreateRolePayload): Promise<Response> {\r\n  return apiClient.post(Endpoint, payload).then(r => r.data);\r\n}\r\n","import {useForm} from 'react-hook-form';\r\nimport {CrupdateResourceLayout} from '../../crupdate-resource-layout';\r\nimport {Trans} from '../../../i18n/trans';\r\nimport {CrupdateRolePageSettingsPanel} from './crupdate-role-settings-panel';\r\nimport {CreateRolePayload, useCreateRole} from '../requests/user-create-role';\r\nimport {useNavigate} from '../../../utils/hooks/use-navigate';\r\n\r\nexport function CreateRolePage() {\r\n  const form = useForm<CreateRolePayload>({defaultValues: {type: 'sitewide'}});\r\n  const createRole = useCreateRole(form);\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <CrupdateResourceLayout\r\n      form={form}\r\n      onSubmit={values => {\r\n        createRole.mutate(values, {\r\n          onSuccess: response => {\r\n            navigate(`/admin/roles/${response.role.id}/edit`);\r\n          },\r\n        });\r\n      }}\r\n      title={<Trans message=\"Add new role\" />}\r\n      isLoading={createRole.isPending}\r\n    >\r\n      <CrupdateRolePageSettingsPanel />\r\n    </CrupdateResourceLayout>\r\n  );\r\n}\r\n","import {\r\n  BackendFilter,\r\n  FilterControlType,\r\n  FilterOperator,\r\n} from '../../datatable/filters/backend-filter';\r\nimport {message} from '../../i18n/message';\r\nimport {TagType} from '../../core/settings/site-config-context';\r\nimport {\r\n  createdAtFilter,\r\n  updatedAtFilter,\r\n} from '@common/datatable/filters/timestamp-filters';\r\n\r\nexport const TagIndexPageFilters = (types: TagType[]): BackendFilter[] => {\r\n  return [\r\n    {\r\n      key: 'type',\r\n      label: message('Type'),\r\n      description: message('Type of the tag'),\r\n      defaultOperator: FilterOperator.ne,\r\n      control: {\r\n        type: FilterControlType.Select,\r\n        defaultValue: types[0].name,\r\n        options: types.map(type => ({\r\n          key: type.name,\r\n          label: message(type.name),\r\n          value: type.name,\r\n        })),\r\n      },\r\n    },\r\n    createdAtFilter({\r\n      description: message('Date tag was created'),\r\n    }),\r\n    updatedAtFilter({\r\n      description: message('Date tag was last updated'),\r\n    }),\r\n  ];\r\n};\r\n","export default \"__VITE_ASSET__8de61ea9__\"","import {Tag} from '../../tags/tag';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {Form} from '../../ui/forms/form';\r\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport {FormSelect} from '../../ui/forms/select/select';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {Item} from '../../ui/forms/listbox/item';\r\nimport {useContext} from 'react';\r\nimport {SiteConfigContext} from '../../core/settings/site-config-context';\r\n\r\ninterface CrupdateTagFormProps {\r\n  onSubmit: (values: Partial<Tag>) => void;\r\n  formId: string;\r\n  form: UseFormReturn<Partial<Tag>>;\r\n}\r\nexport function CrupdateTagForm({\r\n  form,\r\n  onSubmit,\r\n  formId,\r\n}: CrupdateTagFormProps) {\r\n  const {\r\n    tags: {types},\r\n  } = useContext(SiteConfigContext);\r\n  const watchedType = form.watch('type');\r\n  const isSystem = !!types.find(t => t.name === watchedType && t.system);\r\n\r\n  return (\r\n    <Form id={formId} form={form} onSubmit={onSubmit}>\r\n      <FormTextField\r\n        name=\"name\"\r\n        label={<Trans message=\"Name\" />}\r\n        description={<Trans message=\"Unique tag identifier.\" />}\r\n        className=\"mb-20\"\r\n        required\r\n        autoFocus\r\n      />\r\n      <FormTextField\r\n        name=\"display_name\"\r\n        label={<Trans message=\"Display name\" />}\r\n        description={<Trans message=\"User friendly tag name.\" />}\r\n        className=\"mb-20\"\r\n      />\r\n      <FormSelect\r\n        label={<Trans message=\"Type\" />}\r\n        name=\"type\"\r\n        selectionMode=\"single\"\r\n        disabled={isSystem}\r\n      >\r\n        {types\r\n          .filter(t => !t.system)\r\n          .map(type => (\r\n            <Item key={type.name} value={type.name}>\r\n              <Trans message={type.name} />\r\n            </Item>\r\n          ))}\r\n      </FormSelect>\r\n    </Form>\r\n  );\r\n}\r\n","\n;(function (name, root, factory) {\n  if (typeof exports === 'object') {\n    module.exports = factory()\n    module.exports['default'] = factory()\n  }\n  /* istanbul ignore next */\n  else if (typeof define === 'function' && define.amd) {\n    define(factory)\n  }\n  else {\n    root[name] = factory()\n  }\n}('slugify', this, function () {\n  var charMap = JSON.parse('{\"$\":\"dollar\",\"%\":\"percent\",\"&\":\"and\",\"<\":\"less\",\">\":\"greater\",\"|\":\"or\",\"\":\"cent\",\"\":\"pound\",\"\":\"currency\",\"\":\"yen\",\"\":\"(c)\",\"\":\"a\",\"\":\"(r)\",\"\":\"o\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"AE\",\"\":\"C\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"D\",\"\":\"N\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"Y\",\"\":\"TH\",\"\":\"ss\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"ae\",\"\":\"c\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"d\",\"\":\"n\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"y\",\"\":\"th\",\"\":\"y\",\"\":\"A\",\"\":\"a\",\"\":\"A\",\"\":\"a\",\"\":\"A\",\"\":\"a\",\"\":\"C\",\"\":\"c\",\"\":\"C\",\"\":\"c\",\"\":\"D\",\"\":\"d\",\"\":\"DJ\",\"\":\"dj\",\"\":\"E\",\"\":\"e\",\"\":\"E\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"E\",\"\":\"e\",\"\":\"G\",\"\":\"g\",\"\":\"G\",\"\":\"g\",\"\":\"I\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"I\",\"\":\"i\",\"\":\"I\",\"\":\"i\",\"\":\"k\",\"\":\"k\",\"\":\"L\",\"\":\"l\",\"\":\"L\",\"\":\"l\",\"\":\"L\",\"\":\"l\",\"\":\"N\",\"\":\"n\",\"\":\"N\",\"\":\"n\",\"\":\"N\",\"\":\"n\",\"\":\"O\",\"\":\"o\",\"\":\"O\",\"\":\"o\",\"\":\"OE\",\"\":\"oe\",\"\":\"R\",\"\":\"r\",\"\":\"R\",\"\":\"r\",\"\":\"S\",\"\":\"s\",\"\":\"S\",\"\":\"s\",\"\":\"S\",\"\":\"s\",\"\":\"T\",\"\":\"t\",\"\":\"T\",\"\":\"t\",\"\":\"U\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"U\",\"\":\"u\",\"\":\"U\",\"\":\"u\",\"\":\"U\",\"\":\"u\",\"\":\"W\",\"\":\"w\",\"\":\"Y\",\"\":\"y\",\"\":\"Y\",\"\":\"Z\",\"\":\"z\",\"\":\"Z\",\"\":\"z\",\"\":\"Z\",\"\":\"z\",\"\":\"E\",\"\":\"f\",\"\":\"O\",\"\":\"o\",\"\":\"U\",\"\":\"u\",\"\":\"LJ\",\"\":\"lj\",\"\":\"NJ\",\"\":\"nj\",\"\":\"S\",\"\":\"s\",\"\":\"T\",\"\":\"t\",\"\":\"e\",\"\":\"o\",\"\":\"A\",\"\":\"E\",\"\":\"H\",\"\":\"I\",\"\":\"O\",\"\":\"Y\",\"\":\"W\",\"\":\"i\",\"\":\"A\",\"\":\"B\",\"\":\"G\",\"\":\"D\",\"\":\"E\",\"\":\"Z\",\"\":\"H\",\"\":\"8\",\"\":\"I\",\"\":\"K\",\"\":\"L\",\"\":\"M\",\"\":\"N\",\"\":\"3\",\"\":\"O\",\"\":\"P\",\"\":\"R\",\"\":\"S\",\"\":\"T\",\"\":\"Y\",\"\":\"F\",\"\":\"X\",\"\":\"PS\",\"\":\"W\",\"\":\"I\",\"\":\"Y\",\"\":\"a\",\"\":\"e\",\"\":\"h\",\"\":\"i\",\"\":\"y\",\"\":\"a\",\"\":\"b\",\"\":\"g\",\"\":\"d\",\"\":\"e\",\"\":\"z\",\"\":\"h\",\"\":\"8\",\"\":\"i\",\"\":\"k\",\"\":\"l\",\"\":\"m\",\"\":\"n\",\"\":\"3\",\"\":\"o\",\"\":\"p\",\"\":\"r\",\"\":\"s\",\"\":\"s\",\"\":\"t\",\"\":\"y\",\"\":\"f\",\"\":\"x\",\"\":\"ps\",\"\":\"w\",\"\":\"i\",\"\":\"y\",\"\":\"o\",\"\":\"y\",\"\":\"w\",\"\":\"Yo\",\"\":\"DJ\",\"\":\"Ye\",\"\":\"I\",\"\":\"Yi\",\"\":\"J\",\"\":\"LJ\",\"\":\"NJ\",\"\":\"C\",\"\":\"DZ\",\"\":\"A\",\"\":\"B\",\"\":\"V\",\"\":\"G\",\"\":\"D\",\"\":\"E\",\"\":\"Zh\",\"\":\"Z\",\"\":\"I\",\"\":\"J\",\"\":\"K\",\"\":\"L\",\"\":\"M\",\"\":\"N\",\"\":\"O\",\"\":\"P\",\"\":\"R\",\"\":\"S\",\"\":\"T\",\"\":\"U\",\"\":\"F\",\"\":\"H\",\"\":\"C\",\"\":\"Ch\",\"\":\"Sh\",\"\":\"Sh\",\"\":\"U\",\"\":\"Y\",\"\":\"\",\"\":\"E\",\"\":\"Yu\",\"\":\"Ya\",\"\":\"a\",\"\":\"b\",\"\":\"v\",\"\":\"g\",\"\":\"d\",\"\":\"e\",\"\":\"zh\",\"\":\"z\",\"\":\"i\",\"\":\"j\",\"\":\"k\",\"\":\"l\",\"\":\"m\",\"\":\"n\",\"\":\"o\",\"\":\"p\",\"\":\"r\",\"\":\"s\",\"\":\"t\",\"\":\"u\",\"\":\"f\",\"\":\"h\",\"\":\"c\",\"\":\"ch\",\"\":\"sh\",\"\":\"sh\",\"\":\"u\",\"\":\"y\",\"\":\"\",\"\":\"e\",\"\":\"yu\",\"\":\"ya\",\"\":\"yo\",\"\":\"dj\",\"\":\"ye\",\"\":\"i\",\"\":\"yi\",\"\":\"j\",\"\":\"lj\",\"\":\"nj\",\"\":\"c\",\"\":\"u\",\"\":\"dz\",\"\":\"G\",\"\":\"g\",\"\":\"GH\",\"\":\"gh\",\"\":\"KH\",\"\":\"kh\",\"\":\"NG\",\"\":\"ng\",\"\":\"UE\",\"\":\"ue\",\"\":\"U\",\"\":\"u\",\"\":\"H\",\"\":\"h\",\"\":\"AE\",\"\":\"ae\",\"\":\"OE\",\"\":\"oe\",\"\":\"A\",\"\":\"B\",\"\":\"G\",\"\":\"D\",\"\":\"E\",\"\":\"Z\",\"\":\"E\\'\",\"\":\"Y\\'\",\"\":\"T\\'\",\"\":\"JH\",\"\":\"I\",\"\":\"L\",\"\":\"X\",\"\":\"C\\'\",\"\":\"K\",\"\":\"H\",\"\":\"D\\'\",\"\":\"GH\",\"\":\"TW\",\"\":\"M\",\"\":\"Y\",\"\":\"N\",\"\":\"SH\",\"\":\"CH\",\"\":\"P\",\"\":\"J\",\"\":\"R\\'\",\"\":\"S\",\"\":\"V\",\"\":\"T\",\"\":\"R\",\"\":\"C\",\"\":\"P\\'\",\"\":\"Q\\'\",\"\":\"O\\'\\'\",\"\":\"F\",\"\":\"EV\",\"\":\"a\",\"\":\"aa\",\"\":\"a\",\"\":\"u\",\"\":\"i\",\"\":\"e\",\"\":\"a\",\"\":\"b\",\"\":\"h\",\"\":\"t\",\"\":\"th\",\"\":\"j\",\"\":\"h\",\"\":\"kh\",\"\":\"d\",\"\":\"th\",\"\":\"r\",\"\":\"z\",\"\":\"s\",\"\":\"sh\",\"\":\"s\",\"\":\"dh\",\"\":\"t\",\"\":\"z\",\"\":\"a\",\"\":\"gh\",\"\":\"f\",\"\":\"q\",\"\":\"k\",\"\":\"l\",\"\":\"m\",\"\":\"n\",\"\":\"h\",\"\":\"w\",\"\":\"a\",\"\":\"y\",\"\":\"an\",\"\":\"on\",\"\":\"en\",\"\":\"a\",\"\":\"u\",\"\":\"e\",\"\":\"\",\"\":\"0\",\"\":\"1\",\"\":\"2\",\"\":\"3\",\"\":\"4\",\"\":\"5\",\"\":\"6\",\"\":\"7\",\"\":\"8\",\"\":\"9\",\"\":\"p\",\"\":\"ch\",\"\":\"zh\",\"\":\"k\",\"\":\"g\",\"\":\"y\",\"\":\"0\",\"\":\"1\",\"\":\"2\",\"\":\"3\",\"\":\"4\",\"\":\"5\",\"\":\"6\",\"\":\"7\",\"\":\"8\",\"\":\"9\",\"\":\"baht\",\"\":\"a\",\"\":\"b\",\"\":\"g\",\"\":\"d\",\"\":\"e\",\"\":\"v\",\"\":\"z\",\"\":\"t\",\"\":\"i\",\"\":\"k\",\"\":\"l\",\"\":\"m\",\"\":\"n\",\"\":\"o\",\"\":\"p\",\"\":\"zh\",\"\":\"r\",\"\":\"s\",\"\":\"t\",\"\":\"u\",\"\":\"f\",\"\":\"k\",\"\":\"gh\",\"\":\"q\",\"\":\"sh\",\"\":\"ch\",\"\":\"ts\",\"\":\"dz\",\"\":\"ts\",\"\":\"ch\",\"\":\"kh\",\"\":\"j\",\"\":\"h\",\"\":\"S\",\"\":\"s\",\"\":\"W\",\"\":\"w\",\"\":\"W\",\"\":\"w\",\"\":\"W\",\"\":\"w\",\"\":\"SS\",\"\":\"A\",\"\":\"a\",\"\":\"A\",\"\":\"a\",\"\":\"A\",\"\":\"a\",\"\":\"A\",\"\":\"a\",\"\":\"A\",\"\":\"a\",\"\":\"A\",\"\":\"a\",\"\":\"A\",\"\":\"a\",\"\":\"A\",\"\":\"a\",\"\":\"A\",\"\":\"a\",\"\":\"A\",\"\":\"a\",\"\":\"A\",\"\":\"a\",\"\":\"A\",\"\":\"a\",\"\":\"E\",\"\":\"e\",\"\":\"E\",\"\":\"e\",\"\":\"E\",\"\":\"e\",\"\":\"E\",\"\":\"e\",\"\":\"E\",\"\":\"e\",\"\":\"E\",\"\":\"e\",\"\":\"E\",\"\":\"e\",\"\":\"E\",\"\":\"e\",\"\":\"I\",\"\":\"i\",\"\":\"I\",\"\":\"i\",\"\":\"O\",\"\":\"o\",\"\":\"O\",\"\":\"o\",\"\":\"O\",\"\":\"o\",\"\":\"O\",\"\":\"o\",\"\":\"O\",\"\":\"o\",\"\":\"O\",\"\":\"o\",\"\":\"O\",\"\":\"o\",\"\":\"O\",\"\":\"o\",\"\":\"O\",\"\":\"o\",\"\":\"O\",\"\":\"o\",\"\":\"O\",\"\":\"o\",\"\":\"O\",\"\":\"o\",\"\":\"U\",\"\":\"u\",\"\":\"U\",\"\":\"u\",\"\":\"U\",\"\":\"u\",\"\":\"U\",\"\":\"u\",\"\":\"U\",\"\":\"u\",\"\":\"U\",\"\":\"u\",\"\":\"U\",\"\":\"u\",\"\":\"Y\",\"\":\"y\",\"\":\"Y\",\"\":\"y\",\"\":\"Y\",\"\":\"y\",\"\":\"Y\",\"\":\"y\",\"\":\"-\",\"\":\"\\'\",\"\":\"\\'\",\"\":\"\\\\\\\"\",\"\":\"\\\\\\\"\",\"\":\"\\\\\\\"\",\"\":\"+\",\"\":\"*\",\"\":\"...\",\"\":\"ecu\",\"\":\"cruzeiro\",\"\":\"french franc\",\"\":\"lira\",\"\":\"mill\",\"\":\"naira\",\"\":\"peseta\",\"\":\"rupee\",\"\":\"won\",\"\":\"new shequel\",\"\":\"dong\",\"\":\"euro\",\"\":\"kip\",\"\":\"tugrik\",\"\":\"drachma\",\"\":\"penny\",\"\":\"peso\",\"\":\"guarani\",\"\":\"austral\",\"\":\"hryvnia\",\"\":\"cedi\",\"\":\"kazakhstani tenge\",\"\":\"indian rupee\",\"\":\"turkish lira\",\"\":\"russian ruble\",\"\":\"bitcoin\",\"\":\"sm\",\"\":\"tm\",\"\":\"d\",\"\":\"delta\",\"\":\"sum\",\"\":\"infinity\",\"\":\"love\",\"\":\"yuan\",\"\":\"yen\",\"\":\"rial\",\"\":\"laa\",\"\":\"laa\",\"\":\"lai\",\"\":\"la\"}')\n  var locales = JSON.parse('{\"bg\":{\"\":\"Y\",\"\":\"Ts\",\"\":\"Sht\",\"\":\"A\",\"\":\"Y\",\"\":\"y\",\"\":\"ts\",\"\":\"sht\",\"\":\"a\",\"\":\"y\"},\"de\":{\"\":\"AE\",\"\":\"ae\",\"\":\"OE\",\"\":\"oe\",\"\":\"UE\",\"\":\"ue\",\"\":\"ss\",\"%\":\"prozent\",\"&\":\"und\",\"|\":\"oder\",\"\":\"summe\",\"\":\"unendlich\",\"\":\"liebe\"},\"es\":{\"%\":\"por ciento\",\"&\":\"y\",\"<\":\"menor que\",\">\":\"mayor que\",\"|\":\"o\",\"\":\"centavos\",\"\":\"libras\",\"\":\"moneda\",\"\":\"francos\",\"\":\"suma\",\"\":\"infinito\",\"\":\"amor\"},\"fr\":{\"%\":\"pourcent\",\"&\":\"et\",\"<\":\"plus petit\",\">\":\"plus grand\",\"|\":\"ou\",\"\":\"centime\",\"\":\"livre\",\"\":\"devise\",\"\":\"franc\",\"\":\"somme\",\"\":\"infini\",\"\":\"amour\"},\"pt\":{\"%\":\"porcento\",\"&\":\"e\",\"<\":\"menor\",\">\":\"maior\",\"|\":\"ou\",\"\":\"centavo\",\"\":\"soma\",\"\":\"libra\",\"\":\"infinito\",\"\":\"amor\"},\"uk\":{\"\":\"Y\",\"\":\"y\",\"\":\"Y\",\"\":\"y\",\"\":\"Ts\",\"\":\"ts\",\"\":\"Kh\",\"\":\"kh\",\"\":\"Shch\",\"\":\"shch\",\"\":\"H\",\"\":\"h\"},\"vi\":{\"\":\"D\",\"\":\"d\"},\"da\":{\"\":\"OE\",\"\":\"oe\",\"\":\"AA\",\"\":\"aa\",\"%\":\"procent\",\"&\":\"og\",\"|\":\"eller\",\"$\":\"dollar\",\"<\":\"mindre end\",\">\":\"strre end\"},\"nb\":{\"&\":\"og\",\"\":\"AA\",\"\":\"AE\",\"\":\"OE\",\"\":\"aa\",\"\":\"ae\",\"\":\"oe\"},\"it\":{\"&\":\"e\"},\"nl\":{\"&\":\"en\"},\"sv\":{\"&\":\"och\",\"\":\"AA\",\"\":\"AE\",\"\":\"OE\",\"\":\"aa\",\"\":\"ae\",\"\":\"oe\"}}')\n\n  function replace (string, options) {\n    if (typeof string !== 'string') {\n      throw new Error('slugify: string argument expected')\n    }\n\n    options = (typeof options === 'string')\n      ? {replacement: options}\n      : options || {}\n\n    var locale = locales[options.locale] || {}\n\n    var replacement = options.replacement === undefined ? '-' : options.replacement\n\n    var trim = options.trim === undefined ? true : options.trim\n\n    var slug = string.normalize().split('')\n      // replace characters based on charMap\n      .reduce(function (result, ch) {\n        var appendChar = locale[ch];\n        if (appendChar === undefined) appendChar = charMap[ch];\n        if (appendChar === undefined) appendChar = ch;\n        if (appendChar === replacement) appendChar = ' ';\n        return result + appendChar\n          // remove not allowed characters\n          .replace(options.remove || /[^\\w\\s$*_+~.()'\"!\\-:@]+/g, '')\n      }, '');\n\n    if (options.strict) {\n      slug = slug.replace(/[^A-Za-z0-9\\s]/g, '');\n    }\n\n    if (trim) {\n      slug = slug.trim()\n    }\n\n    // Replace spaces with replacement character, treating multiple consecutive\n    // spaces as a single space.\n    slug = slug.replace(/\\s+/g, replacement);\n\n    if (options.lower) {\n      slug = slug.toLowerCase()\n    }\n\n    return slug\n  }\n\n  replace.extend = function (customMap) {\n    Object.assign(charMap, customMap)\n  }\n\n  return replace\n}))\n","import slugify from 'slugify';\r\n\r\nexport function slugifyString(\r\n  text: string,\r\n  replacement = '-',\r\n  strict = false,\r\n): string {\r\n  if (!text) return text;\r\n  let slugified = slugify(text, {\r\n    lower: true,\r\n    replacement,\r\n    strict,\r\n    remove: /[*+~.()'\"!:@?\\|/\\\\#]/g,\r\n  });\r\n  // some chinese text might not get slugified properly,\r\n  // just replace whitespace with dash in that case\r\n  if (!slugified) {\r\n    slugified = text.replace(/\\s+/g, '-').toLowerCase();\r\n  }\r\n  return slugified;\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {message} from '@common/i18n/message';\r\nimport {Tag} from '@common/tags/tag';\r\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\r\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {slugifyString} from '@common/utils/string/slugify-string';\r\n\r\ninterface Response extends BackendResponse {\r\n  tag: Tag;\r\n}\r\n\r\ninterface Payload extends Partial<Tag> {}\r\n\r\nexport function useCreateNewTag(form: UseFormReturn<Payload>) {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (props: Payload) => createNewTag(props),\r\n    onSuccess: () => {\r\n      toast(trans(message('Tag created')));\r\n      queryClient.invalidateQueries({queryKey: DatatableDataQueryKey('tags')});\r\n    },\r\n    onError: err => onFormQueryError(err, form),\r\n  });\r\n}\r\n\r\nfunction createNewTag(payload: Payload): Promise<Response> {\r\n  payload.name = slugifyString(payload.name!);\r\n  return apiClient.post('tags', payload).then(r => r.data);\r\n}\r\n","import {Dialog} from '../../ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\r\nimport {CrupdateTagForm} from './crupdate-tag-form';\r\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\r\nimport {useCreateNewTag} from './requests/use-create-new-tag';\r\nimport {useContext} from 'react';\r\nimport {SiteConfigContext} from '../../core/settings/site-config-context';\r\nimport {useForm} from 'react-hook-form';\r\nimport {Tag} from '../../tags/tag';\r\n\r\nexport function CreateTagDialog() {\r\n  const {close, formId} = useDialogContext();\r\n  const {\r\n    tags: {types},\r\n  } = useContext(SiteConfigContext);\r\n  const form = useForm<Partial<Tag>>({\r\n    defaultValues: {\r\n      type: types[0].name,\r\n    },\r\n  });\r\n  const createNewTag = useCreateNewTag(form);\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Add new tag\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <CrupdateTagForm\r\n          formId={formId}\r\n          form={form}\r\n          onSubmit={values => {\r\n            createNewTag.mutate(values, {\r\n              onSuccess: () => {\r\n                close();\r\n              },\r\n            });\r\n          }}\r\n        />\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button\r\n          onClick={() => {\r\n            close();\r\n          }}\r\n        >\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          form={formId}\r\n          disabled={createNewTag.isPending}\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          <Trans message=\"Save\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {message} from '@common/i18n/message';\r\nimport {Tag} from '@common/tags/tag';\r\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\r\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {slugifyString} from '@common/utils/string/slugify-string';\r\n\r\ninterface Response extends BackendResponse {\r\n  tag: Tag;\r\n}\r\n\r\nexport interface UpdateTagPayload extends Partial<Tag> {\r\n  id: number;\r\n}\r\n\r\nexport function useUpdateTag(form: UseFormReturn<UpdateTagPayload>) {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (props: UpdateTagPayload) => updateTag(props),\r\n    onSuccess: () => {\r\n      toast(trans(message('Tag updated')));\r\n      queryClient.invalidateQueries({queryKey: DatatableDataQueryKey('tags')});\r\n    },\r\n    onError: err => onFormQueryError(err, form),\r\n  });\r\n}\r\n\r\nfunction updateTag({id, ...payload}: UpdateTagPayload): Promise<Response> {\r\n  if (payload.name) {\r\n    payload.name = slugifyString(payload.name!);\r\n  }\r\n  return apiClient.put(`tags/${id}`, payload).then(r => r.data);\r\n}\r\n","import {Dialog} from '../../ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\r\nimport {CrupdateTagForm} from './crupdate-tag-form';\r\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\r\nimport {useForm} from 'react-hook-form';\r\nimport {Tag} from '../../tags/tag';\r\nimport {UpdateTagPayload, useUpdateTag} from './requests/use-update-tag';\r\n\r\ninterface UpdateTagDialogProps {\r\n  tag: Tag;\r\n}\r\nexport function UpdateTagDialog({tag}: UpdateTagDialogProps) {\r\n  const {close, formId} = useDialogContext();\r\n  const form = useForm<UpdateTagPayload>({\r\n    defaultValues: {\r\n      id: tag.id,\r\n      name: tag.name,\r\n      display_name: tag.display_name,\r\n      type: tag.type,\r\n    },\r\n  });\r\n  const updateTag = useUpdateTag(form);\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Update :name tag\" values={{name: tag.name}} />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <CrupdateTagForm\r\n          formId={formId}\r\n          form={form as any}\r\n          onSubmit={values => {\r\n            updateTag.mutate(values as UpdateTagPayload, {\r\n              onSuccess: () => {\r\n                close();\r\n              },\r\n            });\r\n          }}\r\n        />\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button\r\n          onClick={() => {\r\n            close();\r\n          }}\r\n        >\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          form={formId}\r\n          disabled={updateTag.isPending}\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          <Trans message=\"Save\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, {useContext, useMemo} from 'react';\r\nimport {DataTablePage} from '../../datatable/page/data-table-page';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {EditIcon} from '../../icons/material/Edit';\r\nimport {FormattedDate} from '../../i18n/formatted-date';\r\nimport {ColumnConfig} from '../../datatable/column-config';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\r\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\r\nimport {Tag} from '../../tags/tag';\r\nimport {SiteConfigContext} from '../../core/settings/site-config-context';\r\nimport {TagIndexPageFilters} from './tag-index-page-filters';\r\nimport softwareEngineerSvg from './software-engineer.svg';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport {CreateTagDialog} from './create-tag-dialog';\r\nimport {UpdateTagDialog} from './update-tag-dialog';\r\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\r\n\r\nconst columnConfig: ColumnConfig<Tag>[] = [\r\n  {\r\n    key: 'name',\r\n    allowsSorting: true,\r\n    visibleInMode: 'all',\r\n    width: 'flex-3 min-w-200',\r\n    header: () => <Trans message=\"Name\" />,\r\n    body: tag => tag.name,\r\n  },\r\n  {\r\n    key: 'type',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Type\" />,\r\n    body: tag => tag.type,\r\n  },\r\n  {\r\n    key: 'display_name',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Display name\" />,\r\n    body: tag => tag.display_name,\r\n  },\r\n  {\r\n    key: 'updated_at',\r\n    allowsSorting: true,\r\n    width: 'w-100',\r\n    header: () => <Trans message=\"Last updated\" />,\r\n    body: tag => <FormattedDate date={tag.updated_at} />,\r\n  },\r\n  {\r\n    key: 'actions',\r\n    header: () => <Trans message=\"Actions\" />,\r\n    hideHeader: true,\r\n    align: 'end',\r\n    width: 'w-42 flex-shrink-0',\r\n    visibleInMode: 'all',\r\n    body: tag => {\r\n      return (\r\n        <DialogTrigger type=\"modal\">\r\n          <IconButton size=\"md\" className=\"text-muted\">\r\n            <EditIcon />\r\n          </IconButton>\r\n          <UpdateTagDialog tag={tag} />\r\n        </DialogTrigger>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\nexport function TagIndexPage() {\r\n  const {tags} = useContext(SiteConfigContext);\r\n  const filters = useMemo(() => {\r\n    return TagIndexPageFilters(tags.types);\r\n  }, [tags.types]);\r\n\r\n  return (\r\n    <DataTablePage\r\n      endpoint=\"tags\"\r\n      title={<Trans message=\"Tags\" />}\r\n      columns={columnConfig}\r\n      filters={filters}\r\n      actions={<Actions />}\r\n      selectedActions={<DeleteSelectedItemsAction />}\r\n      emptyStateMessage={\r\n        <DataTableEmptyStateMessage\r\n          image={softwareEngineerSvg}\r\n          title={<Trans message=\"No tags have been created yet\" />}\r\n          filteringTitle={<Trans message=\"No matching tags\" />}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction Actions() {\r\n  return (\r\n    <>\r\n      <DialogTrigger type=\"modal\">\r\n        <DataTableAddItemButton>\r\n          <Trans message=\"Add new tag\" />\r\n        </DataTableAddItemButton>\r\n        <CreateTagDialog />\r\n      </DialogTrigger>\r\n    </>\r\n  );\r\n}\r\n","import {Fragment, memo} from 'react';\r\nimport {prettyBytes} from './utils/pretty-bytes';\r\n\r\ninterface FormattedBytesProps {\r\n  bytes?: number;\r\n}\r\nexport const FormattedBytes = memo(({bytes}: FormattedBytesProps) => {\r\n  return <Fragment>{prettyBytes(bytes)}</Fragment>;\r\n});\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const VisibilityIcon = createSvgIcon(\r\n  <path d=\"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z\" />\r\n, 'VisibilityOutlined');\r\n","export default \"__VITE_ASSET__31048831__\"","import React, {Fragment} from 'react';\r\nimport {DataTablePage} from '../../datatable/page/data-table-page';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {FormattedDate} from '../../i18n/formatted-date';\r\nimport {ColumnConfig} from '../../datatable/column-config';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\r\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport {FileEntry} from '../../uploads/file-entry';\r\nimport {NameWithAvatar} from '../../datatable/column-templates/name-with-avatar';\r\nimport {User} from '../../auth/user';\r\nimport {CheckIcon} from '../../icons/material/Check';\r\nimport {CloseIcon} from '../../icons/material/Close';\r\nimport {FormattedBytes} from '../../uploads/formatted-bytes';\r\nimport {VisibilityIcon} from '../../icons/material/Visibility';\r\nimport uploadSvg from './upload.svg';\r\nimport {FilePreviewDialog} from '../../uploads/preview/file-preview-dialog';\r\nimport {FILE_ENTRY_INDEX_FILTERS} from './file-entry-index-filters';\r\nimport {FileTypeIcon} from '../../uploads/file-type-icon/file-type-icon';\r\n\r\nconst columnConfig: ColumnConfig<FileEntry>[] = [\r\n  {\r\n    key: 'name',\r\n    allowsSorting: true,\r\n    visibleInMode: 'all',\r\n    width: 'flex-3 min-w-200',\r\n    header: () => <Trans message=\"Name\" />,\r\n    body: entry => (\r\n      <Fragment>\r\n        <div className=\"overflow-x-hidden overflow-ellipsis\">{entry.name}</div>\r\n        <div className=\"text-muted text-xs overflow-x-hidden overflow-ellipsis\">\r\n          {entry.file_name}\r\n        </div>\r\n      </Fragment>\r\n    ),\r\n  },\r\n  {\r\n    key: 'owner_id',\r\n    allowsSorting: true,\r\n    width: 'flex-3 min-w-200',\r\n    header: () => <Trans message=\"Uploader\" />,\r\n    body: entry => {\r\n      const user = entry.users?.[0] as User;\r\n      if (!user) return null;\r\n      return (\r\n        <NameWithAvatar\r\n          image={user.avatar}\r\n          label={user.display_name}\r\n          description={user.email}\r\n        />\r\n      );\r\n    },\r\n  },\r\n  {\r\n    key: 'type',\r\n    width: 'w-100 flex-shrink-0',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Type\" />,\r\n    body: entry => (\r\n      <div className=\"flex items-center gap-12\">\r\n        <FileTypeIcon type={entry.type} className=\"w-24 h-24 overflow-hidden\" />\r\n        <div className=\"capitalize\">{entry.type}</div>\r\n      </div>\r\n    ),\r\n  },\r\n  {\r\n    key: 'public',\r\n    allowsSorting: true,\r\n    width: 'w-60 flex-shrink-0',\r\n    header: () => <Trans message=\"Public\" />,\r\n    body: entry =>\r\n      entry.public ? (\r\n        <CheckIcon className=\"icon-md text-positive\" />\r\n      ) : (\r\n        <CloseIcon className=\"icon-md text-danger\" />\r\n      ),\r\n  },\r\n  {\r\n    key: 'file_size',\r\n    allowsSorting: true,\r\n    maxWidth: 'max-w-100',\r\n    header: () => <Trans message=\"File size\" />,\r\n    body: entry => <FormattedBytes bytes={entry.file_size} />,\r\n  },\r\n  {\r\n    key: 'updated_at',\r\n    allowsSorting: true,\r\n    width: 'w-100',\r\n    header: () => <Trans message=\"Last updated\" />,\r\n    body: entry => <FormattedDate date={entry.updated_at} />,\r\n  },\r\n  {\r\n    key: 'actions',\r\n    header: () => <Trans message=\"Actions\" />,\r\n    hideHeader: true,\r\n    align: 'end',\r\n    width: 'w-42 flex-shrink-0',\r\n    visibleInMode: 'all',\r\n    body: entry => {\r\n      return (\r\n        <DialogTrigger type=\"modal\">\r\n          <IconButton size=\"md\" className=\"text-muted\">\r\n            <VisibilityIcon />\r\n          </IconButton>\r\n          <FilePreviewDialog entries={[entry]} />\r\n        </DialogTrigger>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\nexport function FileEntryIndexPage() {\r\n  return (\r\n    <DataTablePage\r\n      endpoint=\"file-entries\"\r\n      title={<Trans message=\"Uploaded files and folders\" />}\r\n      columns={columnConfig}\r\n      filters={FILE_ENTRY_INDEX_FILTERS}\r\n      selectedActions={<DeleteSelectedItemsAction />}\r\n      emptyStateMessage={\r\n        <DataTableEmptyStateMessage\r\n          image={uploadSvg}\r\n          title={<Trans message=\"Nothing has been uploaded yet\" />}\r\n          filteringTitle={<Trans message=\"No matching files or folders\" />}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n","import {\r\n  BackendFilter,\r\n  FilterControlType,\r\n  FilterOperator,\r\n} from '../../datatable/filters/backend-filter';\r\nimport {message} from '../../i18n/message';\r\nimport {\r\n  createdAtFilter,\r\n  timestampFilter,\r\n  updatedAtFilter,\r\n} from '../../datatable/filters/timestamp-filters';\r\n\r\nexport const SubscriptionIndexPageFilters: BackendFilter[] = [\r\n  {\r\n    key: 'ends_at',\r\n    label: message('Status'),\r\n    description: message('Whether subscription is active or cancelled'),\r\n    defaultOperator: FilterOperator.eq,\r\n    control: {\r\n      type: FilterControlType.Select,\r\n      defaultValue: 'active',\r\n      options: [\r\n        {\r\n          key: 'active',\r\n          label: message('Active'),\r\n          value: {value: null, operator: FilterOperator.eq},\r\n        },\r\n        {\r\n          key: 'cancelled',\r\n          label: message('Cancelled'),\r\n          value: {value: null, operator: FilterOperator.ne},\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  {\r\n    control: {\r\n      type: FilterControlType.Select,\r\n      defaultValue: 'stripe',\r\n      options: [\r\n        {\r\n          key: 'stripe',\r\n          label: message('Stripe'),\r\n          value: 'stripe',\r\n        },\r\n        {\r\n          key: 'paypal',\r\n          label: message('PayPal'),\r\n          value: 'paypal',\r\n        },\r\n        {\r\n          key: 'none',\r\n          label: message('None'),\r\n          value: 'none',\r\n        },\r\n      ],\r\n    },\r\n    key: 'gateway_name',\r\n    label: message('Gateway'),\r\n    description: message(\r\n      'With which payment provider was subscription created'\r\n    ),\r\n    defaultOperator: FilterOperator.eq,\r\n  },\r\n  timestampFilter({\r\n    key: 'renews_at',\r\n    label: message('Renew date'),\r\n    description: message('Date subscription will renew'),\r\n  }),\r\n  createdAtFilter({\r\n    description: message('Date subscription was created'),\r\n  }),\r\n  updatedAtFilter({\r\n    description: message('Date subscription was last updated'),\r\n  }),\r\n];\r\n","export default \"__VITE_ASSET__2e46d67b__\"","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '../../../http/query-client';\r\nimport {useTrans} from '../../../i18n/use-trans';\r\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\r\nimport {toast} from '../../../ui/toast/toast';\r\nimport {message} from '../../../i18n/message';\r\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\r\nimport {onFormQueryError} from '../../../errors/on-form-query-error';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {Subscription} from '../../../billing/subscription';\r\n\r\ninterface Response extends BackendResponse {\r\n  subscription: Subscription;\r\n}\r\n\r\nexport interface UpdateSubscriptionPayload extends Partial<Subscription> {\r\n  id: number;\r\n}\r\n\r\nexport function useUpdateSubscription(\r\n  form: UseFormReturn<UpdateSubscriptionPayload>,\r\n) {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (props: UpdateSubscriptionPayload) => updateSubscription(props),\r\n    onSuccess: () => {\r\n      toast(trans(message('Subscription updated')));\r\n      queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('billing/subscriptions'),\r\n      });\r\n    },\r\n    onError: err => onFormQueryError(err, form),\r\n  });\r\n}\r\n\r\nfunction updateSubscription({\r\n  id,\r\n  ...payload\r\n}: UpdateSubscriptionPayload): Promise<Response> {\r\n  return apiClient\r\n    .put(`billing/subscriptions/${id}`, payload)\r\n    .then(r => r.data);\r\n}\r\n","import {UseFormReturn} from 'react-hook-form';\r\nimport {Form} from '../../ui/forms/form';\r\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport {FormSelect} from '../../ui/forms/select/select';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {Item} from '../../ui/forms/listbox/item';\r\nimport {Subscription} from '../../billing/subscription';\r\nimport {FormDatePicker} from '../../ui/forms/input-field/date/date-picker/date-picker';\r\nimport {useProducts} from '../../billing/pricing-table/use-products';\r\nimport {FormattedPrice} from '../../i18n/formatted-price';\r\nimport {FormNormalizedModelField} from '../../ui/forms/normalized-model-field';\r\n\r\ninterface CrupdateSubscriptionForm {\r\n  onSubmit: (values: Partial<Subscription>) => void;\r\n  formId: string;\r\n  form: UseFormReturn<Partial<Subscription>>;\r\n}\r\nexport function CrupdateSubscriptionForm({\r\n  form,\r\n  onSubmit,\r\n  formId,\r\n}: CrupdateSubscriptionForm) {\r\n  const query = useProducts();\r\n  // @ts-ignore\r\n  const watchedProductId = form.watch('product_id');\r\n  const selectedProduct = query.data?.products.find(\r\n    p => p.id === watchedProductId,\r\n  );\r\n\r\n  return (\r\n    <Form id={formId} form={form} onSubmit={onSubmit}>\r\n      <FormNormalizedModelField\r\n        name=\"user_id\"\r\n        className=\"mb-20\"\r\n        endpoint=\"normalized-models/user\"\r\n        label={<Trans message=\"User\" />}\r\n      />\r\n      <FormSelect\r\n        name=\"product_id\"\r\n        selectionMode=\"single\"\r\n        className=\"mb-20\"\r\n        label={<Trans message=\"Plan\" />}\r\n      >\r\n        {query.data?.products\r\n          .filter(p => !p.free)\r\n          .map(product => (\r\n            <Item key={product.id} value={product.id}>\r\n              <Trans message={product.name} />\r\n            </Item>\r\n          ))}\r\n      </FormSelect>\r\n      {!selectedProduct?.free && (\r\n        <FormSelect\r\n          name=\"price_id\"\r\n          selectionMode=\"single\"\r\n          className=\"mb-20\"\r\n          label={<Trans message=\"Price\" />}\r\n        >\r\n          {selectedProduct?.prices.map(price => (\r\n            <Item key={price.id} value={price.id}>\r\n              <FormattedPrice price={price} />\r\n            </Item>\r\n          ))}\r\n        </FormSelect>\r\n      )}\r\n      <FormTextField\r\n        inputElementType=\"textarea\"\r\n        rows={3}\r\n        name=\"description\"\r\n        label={<Trans message=\"Description\" />}\r\n        className=\"mb-20\"\r\n      />\r\n      <FormDatePicker\r\n        className=\"mb-20\"\r\n        name=\"renews_at\"\r\n        granularity=\"day\"\r\n        label={<Trans message=\"Renews at\" />}\r\n        description={\r\n          <Trans message=\"This will only change local records. User will continue to be billed on their original cycle on the payment gateway.\" />\r\n        }\r\n      />\r\n      <FormDatePicker\r\n        className=\"mb-20\"\r\n        name=\"ends_at\"\r\n        granularity=\"day\"\r\n        label={<Trans message=\"Ends at\" />}\r\n        description={\r\n          <Trans message=\"This will only change local records. User will continue to be billed on their original cycle on the payment gateway.\" />\r\n        }\r\n      />\r\n    </Form>\r\n  );\r\n}\r\n","import {Dialog} from '../../ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\r\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\r\nimport {useForm} from 'react-hook-form';\r\nimport {Subscription} from '../../billing/subscription';\r\nimport {\r\n  UpdateSubscriptionPayload,\r\n  useUpdateSubscription,\r\n} from './requests/use-update-subscription';\r\nimport {CrupdateSubscriptionForm} from './crupdate-subscription-form';\r\n\r\ninterface UpdateSubscriptionDialogProps {\r\n  subscription: Subscription;\r\n}\r\nexport function UpdateSubscriptionDialog({\r\n  subscription,\r\n}: UpdateSubscriptionDialogProps) {\r\n  const {close, formId} = useDialogContext();\r\n  const form = useForm<UpdateSubscriptionPayload>({\r\n    defaultValues: {\r\n      id: subscription.id,\r\n      product_id: subscription.product_id,\r\n      price_id: subscription.price_id,\r\n      description: subscription.description,\r\n      renews_at: subscription.renews_at,\r\n      ends_at: subscription.ends_at,\r\n      user_id: subscription.user_id,\r\n    },\r\n  });\r\n  const updateSubscription = useUpdateSubscription(form);\r\n\r\n  return (\r\n    <Dialog size=\"md\">\r\n      <DialogHeader>\r\n        <Trans message=\"Update subscription\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <CrupdateSubscriptionForm\r\n          formId={formId}\r\n          form={form as any}\r\n          onSubmit={values => {\r\n            updateSubscription.mutate(values as UpdateSubscriptionPayload, {\r\n              onSuccess: () => {\r\n                close();\r\n              },\r\n            });\r\n          }}\r\n        />\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button\r\n          onClick={() => {\r\n            close();\r\n          }}\r\n        >\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          form={formId}\r\n          disabled={updateSubscription.isPending}\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          <Trans message=\"Save\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '../../../http/query-client';\r\nimport {useTrans} from '../../../i18n/use-trans';\r\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\r\nimport {toast} from '../../../ui/toast/toast';\r\nimport {message} from '../../../i18n/message';\r\nimport {Tag} from '../../../tags/tag';\r\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\r\nimport {onFormQueryError} from '../../../errors/on-form-query-error';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {Subscription} from '../../../billing/subscription';\r\n\r\nconst endpoint = 'billing/subscriptions';\r\n\r\ninterface Response extends BackendResponse {\r\n  tag: Tag;\r\n}\r\n\r\ninterface Payload extends Partial<Subscription> {}\r\n\r\nexport function useCreateSubscription(form: UseFormReturn<Payload>) {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (props: Payload) => createNewSubscription(props),\r\n    onSuccess: () => {\r\n      toast(trans(message('Subscription created')));\r\n      queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey(endpoint),\r\n      });\r\n    },\r\n    onError: err => onFormQueryError(err, form),\r\n  });\r\n}\r\n\r\nfunction createNewSubscription(payload: Payload): Promise<Response> {\r\n  return apiClient.post(endpoint, payload).then(r => r.data);\r\n}\r\n","import {Dialog} from '../../ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\r\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\r\nimport {useForm} from 'react-hook-form';\r\nimport {useCreateSubscription} from './requests/use-create-subscription';\r\nimport {Subscription} from '../../billing/subscription';\r\nimport {CrupdateSubscriptionForm} from './crupdate-subscription-form';\r\n\r\nexport function CreateSubscriptionDialog() {\r\n  const {close, formId} = useDialogContext();\r\n  const form = useForm<Partial<Subscription>>({});\r\n  const createSubscription = useCreateSubscription(form);\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Add new subscription\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <CrupdateSubscriptionForm\r\n          formId={formId}\r\n          form={form}\r\n          onSubmit={values => {\r\n            createSubscription.mutate(values, {\r\n              onSuccess: () => {\r\n                close();\r\n              },\r\n            });\r\n          }}\r\n        />\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button\r\n          onClick={() => {\r\n            close();\r\n          }}\r\n        >\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          form={formId}\r\n          disabled={createSubscription.isPending}\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          <Trans message=\"Save\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const PauseIcon = createSvgIcon(\r\n  <path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" />\r\n, 'PauseOutlined');\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const PlayArrowIcon = createSvgIcon(\r\n  <path d=\"M10 8.64 15.27 12 10 15.36V8.64M8 5v14l11-7L8 5z\" />\r\n, 'PlayArrowOutlined');\r\n","import React, {Fragment} from 'react';\r\nimport {DataTablePage} from '../../datatable/page/data-table-page';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {EditIcon} from '../../icons/material/Edit';\r\nimport {ColumnConfig} from '../../datatable/column-config';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\r\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\r\nimport {SubscriptionIndexPageFilters} from './subscription-index-page-filters';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\r\nimport subscriptionsSvg from './subscriptions.svg';\r\nimport {NameWithAvatar} from '../../datatable/column-templates/name-with-avatar';\r\nimport {Subscription} from '../../billing/subscription';\r\nimport {CloseIcon} from '../../icons/material/Close';\r\nimport {FormattedDate} from '../../i18n/formatted-date';\r\nimport {UpdateSubscriptionDialog} from './update-subscription-dialog';\r\nimport {CreateSubscriptionDialog} from './create-subscription-dialog';\r\nimport {useCancelSubscription} from '../../billing/billing-page/requests/use-cancel-subscription';\r\nimport {PauseIcon} from '../../icons/material/Pause';\r\nimport {queryClient} from '../../http/query-client';\r\nimport {DatatableDataQueryKey} from '../../datatable/requests/paginated-resources';\r\nimport {Tooltip} from '../../ui/tooltip/tooltip';\r\nimport {useResumeSubscription} from '../../billing/billing-page/requests/use-resume-subscription';\r\nimport {PlayArrowIcon} from '../../icons/material/PlayArrow';\r\nimport {ConfirmationDialog} from '../../ui/overlays/dialog/confirmation-dialog';\r\nimport {Chip} from '../../ui/forms/input-field/chip-field/chip';\r\n\r\nconst endpoint = 'billing/subscriptions';\r\n\r\nconst columnConfig: ColumnConfig<Subscription>[] = [\r\n  {\r\n    key: 'user_id',\r\n    allowsSorting: true,\r\n    width: 'flex-3 min-w-200',\r\n    visibleInMode: 'all',\r\n    header: () => <Trans message=\"Customer\" />,\r\n    body: subscription =>\r\n      subscription.user && (\r\n        <NameWithAvatar\r\n          image={subscription.user.avatar}\r\n          label={subscription.user.display_name}\r\n          description={subscription.user.email}\r\n        />\r\n      ),\r\n  },\r\n  {\r\n    key: 'status',\r\n    width: 'w-100 flex-shrink-0',\r\n    header: () => <Trans message=\"Status\" />,\r\n    body: subscription => (\r\n      <Chip\r\n        size=\"xs\"\r\n        color={subscription.valid ? 'positive' : undefined}\r\n        radius=\"rounded\"\r\n        className=\"w-max\"\r\n      >\r\n        {subscription.gateway_status}\r\n      </Chip>\r\n    ),\r\n  },\r\n  {\r\n    key: 'product_id',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Plan\" />,\r\n    body: subscription => subscription.product?.name,\r\n  },\r\n  {\r\n    key: 'gateway_name',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Gateway\" />,\r\n    body: subscription => (\r\n      <span className=\"capitalize\">{subscription.gateway_name}</span>\r\n    ),\r\n  },\r\n  {\r\n    key: 'renews_at',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Renews at\" />,\r\n    body: subscription => <FormattedDate date={subscription.renews_at} />,\r\n  },\r\n  {\r\n    key: 'ends_at',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Ends at\" />,\r\n    body: subscription => <FormattedDate date={subscription.ends_at} />,\r\n  },\r\n  {\r\n    key: 'created_at',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Created at\" />,\r\n    body: subscription => <FormattedDate date={subscription.created_at} />,\r\n  },\r\n  {\r\n    key: 'actions',\r\n    header: () => <Trans message=\"Actions\" />,\r\n    hideHeader: true,\r\n    align: 'end',\r\n    visibleInMode: 'all',\r\n    width: 'w-128 flex-shrink-0',\r\n    body: subscription => {\r\n      return <SubscriptionActions subscription={subscription} />;\r\n    },\r\n  },\r\n];\r\n\r\nexport function SubscriptionsIndexPage() {\r\n  return (\r\n    <DataTablePage\r\n      endpoint={endpoint}\r\n      title={<Trans message=\"Subscriptions\" />}\r\n      columns={columnConfig}\r\n      filters={SubscriptionIndexPageFilters}\r\n      actions={<PageActions />}\r\n      enableSelection={false}\r\n      selectedActions={<DeleteSelectedItemsAction />}\r\n      queryParams={{with: 'product'}}\r\n      emptyStateMessage={\r\n        <DataTableEmptyStateMessage\r\n          image={subscriptionsSvg}\r\n          title={<Trans message=\"No subscriptions have been created yet\" />}\r\n          filteringTitle={<Trans message=\"No matching subscriptions\" />}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction PageActions() {\r\n  return (\r\n    <>\r\n      <DialogTrigger type=\"modal\">\r\n        <DataTableAddItemButton>\r\n          <Trans message=\"Add new subscription\" />\r\n        </DataTableAddItemButton>\r\n        <CreateSubscriptionDialog />\r\n      </DialogTrigger>\r\n    </>\r\n  );\r\n}\r\n\r\ninterface SubscriptionActionsProps {\r\n  subscription: Subscription;\r\n}\r\nfunction SubscriptionActions({subscription}: SubscriptionActionsProps) {\r\n  return (\r\n    <Fragment>\r\n      <DialogTrigger type=\"modal\">\r\n        <IconButton size=\"md\" className=\"text-muted\">\r\n          <EditIcon />\r\n        </IconButton>\r\n        <UpdateSubscriptionDialog subscription={subscription} />\r\n      </DialogTrigger>\r\n      {subscription.cancelled && subscription.on_grace_period ? (\r\n        <ResumeSubscriptionButton subscription={subscription} />\r\n      ) : null}\r\n      {subscription.active ? (\r\n        <SuspendSubscriptionButton subscription={subscription} />\r\n      ) : null}\r\n      <CancelSubscriptionButton subscription={subscription} />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction SuspendSubscriptionButton({subscription}: SubscriptionActionsProps) {\r\n  const cancelSubscription = useCancelSubscription();\r\n\r\n  const handleSuspendSubscription = () => {\r\n    cancelSubscription.mutate(\r\n      {subscriptionId: subscription.id},\r\n      {\r\n        onSuccess: () => {\r\n          queryClient.invalidateQueries({\r\n            queryKey: DatatableDataQueryKey(endpoint),\r\n          });\r\n        },\r\n      },\r\n    );\r\n  };\r\n\r\n  return (\r\n    <DialogTrigger\r\n      type=\"modal\"\r\n      onClose={confirmed => {\r\n        if (confirmed) {\r\n          handleSuspendSubscription();\r\n        }\r\n      }}\r\n    >\r\n      <Tooltip label={<Trans message=\"Cancel subscription\" />}>\r\n        <IconButton\r\n          size=\"md\"\r\n          className=\"text-muted\"\r\n          disabled={cancelSubscription.isPending}\r\n        >\r\n          <PauseIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <ConfirmationDialog\r\n        title={<Trans message=\"Cancel subscription\" />}\r\n        body={\r\n          <div>\r\n            <Trans message=\"Are you sure you want to cancel this subscription?\" />\r\n            <div className=\"mt-10 text-sm font-semibold\">\r\n              <Trans message=\"This will put user on grace period until their next scheduled renewal date. Subscription can be renewed until that date by user or from admin area.\" />\r\n            </div>\r\n          </div>\r\n        }\r\n        confirm={<Trans message=\"Confirm\" />}\r\n      />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n\r\nfunction ResumeSubscriptionButton({subscription}: SubscriptionActionsProps) {\r\n  const resumeSubscription = useResumeSubscription();\r\n  const handleResumeSubscription = () => {\r\n    resumeSubscription.mutate(\r\n      {subscriptionId: subscription.id},\r\n      {\r\n        onSuccess: () => {\r\n          queryClient.invalidateQueries({\r\n            queryKey: DatatableDataQueryKey(endpoint),\r\n          });\r\n        },\r\n      },\r\n    );\r\n  };\r\n\r\n  return (\r\n    <DialogTrigger\r\n      type=\"modal\"\r\n      onClose={confirmed => {\r\n        if (confirmed) {\r\n          handleResumeSubscription();\r\n        }\r\n      }}\r\n    >\r\n      <Tooltip label={<Trans message=\"Renew subscription\" />}>\r\n        <IconButton\r\n          size=\"md\"\r\n          className=\"text-muted\"\r\n          onClick={handleResumeSubscription}\r\n          disabled={resumeSubscription.isPending}\r\n        >\r\n          <PlayArrowIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <ConfirmationDialog\r\n        title={<Trans message=\"Resume subscription\" />}\r\n        body={\r\n          <div>\r\n            <Trans message=\"Are you sure you want to resume this subscription?\" />\r\n            <div className=\"mt-10 text-sm font-semibold\">\r\n              <Trans message=\"This will put user on their original plan and billing cycle.\" />\r\n            </div>\r\n          </div>\r\n        }\r\n        confirm={<Trans message=\"Confirm\" />}\r\n      />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n\r\nfunction CancelSubscriptionButton({subscription}: SubscriptionActionsProps) {\r\n  const cancelSubscription = useCancelSubscription();\r\n\r\n  const handleDeleteSubscription = () => {\r\n    cancelSubscription.mutate(\r\n      {subscriptionId: subscription.id, delete: true},\r\n      {\r\n        onSuccess: () => {\r\n          queryClient.invalidateQueries({\r\n            queryKey: DatatableDataQueryKey(endpoint),\r\n          });\r\n        },\r\n      },\r\n    );\r\n  };\r\n\r\n  return (\r\n    <DialogTrigger\r\n      type=\"modal\"\r\n      onClose={confirmed => {\r\n        if (confirmed) {\r\n          handleDeleteSubscription();\r\n        }\r\n      }}\r\n    >\r\n      <Tooltip label={<Trans message=\"Delete subscription\" />}>\r\n        <IconButton\r\n          size=\"md\"\r\n          className=\"text-muted\"\r\n          disabled={cancelSubscription.isPending}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <ConfirmationDialog\r\n        isDanger\r\n        title={<Trans message=\"Delete subscription\" />}\r\n        body={\r\n          <div>\r\n            <Trans message=\"Are you sure you want to delete this subscription?\" />\r\n            <div className=\"mt-10 text-sm font-semibold\">\r\n              <Trans message=\"This will permanently delete the subscription and immediately cancel it on billing gateway. Subscription will not be renewable anymore.\" />\r\n            </div>\r\n          </div>\r\n        }\r\n        confirm={<Trans message=\"Confirm\" />}\r\n      />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const SyncIcon = createSvgIcon(\r\n  <path d=\"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z\" />\r\n, 'SyncOutlined');\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient} from '../../../http/query-client';\r\nimport {useTrans} from '../../../i18n/use-trans';\r\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\r\nimport {toast} from '../../../ui/toast/toast';\r\nimport {message} from '../../../i18n/message';\r\nimport {showHttpErrorToast} from '../../../utils/http/show-http-error-toast';\r\n\r\ninterface Response extends BackendResponse {}\r\n\r\nexport function useSyncProducts() {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: () => syncPlans(),\r\n    onSuccess: () => {\r\n      toast(trans(message('Plans synced')));\r\n    },\r\n    onError: err => showHttpErrorToast(err, message('Could not sync plans')),\r\n  });\r\n}\r\n\r\nfunction syncPlans(): Promise<Response> {\r\n  return apiClient.post('billing/products/sync').then(r => r.data);\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '../../../http/query-client';\r\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\r\nimport {toast} from '../../../ui/toast/toast';\r\nimport {useTrans} from '../../../i18n/use-trans';\r\nimport {message} from '../../../i18n/message';\r\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\r\nimport {showHttpErrorToast} from '../../../utils/http/show-http-error-toast';\r\n\r\nconst endpoint = (id: number) => `billing/products/${id}`;\r\n\r\ninterface Response extends BackendResponse {}\r\n\r\ninterface Payload {\r\n  productId: number;\r\n}\r\n\r\nexport function useDeleteProduct() {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (payload: Payload) => updateProduct(payload),\r\n    onSuccess: () => {\r\n      toast(trans(message('Plan deleted')));\r\n      queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('billing/products'),\r\n      });\r\n    },\r\n    onError: err => showHttpErrorToast(err),\r\n  });\r\n}\r\n\r\nfunction updateProduct({productId}: Payload): Promise<Response> {\r\n  return apiClient.delete(endpoint(productId)).then(r => r.data);\r\n}\r\n","import {\r\n  BackendFilter,\r\n  FilterControlType,\r\n  FilterOperator,\r\n} from '../../datatable/filters/backend-filter';\r\nimport {message} from '../../i18n/message';\r\nimport {\r\n  createdAtFilter,\r\n  updatedAtFilter,\r\n} from '@common/datatable/filters/timestamp-filters';\r\n\r\nexport const PlansIndexPageFilters: BackendFilter[] = [\r\n  {\r\n    key: 'subscriptions',\r\n    label: message('Subscriptions'),\r\n    description: message('Whether plan has any active subscriptions'),\r\n    defaultOperator: FilterOperator.eq,\r\n    control: {\r\n      type: FilterControlType.Select,\r\n      defaultValue: '01',\r\n      options: [\r\n        {\r\n          key: '01',\r\n          label: message('Has active subscriptions'),\r\n          value: {value: '*', operator: FilterOperator.has},\r\n        },\r\n        {\r\n          key: '02',\r\n          label: message('Does not have active subscriptions'),\r\n          value: {value: '*', operator: FilterOperator.doesntHave},\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  createdAtFilter({\r\n    description: message('Date plan was created'),\r\n  }),\r\n  updatedAtFilter({\r\n    description: message('Date plan was last updated'),\r\n  }),\r\n];\r\n","import React, {Fragment} from 'react';\r\nimport {DataTablePage} from '../../datatable/page/data-table-page';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {EditIcon} from '../../icons/material/Edit';\r\nimport {FormattedDate} from '../../i18n/formatted-date';\r\nimport {ColumnConfig} from '../../datatable/column-config';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\r\nimport softwareEngineerSvg from './../tags/software-engineer.svg';\r\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\r\nimport {Product} from '../../billing/product';\r\nimport {NameWithAvatar} from '../../datatable/column-templates/name-with-avatar';\r\nimport {Link} from 'react-router-dom';\r\nimport {FormattedPrice} from '../../i18n/formatted-price';\r\nimport {SyncIcon} from '../../icons/material/Sync';\r\nimport {useSyncProducts} from './requests/use-sync-products';\r\nimport {Tooltip} from '../../ui/tooltip/tooltip';\r\nimport {useDeleteProduct} from './requests/use-delete-product';\r\nimport {DeleteIcon} from '../../icons/material/Delete';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport {ConfirmationDialog} from '../../ui/overlays/dialog/confirmation-dialog';\r\nimport {useNavigate} from '../../utils/hooks/use-navigate';\r\nimport {PlansIndexPageFilters} from './plans-index-page-filters';\r\n\r\nconst columnConfig: ColumnConfig<Product>[] = [\r\n  {\r\n    key: 'name',\r\n    allowsSorting: true,\r\n    visibleInMode: 'all',\r\n    header: () => <Trans message=\"Name\" />,\r\n    body: product => {\r\n      const price = product.prices[0];\r\n      return (\r\n        <NameWithAvatar\r\n          label={product.name}\r\n          description={\r\n            product.free ? (\r\n              <Trans message=\"Free\" />\r\n            ) : (\r\n              <FormattedPrice price={price} />\r\n            )\r\n          }\r\n        />\r\n      );\r\n    },\r\n  },\r\n  {\r\n    key: 'created_at',\r\n    allowsSorting: true,\r\n    maxWidth: 'max-w-100',\r\n    header: () => <Trans message=\"Created\" />,\r\n    body: product => <FormattedDate date={product.created_at} />,\r\n  },\r\n  {\r\n    key: 'updated_at',\r\n    allowsSorting: true,\r\n    maxWidth: 'max-w-100',\r\n    header: () => <Trans message=\"Last updated\" />,\r\n    body: product => <FormattedDate date={product.updated_at} />,\r\n  },\r\n  {\r\n    key: 'actions',\r\n    header: () => <Trans message=\"Actions\" />,\r\n    visibleInMode: 'all',\r\n    hideHeader: true,\r\n    align: 'end',\r\n    maxWidth: 'max-w-84',\r\n    body: product => {\r\n      return (\r\n        <Fragment>\r\n          <IconButton\r\n            size=\"md\"\r\n            className=\"text-muted\"\r\n            elementType={Link}\r\n            to={`/admin/plans/${product.id}/edit`}\r\n          >\r\n            <EditIcon />\r\n          </IconButton>\r\n          <DeleteProductButton product={product} />\r\n        </Fragment>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\nexport function PlansIndexPage() {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <DataTablePage\r\n      endpoint=\"billing/products\"\r\n      title={<Trans message=\"Subscription plans\" />}\r\n      columns={columnConfig}\r\n      actions={<Actions />}\r\n      enableSelection={false}\r\n      filters={PlansIndexPageFilters}\r\n      onRowAction={item => {\r\n        navigate(`/admin/plans/${item.id}/edit`);\r\n      }}\r\n      emptyStateMessage={\r\n        <DataTableEmptyStateMessage\r\n          image={softwareEngineerSvg}\r\n          title={<Trans message=\"No plans have been created yet\" />}\r\n          filteringTitle={<Trans message=\"No matching plans\" />}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\ninterface DeleteProductButtonProps {\r\n  product: Product;\r\n}\r\nfunction DeleteProductButton({product}: DeleteProductButtonProps) {\r\n  const deleteProduct = useDeleteProduct();\r\n  return (\r\n    <DialogTrigger\r\n      type=\"modal\"\r\n      onClose={confirmed => {\r\n        if (confirmed) {\r\n          deleteProduct.mutate({productId: product.id});\r\n        }\r\n      }}\r\n    >\r\n      <Tooltip label={<Trans message=\"Delete plan\" />}>\r\n        <IconButton\r\n          size=\"md\"\r\n          className=\"text-muted\"\r\n          disabled={deleteProduct.isPending}\r\n        >\r\n          <DeleteIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <ConfirmationDialog\r\n        title={<Trans message=\"Delete plan\" />}\r\n        body={<Trans message=\"Are you sure you want to delete this plan?\" />}\r\n        confirm={<Trans message=\"Delete\" />}\r\n      />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n\r\nfunction Actions() {\r\n  const syncPlans = useSyncProducts();\r\n  return (\r\n    <Fragment>\r\n      <Tooltip label={<Trans message=\"Sync plans with Stripe & PayPal\" />}>\r\n        <IconButton\r\n          color=\"primary\"\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          disabled={syncPlans.isPending}\r\n          onClick={() => {\r\n            syncPlans.mutate();\r\n          }}\r\n        >\r\n          <SyncIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <DataTableAddItemButton elementType={Link} to=\"/admin/plans/new\">\r\n        <Trans message=\"Add new plan\" />\r\n      </DataTableAddItemButton>\r\n    </Fragment>\r\n  );\r\n}\r\n","import {useQuery} from '@tanstack/react-query';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {apiClient} from '@common/http/query-client';\r\nimport {useParams} from 'react-router-dom';\r\nimport {Product} from '@common/billing/product';\r\n\r\nconst Endpoint = (id: number | string) => `billing/products/${id}`;\r\n\r\nexport interface FetchRoleResponse extends BackendResponse {\r\n  product: Product;\r\n}\r\n\r\nexport function useProduct() {\r\n  const {productId} = useParams();\r\n  return useQuery({\r\n    queryKey: [Endpoint(productId!)],\r\n    queryFn: () => fetchProduct(productId!),\r\n  });\r\n}\r\n\r\nfunction fetchProduct(productId: number | string): Promise<FetchRoleResponse> {\r\n  return apiClient.get(Endpoint(productId)).then(response => response.data);\r\n}\r\n","import {message} from '../../../i18n/message';\r\n\r\nexport const BillingPeriodPresets = [\r\n  {\r\n    key: 'day1',\r\n    label: message('Daily'),\r\n    interval: 'day',\r\n    interval_count: 1,\r\n  },\r\n  {\r\n    key: 'week1',\r\n    label: message('Weekly'),\r\n    interval: 'week',\r\n    interval_count: 1,\r\n  },\r\n  {\r\n    key: 'month1',\r\n    label: message('Monthly'),\r\n    interval: 'month',\r\n    interval_count: 1,\r\n  },\r\n  {\r\n    key: 'month3',\r\n    label: message('Every 3 months'),\r\n    interval: 'month',\r\n    interval_count: 3,\r\n  },\r\n  {\r\n    key: 'month6',\r\n    label: message('Every 6 months'),\r\n    interval: 'month',\r\n    interval_count: 6,\r\n  },\r\n  {\r\n    key: 'year1',\r\n    label: message('Yearly'),\r\n    interval: 'year',\r\n    interval_count: 1,\r\n  },\r\n  {\r\n    key: 'custom',\r\n    label: message('Custom'),\r\n    interval: null,\r\n    interval_count: null,\r\n  },\r\n];\r\n","import {useFormContext} from 'react-hook-form';\r\nimport {Product} from '@common/billing/product';\r\nimport React, {Fragment, useMemo, useState} from 'react';\r\nimport {useValueLists} from '@common/http/value-lists';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {Item} from '@common/ui/forms/listbox/item';\r\nimport {FormSelect, Select} from '@common/ui/forms/select/select';\r\nimport {Price} from '@common/billing/price';\r\nimport {BillingPeriodPresets} from '@common/admin/plans/crupdate-plan-page/billing-period-presets';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {message} from '@common/i18n/message';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\n\r\ninterface PriceFormProps {\r\n  index: number;\r\n  onRemovePrice: () => void;\r\n}\r\nexport function PriceForm({index, onRemovePrice}: PriceFormProps) {\r\n  const {trans} = useTrans();\r\n  const query = useValueLists(['currencies']);\r\n  const currencies = useMemo(() => {\r\n    return query.data?.currencies ? Object.values(query.data.currencies) : [];\r\n  }, [query.data]);\r\n  const {watch, getValues} = useFormContext<Product>();\r\n  const isNewProduct = !watch('id');\r\n  const isNewPrice = watch(`prices.${index}.id`) == null;\r\n  const subscriberCount = watch(`prices.${index}.subscriptions_count`) || 0;\r\n\r\n  // select billing period preset based on price \"interval\" and \"interval_count\"\r\n  const [billingPeriodPreset, setBillingPeriodPreset] = useState(() => {\r\n    const interval = getValues(`prices.${index}.interval`);\r\n    const intervalCount = getValues(`prices.${index}.interval_count`);\r\n    const preset = BillingPeriodPresets.find(\r\n      p => p.key === `${interval}${intervalCount}`\r\n    );\r\n    return preset ? preset.key : 'custom';\r\n  });\r\n\r\n  const allowPriceChanges = isNewProduct || isNewPrice || !subscriberCount;\r\n\r\n  return (\r\n    <Fragment>\r\n      {!allowPriceChanges && (\r\n        <p className=\"text-muted text-sm max-w-500 mb-20\">\r\n          <Trans\r\n            message=\"This price can't modified or deleted, because it has [one 1 subscriber|other :count subscribers]. You can instead add a new price.\"\r\n            values={{count: subscriberCount}}\r\n          />\r\n        </p>\r\n      )}\r\n\r\n      <FormTextField\r\n        required\r\n        disabled={!allowPriceChanges}\r\n        label={<Trans message=\"Amount\" />}\r\n        type=\"number\"\r\n        min={0.1}\r\n        step={0.01}\r\n        name={`prices.${index}.amount`}\r\n        className=\"mb-20\"\r\n      />\r\n      <FormSelect\r\n        required\r\n        disabled={!allowPriceChanges}\r\n        label={<Trans message=\"Currency\" />}\r\n        name={`prices.${index}.currency`}\r\n        items={currencies}\r\n        showSearchField\r\n        searchPlaceholder={trans(message('Search currencies'))}\r\n        selectionMode=\"single\"\r\n        className=\"mb-20\"\r\n      >\r\n        {item => (\r\n          <Item\r\n            value={item.code}\r\n            key={item.code}\r\n          >{`${item.code}: ${item.name}`}</Item>\r\n        )}\r\n      </FormSelect>\r\n      <BillingPeriodSelect\r\n        disabled={!allowPriceChanges}\r\n        index={index}\r\n        value={billingPeriodPreset}\r\n        onValueChange={setBillingPeriodPreset}\r\n      />\r\n      {billingPeriodPreset === 'custom' && (\r\n        <CustomBillingPeriodField disabled={!allowPriceChanges} index={index} />\r\n      )}\r\n      <div className=\"text-right\">\r\n        <Button\r\n          size=\"xs\"\r\n          variant=\"outline\"\r\n          color=\"danger\"\r\n          disabled={!allowPriceChanges}\r\n          onClick={() => {\r\n            onRemovePrice();\r\n          }}\r\n        >\r\n          <Trans message=\"Delete price\" />\r\n        </Button>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface BillingPeriodSelectProps {\r\n  index: number;\r\n  value: string;\r\n  onValueChange: (value: string) => void;\r\n  disabled: boolean;\r\n}\r\nfunction BillingPeriodSelect({\r\n  index,\r\n  value,\r\n  onValueChange,\r\n  disabled,\r\n}: BillingPeriodSelectProps) {\r\n  const {setValue: setFormValue} = useFormContext<Product>();\r\n\r\n  return (\r\n    <Select\r\n      label={<Trans message=\"Billing period\" />}\r\n      disabled={disabled}\r\n      className=\"mb-20\"\r\n      selectionMode=\"single\"\r\n      selectedValue={value}\r\n      onSelectionChange={value => {\r\n        onValueChange(value as string);\r\n        if (value === 'custom') {\r\n        } else {\r\n          const preset = BillingPeriodPresets.find(p => p.key === value);\r\n          if (preset) {\r\n            setFormValue(\r\n              `prices.${index}.interval`,\r\n              preset.interval as Price['interval']\r\n            );\r\n            setFormValue(\r\n              `prices.${index}.interval_count`,\r\n              preset.interval_count as number\r\n            );\r\n          }\r\n        }\r\n      }}\r\n    >\r\n      {BillingPeriodPresets.map(preset => (\r\n        <Item key={preset.key} value={preset.key}>\r\n          <Trans {...preset.label} />\r\n        </Item>\r\n      ))}\r\n    </Select>\r\n  );\r\n}\r\n\r\ninterface CustomBillingPeriodFieldProps {\r\n  index: number;\r\n  disabled: boolean;\r\n}\r\nfunction CustomBillingPeriodField({\r\n  index,\r\n  disabled,\r\n}: CustomBillingPeriodFieldProps) {\r\n  const {watch} = useFormContext<Product>();\r\n  const interval = watch(`prices.${index}.interval`);\r\n  let maxIntervalCount: number;\r\n\r\n  if (interval === 'day') {\r\n    maxIntervalCount = 365;\r\n  } else if (interval === 'week') {\r\n    maxIntervalCount = 52;\r\n  } else {\r\n    maxIntervalCount = 12;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex border rounded w-min\">\r\n      <div className=\"px-18 flex items-center text-sm\">\r\n        <Trans message=\"Every\" />\r\n      </div>\r\n      <FormTextField\r\n        inputShadow=\"shadow-none\"\r\n        inputBorder=\"border-none\"\r\n        className=\"border-l border-r w-80\"\r\n        name={`prices.${index}.interval_count`}\r\n        type=\"number\"\r\n        min={1}\r\n        max={maxIntervalCount}\r\n        disabled={disabled}\r\n        required\r\n      />\r\n      <FormSelect\r\n        inputShadow=\"shadow-none\"\r\n        inputBorder=\"border-none\"\r\n        name={`prices.${index}.interval`}\r\n        selectionMode=\"single\"\r\n        disabled={disabled}\r\n      >\r\n        <Item value=\"day\">\r\n          <Trans message=\"Days\" />\r\n        </Item>\r\n        <Item value=\"week\">\r\n          <Trans message=\"Weeks\" />\r\n        </Item>\r\n        <Item value=\"month\">\r\n          <Trans message=\"Months\" />\r\n        </Item>\r\n      </FormSelect>\r\n    </div>\r\n  );\r\n}\r\n","import {FormTextField} from '../../../ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '../../../i18n/trans';\r\nimport React, {Fragment, ReactNode} from 'react';\r\nimport {useFieldArray, useFormContext} from 'react-hook-form';\r\nimport {Accordion, AccordionItem} from '../../../ui/accordion/accordion';\r\nimport {FormattedPrice} from '../../../i18n/formatted-price';\r\nimport {FormPermissionSelector} from '../../../auth/ui/permission-selector';\r\nimport {PriceForm} from './price-form';\r\nimport {Button} from '../../../ui/buttons/button';\r\nimport {AddIcon} from '../../../icons/material/Add';\r\nimport {IconButton} from '../../../ui/buttons/icon-button';\r\nimport {CloseIcon} from '../../../icons/material/Close';\r\nimport {CreateProductPayload} from '../requests/use-create-product';\r\nimport {FormSwitch} from '../../../ui/forms/toggle/switch';\r\nimport {FormSelect} from '../../../ui/forms/select/select';\r\nimport {Item} from '../../../ui/forms/listbox/item';\r\nimport {FormFileSizeField} from '../../../ui/forms/input-field/file-size-field';\r\nimport {Link} from 'react-router-dom';\r\nimport {LinkStyle} from '../../../ui/buttons/external-link';\r\n\r\nexport function CrupdatePlanForm() {\r\n  return (\r\n    <Fragment>\r\n      <FormTextField\r\n        name=\"name\"\r\n        label={<Trans message=\"Name\" />}\r\n        className=\"mb-20\"\r\n        required\r\n        autoFocus\r\n      />\r\n      <FormTextField\r\n        name=\"description\"\r\n        label={<Trans message=\"Description\" />}\r\n        className=\"mb-20\"\r\n        inputElementType=\"textarea\"\r\n        rows={4}\r\n      />\r\n      <FormSelect\r\n        name=\"position\"\r\n        selectionMode=\"single\"\r\n        label={<Trans message=\"Position in pricing table\" />}\r\n        className=\"mb-20\"\r\n      >\r\n        <Item value={0}>\r\n          <Trans message=\"First\" />\r\n        </Item>\r\n        <Item value={1}>\r\n          <Trans message=\"Second\" />\r\n        </Item>\r\n        <Item value={2}>\r\n          <Trans message=\"Third\" />\r\n        </Item>\r\n        <Item value={3}>\r\n          <Trans message=\"Fourth\" />\r\n        </Item>\r\n        <Item value={4}>\r\n          <Trans message=\"Fifth\" />\r\n        </Item>\r\n      </FormSelect>\r\n      <FormFileSizeField\r\n        className=\"mb-30\"\r\n        name=\"available_space\"\r\n        label={<Trans message=\"Allowed storage space\" />}\r\n        description={\r\n          <Trans\r\n            values={{\r\n              a: parts => (\r\n                <Link\r\n                  className={LinkStyle}\r\n                  target=\"_blank\"\r\n                  to=\"/admin/settings/uploading\"\r\n                >\r\n                  {parts}\r\n                </Link>\r\n              ),\r\n            }}\r\n            message=\"Total storage space all user uploads are allowed to take up.\"\r\n          />\r\n        }\r\n      />\r\n      <FormSwitch\r\n        name=\"recommended\"\r\n        className=\"mb-20\"\r\n        description={\r\n          <Trans message=\"Plan will be displayed more prominently on pricing page.\" />\r\n        }\r\n      >\r\n        <Trans message=\"Recommend\" />\r\n      </FormSwitch>\r\n      <FormSwitch\r\n        name=\"hidden\"\r\n        className=\"mb-20\"\r\n        description={\r\n          <Trans message=\"Plan will not be shown on pricing or upgrade pages.\" />\r\n        }\r\n      >\r\n        <Trans message=\"Hidden\" />\r\n      </FormSwitch>\r\n      <FormSwitch\r\n        name=\"free\"\r\n        className=\"mb-20\"\r\n        description={\r\n          <Trans message=\"Will be assigned to all users, if they are not subscribed already.\" />\r\n        }\r\n      >\r\n        <Trans message=\"Free\" />\r\n      </FormSwitch>\r\n      <Header>\r\n        <Trans message=\"Feature list\" />\r\n      </Header>\r\n      <FeatureListForm />\r\n      <PricingListForm />\r\n      <Header>\r\n        <Trans message=\"Permissions\" />\r\n      </Header>\r\n      <FormPermissionSelector name=\"permissions\" />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface HeaderProps {\r\n  children: ReactNode;\r\n}\r\nfunction Header({children}: HeaderProps) {\r\n  return <h2 className=\"mt-40 mb-20 text-base font-semibold\">{children}</h2>;\r\n}\r\n\r\nfunction FeatureListForm() {\r\n  const {fields, append, remove} = useFieldArray<CreateProductPayload>({\r\n    name: 'feature_list',\r\n  });\r\n  return (\r\n    <div>\r\n      {fields.map((field, index) => {\r\n        return (\r\n          <div key={field.id} className=\"flex gap-10 mb-10\">\r\n            <FormTextField\r\n              name={`feature_list.${index}.value`}\r\n              size=\"sm\"\r\n              className=\"flex-auto\"\r\n            />\r\n            <IconButton\r\n              size=\"sm\"\r\n              color=\"primary\"\r\n              className=\"flex-shrink-0\"\r\n              onClick={() => {\r\n                remove(index);\r\n              }}\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </div>\r\n        );\r\n      })}\r\n      <Button\r\n        variant=\"text\"\r\n        color=\"primary\"\r\n        startIcon={<AddIcon />}\r\n        size=\"xs\"\r\n        onClick={() => {\r\n          append({value: ''});\r\n        }}\r\n      >\r\n        <Trans message=\"Add another line\" />\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PricingListForm() {\r\n  const {\r\n    watch,\r\n    formState: {errors},\r\n  } = useFormContext<CreateProductPayload>();\r\n  const {fields, append, remove} = useFieldArray<\r\n    CreateProductPayload,\r\n    'prices',\r\n    'key'\r\n  >({\r\n    name: 'prices',\r\n    keyName: 'key',\r\n  });\r\n\r\n  // if plan is marked as free, hide pricing form\r\n  if (watch('free')) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header>\r\n        <Trans message=\"Pricing\" />\r\n      </Header>\r\n      {errors.prices?.message && (\r\n        <div className=\"text-sm text-danger mb-20\">{errors.prices.message}</div>\r\n      )}\r\n      <Accordion variant=\"outline\" className=\"mb-10\">\r\n        {fields.map((field, index) => (\r\n          <AccordionItem\r\n            label={<FormattedPrice price={field} />}\r\n            key={field.key}\r\n          >\r\n            <PriceForm\r\n              index={index}\r\n              onRemovePrice={() => {\r\n                remove(index);\r\n              }}\r\n            />\r\n          </AccordionItem>\r\n        ))}\r\n      </Accordion>\r\n      <Button\r\n        variant=\"text\"\r\n        color=\"primary\"\r\n        startIcon={<AddIcon />}\r\n        size=\"xs\"\r\n        onClick={() => {\r\n          append({\r\n            currency: 'USD',\r\n            amount: 1,\r\n            interval_count: 1,\r\n            interval: 'month',\r\n          });\r\n        }}\r\n      >\r\n        <Trans message=\"Add another price\" />\r\n      </Button>\r\n    </Fragment>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '../../../http/query-client';\r\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\r\nimport {toast} from '../../../ui/toast/toast';\r\nimport {useTrans} from '../../../i18n/use-trans';\r\nimport {message} from '../../../i18n/message';\r\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\r\nimport {Product} from '../../../billing/product';\r\nimport {useNavigate} from '../../../utils/hooks/use-navigate';\r\nimport {CreateProductPayload} from './use-create-product';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {onFormQueryError} from '../../../errors/on-form-query-error';\r\n\r\ninterface Response extends BackendResponse {\r\n  product: Product;\r\n}\r\n\r\nexport interface UpdateProductPayload extends CreateProductPayload {\r\n  id: number;\r\n}\r\n\r\nconst Endpoint = (id: number) => `billing/products/${id}`;\r\n\r\nexport function useUpdateProduct(form: UseFormReturn<UpdateProductPayload>) {\r\n  const {trans} = useTrans();\r\n  const navigate = useNavigate();\r\n  return useMutation({\r\n    mutationFn: (payload: UpdateProductPayload) => updateProduct(payload),\r\n    onSuccess: response => {\r\n      toast(trans(message('Plan updated')));\r\n      queryClient.invalidateQueries({\r\n        queryKey: [Endpoint(response.product.id)],\r\n      });\r\n      queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('billing/products'),\r\n      });\r\n      navigate('/admin/plans');\r\n    },\r\n    onError: err => onFormQueryError(err, form),\r\n  });\r\n}\r\n\r\nfunction updateProduct({\r\n  id,\r\n  ...payload\r\n}: UpdateProductPayload): Promise<Response> {\r\n  const backendPayload = {\r\n    ...payload,\r\n    feature_list: payload.feature_list.map(feature => feature.value),\r\n  };\r\n  return apiClient.put(Endpoint(id), backendPayload).then(r => r.data);\r\n}\r\n","import {FullPageLoader} from '../../../ui/progress/full-page-loader';\r\nimport {Trans} from '../../../i18n/trans';\r\nimport {useForm} from 'react-hook-form';\r\nimport {CrupdateResourceLayout} from '../../crupdate-resource-layout';\r\nimport {useProduct} from '../requests/use-product';\r\nimport {Product} from '../../../billing/product';\r\nimport {CrupdatePlanForm} from './crupdate-plan-form';\r\nimport {\r\n  UpdateProductPayload,\r\n  useUpdateProduct,\r\n} from '../requests/use-update-product';\r\n\r\nexport function EditPlanPage() {\r\n  const query = useProduct();\r\n\r\n  if (query.status !== 'success') {\r\n    return <FullPageLoader />;\r\n  }\r\n\r\n  return <PageContent product={query.data.product} />;\r\n}\r\n\r\ninterface PageContentProps {\r\n  product: Product;\r\n}\r\nfunction PageContent({product}: PageContentProps) {\r\n  const form = useForm<UpdateProductPayload>({\r\n    defaultValues: {\r\n      ...product,\r\n      feature_list: product.feature_list.map(f => ({value: f})),\r\n    },\r\n  });\r\n  const updateProduct = useUpdateProduct(form);\r\n\r\n  return (\r\n    <CrupdateResourceLayout\r\n      form={form}\r\n      onSubmit={values => {\r\n        updateProduct.mutate(values);\r\n      }}\r\n      title={\r\n        <Trans message=\"Edit :name plan\" values={{name: product.name}} />\r\n      }\r\n      isLoading={updateProduct.isPending}\r\n    >\r\n      <CrupdatePlanForm />\r\n    </CrupdateResourceLayout>\r\n  );\r\n}\r\n","import {Product} from '../../../billing/product';\r\nimport {useTrans} from '../../../i18n/use-trans';\r\nimport {useNavigate} from '../../../utils/hooks/use-navigate';\r\nimport {useMutation} from '@tanstack/react-query';\r\nimport {toast} from '../../../ui/toast/toast';\r\nimport {message} from '../../../i18n/message';\r\nimport {apiClient, queryClient} from '../../../http/query-client';\r\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\r\nimport {Price} from '../../../billing/price';\r\nimport {onFormQueryError} from '../../../errors/on-form-query-error';\r\nimport {UseFormReturn} from 'react-hook-form';\r\n\r\nconst endpoint = 'billing/products';\r\n\r\nexport interface CreateProductPayload\r\n  extends Omit<Partial<Product>, 'feature_list' | 'prices'> {\r\n  feature_list: {value: string}[];\r\n  prices: Omit<Price, 'id'>[];\r\n}\r\n\r\nexport function useCreateProduct(form: UseFormReturn<CreateProductPayload>) {\r\n  const {trans} = useTrans();\r\n  const navigate = useNavigate();\r\n  return useMutation({\r\n    mutationFn: (payload: CreateProductPayload) => createProduct(payload),\r\n    onSuccess: () => {\r\n      toast(trans(message('Plan created')));\r\n      queryClient.invalidateQueries({queryKey: [endpoint]});\r\n      queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('billing/products'),\r\n      });\r\n      navigate('/admin/plans');\r\n    },\r\n    onError: err => onFormQueryError(err, form),\r\n  });\r\n}\r\n\r\nfunction createProduct(payload: CreateProductPayload): Promise<Response> {\r\n  const backendPayload = {\r\n    ...payload,\r\n    feature_list: payload.feature_list.map(feature => feature.value),\r\n  };\r\n  return apiClient.post(endpoint, backendPayload).then(r => r.data);\r\n}\r\n","import {useForm} from 'react-hook-form';\r\nimport {CrupdateResourceLayout} from '../../crupdate-resource-layout';\r\nimport {Trans} from '../../../i18n/trans';\r\nimport {CrupdatePlanForm} from './crupdate-plan-form';\r\nimport {\r\n  CreateProductPayload,\r\n  useCreateProduct,\r\n} from '../requests/use-create-product';\r\n\r\nexport function CreatePlanPage() {\r\n  const form = useForm<CreateProductPayload>({\r\n    defaultValues: {\r\n      free: false,\r\n      recommended: false,\r\n    },\r\n  });\r\n  const createProduct = useCreateProduct(form);\r\n\r\n  return (\r\n    <CrupdateResourceLayout\r\n      form={form}\r\n      onSubmit={values => {\r\n        createProduct.mutate(values);\r\n      }}\r\n      title={<Trans message=\"Create new plan\" />}\r\n      isLoading={createProduct.isPending}\r\n    >\r\n      <CrupdatePlanForm />\r\n    </CrupdateResourceLayout>\r\n  );\r\n}\r\n","import {SettingsPanel} from '../settings-panel';\r\nimport {SettingsSeparator} from '../settings-separator';\r\nimport {Trans} from '../../../i18n/trans';\r\nimport {FormSwitch} from '../../../ui/forms/toggle/switch';\r\nimport {useFieldArray, useFormContext} from 'react-hook-form';\r\nimport {AdminSettings} from '../admin-settings';\r\nimport React, {Fragment} from 'react';\r\nimport {FormSelect} from '../../../ui/forms/select/select';\r\nimport {Item} from '../../../ui/forms/listbox/item';\r\nimport {MenuItemForm} from '../../menus/menu-item-form';\r\nimport {Button} from '../../../ui/buttons/button';\r\nimport {AddIcon} from '../../../icons/material/Add';\r\nimport {DialogTrigger} from '../../../ui/overlays/dialog/dialog-trigger';\r\nimport {AddMenuItemDialog} from '../../appearance/sections/menus/add-menu-item-dialog';\r\nimport {Accordion, AccordionItem} from '../../../ui/accordion/accordion';\r\nimport {IconButton} from '../../../ui/buttons/icon-button';\r\nimport {CloseIcon} from '../../../icons/material/Close';\r\n\r\nexport function GdprSettings() {\r\n  return (\r\n    <SettingsPanel\r\n      title={<Trans message=\"GDPR\" />}\r\n      description={\r\n        <Trans message=\"Configure settings related to EU General Data Protection Regulation.\" />\r\n      }\r\n    >\r\n      <CookieNoticeSection />\r\n      <SettingsSeparator />\r\n      <RegistrationPoliciesSection />\r\n    </SettingsPanel>\r\n  );\r\n}\r\n\r\nfunction CookieNoticeSection() {\r\n  const {watch} = useFormContext<AdminSettings>();\r\n  const noticeEnabled = watch('client.cookie_notice.enable');\r\n\r\n  return (\r\n    <div>\r\n      <FormSwitch\r\n        name=\"client.cookie_notice.enable\"\r\n        className=\"mb-20\"\r\n        description={\r\n          <Trans message=\"Whether cookie notice should be shown automatically to users from EU until it is accepted.\" />\r\n        }\r\n      >\r\n        <Trans message=\"Enable cookie notice\" />\r\n      </FormSwitch>\r\n      {noticeEnabled && (\r\n        <Fragment>\r\n          <div className=\"mb-20 border-b pb-6\">\r\n            <div className=\"mb-20 border-b pb-10 text-sm font-medium\">\r\n              <Trans message=\"Information button\" />\r\n            </div>\r\n            <MenuItemForm\r\n              hideRoleAndPermissionFields\r\n              formPathPrefix=\"client.cookie_notice.button\"\r\n            />\r\n          </div>\r\n          <FormSelect\r\n            name=\"client.cookie_notice.position\"\r\n            selectionMode=\"single\"\r\n            label={<Trans message=\"Cookie notice position\" />}\r\n            className=\"mb-20\"\r\n          >\r\n            <Item value=\"top\">\r\n              <Trans message=\"Top\" />\r\n            </Item>\r\n            <Item value=\"bottom\">\r\n              <Trans message=\"Bottom\" />\r\n            </Item>\r\n          </FormSelect>\r\n        </Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RegistrationPoliciesSection() {\r\n  const {fields, append, remove} = useFieldArray<\r\n    AdminSettings,\r\n    'client.registration.policies'\r\n  >({\r\n    name: 'client.registration.policies',\r\n  });\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"mb-6 text-sm\">\r\n        <Trans message=\"Registration policies\" />\r\n      </div>\r\n      <div className=\"text-xs text-muted\">\r\n        <Trans message=\"Create policies that will be shown on registration page. User will be required to accept them by toggling a checkbox.\" />\r\n      </div>\r\n      <Accordion className=\"mt-16\" variant=\"outline\">\r\n        {fields.map((field, index) => (\r\n          <AccordionItem\r\n            key={field.id}\r\n            label={field.label}\r\n            chevronPosition=\"left\"\r\n            endAppend={\r\n              <IconButton\r\n                variant=\"text\"\r\n                color=\"danger\"\r\n                size=\"sm\"\r\n                onClick={() => {\r\n                  remove(index);\r\n                }}\r\n              >\r\n                <CloseIcon />\r\n              </IconButton>\r\n            }\r\n          >\r\n            <MenuItemForm\r\n              hideRoleAndPermissionFields\r\n              formPathPrefix={`client.register_policies.${index}`}\r\n            />\r\n          </AccordionItem>\r\n        ))}\r\n      </Accordion>\r\n      <DialogTrigger\r\n        type=\"modal\"\r\n        onClose={value => {\r\n          if (value) {\r\n            append(value);\r\n          }\r\n        }}\r\n      >\r\n        <Button\r\n          className=\"mt-12\"\r\n          variant=\"link\"\r\n          color=\"primary\"\r\n          startIcon={<AddIcon />}\r\n          size=\"xs\"\r\n        >\r\n          <Trans message=\"Add another policy\" />\r\n        </Button>\r\n        <AddMenuItemDialog title={<Trans message=\"Add policy\" />} />\r\n      </DialogTrigger>\r\n    </Fragment>\r\n  );\r\n}\r\n","import {RouteObject} from 'react-router-dom';\r\n\r\nexport const AppAdminRoutes: RouteObject[] = [];\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {CustomPage} from '../custom-page';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\r\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {message} from '@common/i18n/message';\r\nimport {useParams} from 'react-router-dom';\r\nimport {CreateCustomPagePayload} from '@common/admin/custom-pages/requests/use-create-custom-page';\r\n\r\ninterface Response extends BackendResponse {\r\n  page: CustomPage;\r\n}\r\n\r\nexport function useUpdateCustomPage(endpoint?: string) {\r\n  const {pageId} = useParams();\r\n  const finalEndpoint = `${endpoint || 'custom-pages'}/${pageId}`;\r\n  return useMutation({\r\n    mutationFn: (payload: CreateCustomPagePayload) =>\r\n      updatePage(payload, finalEndpoint),\r\n    onError: err => showHttpErrorToast(err),\r\n    onSuccess: async () => {\r\n      await queryClient.invalidateQueries({queryKey: ['custom-pages']});\r\n      await queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey(finalEndpoint),\r\n      });\r\n      toast(message('Page updated'));\r\n    },\r\n  });\r\n}\r\n\r\nfunction updatePage(\r\n  payload: CreateCustomPagePayload,\r\n  endpoint: string,\r\n): Promise<Response> {\r\n  return apiClient.put(`${endpoint}`, payload).then(r => r.data);\r\n}\r\n","import React, {useState} from 'react';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport clsx from 'clsx';\r\nimport {EditIcon} from '@common/icons/material/Edit';\r\nimport {CreateCustomPagePayload} from '@common/admin/custom-pages/requests/use-create-custom-page';\r\n\r\nexport function ArticleEditorTitle() {\r\n  const [editingTitle, setEditingTitle] = useState(false);\r\n  const {trans} = useTrans();\r\n  const form = useFormContext<CreateCustomPagePayload>();\r\n  const watchedTitle = form.watch('title');\r\n\r\n  const titlePlaceholder = trans({message: 'Title'});\r\n\r\n  if (editingTitle) {\r\n    return (\r\n      <FormTextField\r\n        placeholder={titlePlaceholder}\r\n        autoFocus\r\n        className=\"mb-30\"\r\n        onBlur={() => {\r\n          setEditingTitle(false);\r\n        }}\r\n        name=\"title\"\r\n        required\r\n      />\r\n    );\r\n  }\r\n  return (\r\n    <h1\r\n      tabIndex={0}\r\n      onClick={() => {\r\n        setEditingTitle(true);\r\n      }}\r\n      onFocus={() => {\r\n        setEditingTitle(true);\r\n      }}\r\n      className={clsx(\r\n        'hover:bg-primary/focus rounded cursor-pointer',\r\n        !watchedTitle && 'text-muted'\r\n      )}\r\n    >\r\n      {watchedTitle || titlePlaceholder}\r\n      <EditIcon className=\"icon-sm mx-8 mt-8 align-top text-muted\" />\r\n    </h1>\r\n  );\r\n}\r\n","import React, {Fragment, useEffect, useState} from 'react';\r\nimport clsx from 'clsx';\r\nimport {RefCallBack} from 'react-hook-form';\r\nimport {Button} from './buttons/button';\r\nimport {LinkIcon} from '../icons/material/Link';\r\nimport {TextField} from './forms/input-field/text-field/text-field';\r\nimport {Trans} from '../i18n/trans';\r\nimport {useSettings} from '../core/settings/use-settings';\r\nimport {slugifyString} from '@common/utils/string/slugify-string';\r\n\r\nexport interface SlugEditorProps {\r\n  prefix?: string;\r\n  suffix?: string;\r\n  host?: string;\r\n  value?: string | null;\r\n  placeholder?: string;\r\n  onChange?: (value: string) => void;\r\n  className?: string;\r\n  inputRef?: RefCallBack;\r\n  onInputBlur?: () => void;\r\n  showLinkIcon?: boolean;\r\n  pattern?: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  hideButton?: boolean;\r\n}\r\nexport function SlugEditor({\r\n  host,\r\n  value: initialValue = '',\r\n  placeholder,\r\n  onChange,\r\n  className,\r\n  inputRef,\r\n  onInputBlur,\r\n  showLinkIcon = true,\r\n  pattern,\r\n  minLength,\r\n  maxLength,\r\n  hideButton,\r\n  ...props\r\n}: SlugEditorProps) {\r\n  const {base_url} = useSettings();\r\n  const prefix = props.prefix ? `/${props.prefix}` : '';\r\n  const suffix = props.suffix ? `/${props.suffix}` : '';\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [value, setValue] = useState(initialValue);\r\n  host = host || base_url;\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue);\r\n  }, [initialValue]);\r\n\r\n  const handleSubmit = () => {\r\n    if (!isEditing) {\r\n      setIsEditing(true);\r\n    } else {\r\n      setIsEditing(false);\r\n      if (value) {\r\n        onChange?.(value);\r\n      }\r\n    }\r\n  };\r\n\r\n  let preview: string = '';\r\n  if (value) {\r\n    preview = value;\r\n  } else if (placeholder) {\r\n    preview = slugifyString(placeholder);\r\n  }\r\n\r\n  return (\r\n    // can't use <form/> here as component might be used inside another form\r\n    <div className={clsx('flex items-center', className)}>\r\n      {showLinkIcon && <LinkIcon className=\"icon-md text-muted\" />}\r\n      <div className=\"text-primary ml-6 mr-14\">\r\n        {host}\r\n        {prefix}\r\n        {!isEditing && preview && (\r\n          <Fragment>\r\n            <span>/</span>\r\n            <span className=\"font-medium\">{preview}</span>\r\n          </Fragment>\r\n        )}\r\n        {!isEditing ? suffix : null}\r\n      </div>\r\n      {isEditing && (\r\n        <TextField\r\n          pattern={pattern}\r\n          minLength={minLength}\r\n          maxLength={maxLength}\r\n          onKeyDown={e => {\r\n            if (e.key === 'Enter') {\r\n              handleSubmit();\r\n            }\r\n          }}\r\n          ref={inputRef}\r\n          aria-label=\"slug\"\r\n          autoFocus\r\n          className=\"mr-14\"\r\n          size=\"2xs\"\r\n          value={value as string}\r\n          onBlur={onInputBlur}\r\n          onChange={e => {\r\n            setValue(e.target.value);\r\n          }}\r\n        />\r\n      )}\r\n      {!hideButton && (\r\n        <Button\r\n          type=\"button\"\r\n          color=\"chip\"\r\n          variant=\"outline\"\r\n          size=\"2xs\"\r\n          onClick={() => {\r\n            handleSubmit();\r\n          }}\r\n        >\r\n          {isEditing ? <Trans message=\"Save\" /> : <Trans message=\"Edit\" />}\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const UndoIcon = createSvgIcon(\r\n  <path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\" />\r\n, 'UndoOutlined');\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const RedoIcon = createSvgIcon(\r\n  <path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\" />\r\n, 'RedoOutlined');\r\n","import React from 'react';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {UndoIcon} from '../../icons/material/Undo';\r\nimport {RedoIcon} from '../../icons/material/Redo';\r\nimport {MenubarButtonProps} from './menubar-button-props';\r\n\r\nexport function HistoryButtons({editor}: MenubarButtonProps) {\r\n  return (\r\n    <span>\r\n      <IconButton\r\n        size=\"md\"\r\n        disabled={!editor.can().undo()}\r\n        onClick={() => {\r\n          editor.commands.focus();\r\n          editor.commands.undo();\r\n        }}\r\n      >\r\n        <UndoIcon />\r\n      </IconButton>\r\n      <IconButton\r\n        size=\"md\"\r\n        disabled={!editor.can().redo()}\r\n        onClick={() => {\r\n          editor.commands.focus();\r\n          editor.commands.redo();\r\n        }}\r\n      >\r\n        <RedoIcon />\r\n      </IconButton>\r\n    </span>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const CodeIcon = createSvgIcon(\r\n  <path d=\"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\" />\r\n, 'CodeOutlined');\r\n","import {Button} from '../../ui/buttons/button';\r\nimport {CodeIcon} from '../../icons/material/Code';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport {AceDialog} from '../../ace-editor/ace-dialog';\r\nimport {Editor} from '@tiptap/react';\r\nimport React from 'react';\r\n\r\ninterface ModeButtonProps {\r\n  editor: Editor;\r\n}\r\nexport function ModeButton({editor}: ModeButtonProps) {\r\n  return (\r\n    <DialogTrigger\r\n      type=\"modal\"\r\n      onClose={newValue => {\r\n        if (newValue != null) {\r\n          editor?.commands.setContent(newValue);\r\n        }\r\n      }}\r\n    >\r\n      <Button variant=\"text\" startIcon={<CodeIcon />}>\r\n        <Trans message=\"Source\" />\r\n      </Button>\r\n      <AceDialog\r\n        title={<Trans message=\"Source code\" />}\r\n        defaultValue={editor.getHTML()}\r\n      />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n","export function Divider() {\r\n  return <div className=\"self-stretch mx-4 w-1 bg-divider flex-shrink-0\" />;\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatBoldIcon = createSvgIcon(\r\n  <path d=\"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z\" />\r\n, 'FormatBoldOutlined');\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatItalicIcon = createSvgIcon(\r\n  <path d=\"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z\" />\r\n, 'FormatItalicOutlined');\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatUnderlinedIcon = createSvgIcon(\r\n  <path d=\"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z\" />\r\n, 'FormatUnderlinedOutlined');\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {FormatBoldIcon} from '../../icons/material/FormatBold';\r\nimport {FormatItalicIcon} from '../../icons/material/FormatItalic';\r\nimport {FormatUnderlinedIcon} from '../../icons/material/FormatUnderlined';\r\nimport {MenubarButtonProps} from './menubar-button-props';\r\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\r\nimport {Trans} from '@common/i18n/trans';\r\n\r\nexport function FontStyleButtons({editor, size}: MenubarButtonProps) {\r\n  return (\r\n    <span className={clsx('flex-shrink-0 whitespace-nowrap')}>\r\n      <Tooltip label={<Trans message=\"Bold\" />}>\r\n        <IconButton\r\n          size={size}\r\n          color={editor.isActive('bold') ? 'primary' : null}\r\n          onClick={() => {\r\n            editor.commands.focus();\r\n            editor.commands.toggleBold();\r\n          }}\r\n        >\r\n          <FormatBoldIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Tooltip label={<Trans message=\"Italic\" />}>\r\n        <IconButton\r\n          size={size}\r\n          color={editor.isActive('italic') ? 'primary' : null}\r\n          onClick={() => {\r\n            editor.commands.focus();\r\n            editor.commands.toggleItalic();\r\n          }}\r\n        >\r\n          <FormatItalicIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Tooltip label={<Trans message=\"Underline\" />}>\r\n        <IconButton\r\n          size={size}\r\n          color={editor.isActive('underline') ? 'primary' : null}\r\n          onClick={() => {\r\n            editor.commands.focus();\r\n            editor.commands.toggleUnderline();\r\n          }}\r\n        >\r\n          <FormatUnderlinedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </span>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatListBulletedIcon = createSvgIcon(\r\n  <path d=\"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z\" />\r\n, 'FormatListBulletedOutlined');\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatListNumberedIcon = createSvgIcon(\r\n  <path d=\"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z\" />\r\n, 'FormatListNumberedOutlined');\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {FormatListBulletedIcon} from '../../icons/material/FormatListBulleted';\r\nimport {FormatListNumberedIcon} from '../../icons/material/FormatListNumbered';\r\nimport {MenubarButtonProps} from './menubar-button-props';\r\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\r\nimport {Trans} from '@common/i18n/trans';\r\n\r\nexport function ListButtons({editor, size}: MenubarButtonProps) {\r\n  const bulletActive = editor.isActive('bulletList');\r\n  const orderedActive = editor.isActive('orderedList');\r\n  return (\r\n    <span className={clsx('flex-shrink-0', 'whitespace-nowrap')}>\r\n      <Tooltip label={<Trans message=\"Bulleted list\" />}>\r\n        <IconButton\r\n          size={size}\r\n          color={bulletActive ? 'primary' : null}\r\n          onClick={() => {\r\n            editor.commands.focus();\r\n            editor.commands.toggleBulletList();\r\n          }}\r\n        >\r\n          <FormatListBulletedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Tooltip label={<Trans message=\"Numbered list\" />}>\r\n        <IconButton\r\n          size={size}\r\n          color={orderedActive ? 'primary' : null}\r\n          onClick={() => {\r\n            editor.commands.focus();\r\n            editor.commands.toggleOrderedList();\r\n          }}\r\n        >\r\n          <FormatListNumberedIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </span>\r\n  );\r\n}\r\n","import {Editor} from '@tiptap/react';\r\n\r\ninterface Props {\r\n  href: string;\r\n  target?: string;\r\n  text?: string;\r\n}\r\n\r\nexport function insertLinkIntoTextEditor(\r\n  editor: Editor,\r\n  {text, target, href}: Props\r\n) {\r\n  // no selection, insert new link with specified text\r\n  if (editor.state.selection.empty && text) {\r\n    editor.commands.insertContent(\r\n      `<a href=\"${href}\" target=\"${target}\">${text}</a>`\r\n    );\r\n  } else if (!editor.state.selection.empty) {\r\n    // no href provided, remove link from selection\r\n    if (!href) {\r\n      editor.chain().focus().extendMarkRange('link').unsetLink().run();\r\n    } else {\r\n      // add link to selection\r\n      editor\r\n        .chain()\r\n        .focus()\r\n        .extendMarkRange('link')\r\n        .setLink({href: href, target})\r\n        .run();\r\n    }\r\n  }\r\n}\r\n","import {useForm} from 'react-hook-form';\r\nimport React from 'react';\r\nimport clsx from 'clsx';\r\nimport {Form} from '../../ui/forms/form';\r\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {LinkIcon} from '../../icons/material/Link';\r\nimport {MenubarButtonProps} from './menubar-button-props';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport {FormSelect, Option} from '../../ui/forms/select/select';\r\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\r\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\r\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\r\nimport {insertLinkIntoTextEditor} from '@common/text-editor/insert-link-into-text-editor';\r\n\r\ninterface FormValue {\r\n  href: string;\r\n  target?: string;\r\n  text?: string;\r\n}\r\n\r\nexport function LinkButton({editor, size}: MenubarButtonProps) {\r\n  return (\r\n    <DialogTrigger type=\"modal\">\r\n      <Tooltip label={<Trans message=\"Insert link\" />}>\r\n        <IconButton size={size} className={clsx('flex-shrink-0')}>\r\n          <LinkIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <LinkDialog editor={editor} />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n\r\nfunction LinkDialog({editor}: MenubarButtonProps) {\r\n  const previousUrl = editor.getAttributes('link').href;\r\n  const previousText = editor.state.doc.textBetween(\r\n    editor.state.selection.from,\r\n    editor.state.selection.to,\r\n    '',\r\n  );\r\n\r\n  const form = useForm<FormValue>({\r\n    defaultValues: {href: previousUrl, text: previousText, target: '_blank'},\r\n  });\r\n  const {formId, close} = useDialogContext();\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Insert link\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <Form\r\n          form={form}\r\n          id={formId}\r\n          onSubmit={value => {\r\n            insertLinkIntoTextEditor(editor, value);\r\n            close();\r\n          }}\r\n        >\r\n          <FormTextField\r\n            name=\"href\"\r\n            label={<Trans message=\"URL\" />}\r\n            autoFocus\r\n            type=\"url\"\r\n            className=\"mb-20\"\r\n          />\r\n          <FormTextField\r\n            name=\"text\"\r\n            label={<Trans message=\"Text to display\" />}\r\n            className=\"mb-20\"\r\n          />\r\n          <FormSelect\r\n            selectionMode=\"single\"\r\n            name=\"target\"\r\n            label={<Trans message=\"Open link in...\" />}\r\n          >\r\n            <Option value=\"_self\">\r\n              <Trans message=\"Current window\" />\r\n            </Option>\r\n            <Option value=\"_blank\">\r\n              <Trans message=\"New window\" />\r\n            </Option>\r\n          </FormSelect>\r\n        </Form>\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button onClick={close} variant=\"text\">\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button type=\"submit\" form={formId} variant=\"flat\" color=\"primary\">\r\n          <Trans message=\"Save\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const ImageIcon = createSvgIcon(\r\n  <path d=\"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86-3 3.87L9 13.14 6 17h12l-3.86-5.14z\" />\r\n, 'ImageOutlined');\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {ImageIcon} from '../../icons/material/Image';\r\nimport {MenubarButtonProps} from './menubar-button-props';\r\nimport {useActiveUpload} from '../../uploads/uploader/use-active-upload';\r\nimport {UploadInputType} from '../../uploads/types/upload-input-config';\r\nimport {Disk} from '../../uploads/types/backend-metadata';\r\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\r\nimport {Trans} from '@common/i18n/trans';\r\n\r\nconst TwoMB = 2097152;\r\n\r\ninterface Props extends MenubarButtonProps {\r\n  diskPrefix?: string;\r\n}\r\n\r\nexport function ImageButton({editor, size, diskPrefix = 'page_media'}: Props) {\r\n  const {selectAndUploadFile} = useActiveUpload();\r\n\r\n  const handleUpload = () => {\r\n    selectAndUploadFile({\r\n      showToastOnRestrictionFail: true,\r\n      restrictions: {\r\n        allowedFileTypes: [UploadInputType.image],\r\n        maxFileSize: TwoMB,\r\n      },\r\n      metadata: {\r\n        diskPrefix: diskPrefix,\r\n        disk: Disk.public,\r\n      },\r\n      onSuccess: entry => {\r\n        editor.commands.focus();\r\n        editor.commands.setImage({\r\n          src: entry.url,\r\n        });\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Tooltip label={<Trans message=\"Insert image\" />}>\r\n      <IconButton\r\n        size={size}\r\n        onClick={handleUpload}\r\n        className={clsx('flex-shrink-0')}\r\n      >\r\n        <ImageIcon />\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatClearIcon = createSvgIcon(\r\n  <path d=\"M20 8V5H6.39l3 3h1.83l-.55 1.28 2.09 2.1L14.21 8zM3.41 4.86 2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21l1.41-1.41z\" />\r\n, 'FormatClearOutlined');\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {FormatClearIcon} from '../../icons/material/FormatClear';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {MenubarButtonProps} from './menubar-button-props';\r\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\r\nimport {Trans} from '@common/i18n/trans';\r\n\r\nexport function ClearFormatButton({editor, size}: MenubarButtonProps) {\r\n  return (\r\n    <Tooltip label={<Trans message=\"Clear formatting\" />}>\r\n      <IconButton\r\n        className={clsx('flex-shrink-0')}\r\n        size={size}\r\n        onClick={() => {\r\n          editor.chain().focus().clearNodes().unsetAllMarks().run();\r\n        }}\r\n      >\r\n        <FormatClearIcon />\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const HorizontalRuleIcon = createSvgIcon(\r\n  <path fillRule=\"evenodd\" d=\"M4 11h16v2H4z\" />\r\n, 'HorizontalRuleOutlined');\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const PriorityHighIcon = createSvgIcon(\r\n  [<circle cx=\"12\" cy=\"19\" r=\"2\" key=\"0\" />,<path d=\"M10 3h4v12h-4z\" key=\"1\" />,]\r\n, 'PriorityHighOutlined');\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const NoteIcon = createSvgIcon(\r\n  <path d=\"M16 4H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99h16c1.1 0 2-.9 2-2v-8l-6-6zM4 18.01V6h11v5h5v7.01H4z\" />\r\n, 'NoteOutlined');\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const SmartDisplayIcon = createSvgIcon(\r\n  [<path d=\"M9.5 7.5v9l7-4.5z\" key=\"0\" />,<path d=\"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14.01H4V5.99h16v12.02z\" key=\"1\" />,]\r\n, 'SmartDisplayOutlined');\r\n","import React, {useState} from 'react';\r\nimport {useForm} from 'react-hook-form';\r\nimport clsx from 'clsx';\r\nimport {HorizontalRuleIcon} from '../../icons/material/HorizontalRule';\r\nimport {PriorityHighIcon} from '../../icons/material/PriorityHigh';\r\nimport {WarningIcon} from '../../icons/material/Warning';\r\nimport {NoteIcon} from '../../icons/material/Note';\r\nimport {MenubarButtonProps} from './menubar-button-props';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {MoreVertIcon} from '../../icons/material/MoreVert';\r\nimport {SmartDisplayIcon} from '../../icons/material/SmartDisplay';\r\nimport {Form} from '../../ui/forms/form';\r\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {\r\n  Menu,\r\n  MenuItem,\r\n  MenuTrigger,\r\n} from '../../ui/navigation/menu/menu-trigger';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\r\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\r\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\r\nimport {Trans} from '../../i18n/trans';\r\n\r\nexport function InsertMenuTrigger({editor, size}: MenubarButtonProps) {\r\n  const [dialog, setDialog] = useState<'embed' | false>(false);\r\n  return (\r\n    <>\r\n      <MenuTrigger\r\n        onItemSelected={key => {\r\n          if (key === 'hr') {\r\n            editor.commands.focus();\r\n            editor.commands.setHorizontalRule();\r\n          } else if (key === 'embed') {\r\n            setDialog('embed');\r\n          } else {\r\n            editor.commands.focus();\r\n            editor.commands.addInfo({type: key as any});\r\n          }\r\n        }}\r\n      >\r\n        <IconButton\r\n          variant=\"text\"\r\n          size={size}\r\n          className={clsx('flex-shrink-0')}\r\n        >\r\n          <MoreVertIcon />\r\n        </IconButton>\r\n        <Menu>\r\n          <MenuItem value=\"hr\" startIcon={<HorizontalRuleIcon />}>\r\n            <Trans message=\"Horizontal rule\" />\r\n          </MenuItem>\r\n          <MenuItem value=\"embed\" startIcon={<SmartDisplayIcon />}>\r\n            <Trans message=\"Embed\" />\r\n          </MenuItem>\r\n          <MenuItem value=\"important\" startIcon={<PriorityHighIcon />}>\r\n            <Trans message=\"Important\" />\r\n          </MenuItem>\r\n          <MenuItem value=\"warning\" startIcon={<WarningIcon />}>\r\n            <Trans message=\"Warning\" />\r\n          </MenuItem>\r\n          <MenuItem value=\"success\" startIcon={<NoteIcon />}>\r\n            <Trans message=\"Note\" />\r\n          </MenuItem>\r\n        </Menu>\r\n      </MenuTrigger>\r\n      <DialogTrigger\r\n        type=\"modal\"\r\n        isOpen={!!dialog}\r\n        onClose={() => {\r\n          setDialog(false);\r\n        }}\r\n      >\r\n        <EmbedDialog editor={editor} />\r\n      </DialogTrigger>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction EmbedDialog({editor}: MenubarButtonProps) {\r\n  const previousSrc = editor.getAttributes('embed').src;\r\n  const form = useForm<{src: string}>({\r\n    defaultValues: {src: previousSrc},\r\n  });\r\n  const {formId, close} = useDialogContext();\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Insert link\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <Form\r\n          form={form}\r\n          id={formId}\r\n          onSubmit={value => {\r\n            editor.commands.setEmbed(value);\r\n            close();\r\n          }}\r\n        >\r\n          <FormTextField\r\n            name=\"src\"\r\n            label={<Trans message=\"Embed URL\" />}\r\n            autoFocus\r\n            type=\"url\"\r\n            required\r\n          />\r\n        </Form>\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button onClick={close} variant=\"text\">\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          type=\"submit\"\r\n          form={formId}\r\n          disabled={!form.formState.isValid}\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n        >\r\n          <Trans message=\"Add\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {ReactNode} from 'react';\r\nimport {isMac} from '@react-aria/utils';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  modifier?: boolean;\r\n  separator?: string;\r\n}\r\nexport function Keyboard({children, modifier, separator = '+'}: Props) {\r\n  const modKey = isMac() ? (\r\n    <span className=\"text-base align-middle\"></span>\r\n  ) : (\r\n    'Ctrl'\r\n  );\r\n  return (\r\n    <kbd className=\"text-xs text-muted\">\r\n      {modifier && (\r\n        <>\r\n          {modKey}\r\n          {separator}\r\n        </>\r\n      )}\r\n      {children}\r\n    </kbd>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {KeyboardArrowDownIcon} from '../../icons/material/KeyboardArrowDown';\r\nimport {Keyboard} from '../../ui/keyboard/keyboard';\r\nimport {MenubarButtonProps} from './menubar-button-props';\r\nimport {\r\n  Menu,\r\n  MenuItem,\r\n  MenuTrigger,\r\n} from '../../ui/navigation/menu/menu-trigger';\r\nimport {Trans} from '../../i18n/trans';\r\n\r\ntype Level = 1 | 2 | 3 | 4;\r\n\r\nexport function FormatMenuTrigger({editor, size}: MenubarButtonProps) {\r\n  return (\r\n    <MenuTrigger\r\n      floatingMinWidth=\"w-256\"\r\n      onItemSelected={key => {\r\n        editor.commands.focus();\r\n        if (typeof key === 'string' && key.startsWith('h')) {\r\n          editor.commands.toggleHeading({\r\n            level: parseInt(key.replace('h', '')) as Level,\r\n          });\r\n        } else if (key === 'code') {\r\n          editor.commands.toggleCode();\r\n        } else if (key === 'strike') {\r\n          editor.commands.toggleStrike();\r\n        } else if (key === 'super') {\r\n          editor.commands.toggleSuperscript();\r\n        } else if (key === 'sub') {\r\n          editor.commands.toggleSubscript();\r\n        } else if (key === 'blockquote') {\r\n          editor.commands.toggleBlockquote();\r\n        } else if (key === 'paragraph') {\r\n          editor.commands.setParagraph();\r\n        }\r\n      }}\r\n    >\r\n      <Button\r\n        className={clsx('flex-shrink-0')}\r\n        variant=\"text\"\r\n        size={size}\r\n        endIcon={<KeyboardArrowDownIcon />}\r\n      >\r\n        <Trans message=\"Format\" />\r\n      </Button>\r\n      <Menu>\r\n        <MenuItem value=\"h1\" endSection={<Keyboard modifier>Alt+1</Keyboard>}>\r\n          <Trans message=\"Heading :number\" values={{number: 1}} />\r\n        </MenuItem>\r\n        <MenuItem value=\"h2\" endSection={<Keyboard modifier>Alt+2</Keyboard>}>\r\n          <Trans message=\"Heading :number\" values={{number: 2}} />\r\n        </MenuItem>\r\n        <MenuItem value=\"h3\" endSection={<Keyboard modifier>Alt+3</Keyboard>}>\r\n          <Trans message=\"Heading :number\" values={{number: 3}} />\r\n        </MenuItem>\r\n        <MenuItem value=\"h4\" endSection={<Keyboard modifier>Alt+4</Keyboard>}>\r\n          <Trans message=\"Heading :number\" values={{number: 4}} />\r\n        </MenuItem>\r\n        <MenuItem value=\"code\" endSection={<Keyboard modifier>E</Keyboard>}>\r\n          <Trans message=\"Code\" />\r\n        </MenuItem>\r\n        <MenuItem\r\n          value=\"strike\"\r\n          endSection={<Keyboard modifier>Shift+X</Keyboard>}\r\n        >\r\n          <Trans message=\"Strikethrough\" />\r\n        </MenuItem>\r\n        <MenuItem\r\n          value=\"super\"\r\n          endSection={\r\n            <Keyboard modifier separator=\" \">\r\n              .\r\n            </Keyboard>\r\n          }\r\n        >\r\n          <Trans message=\"Superscript\" />\r\n        </MenuItem>\r\n        <MenuItem\r\n          value=\"sub\"\r\n          endSection={\r\n            <Keyboard modifier separator=\" \">\r\n              ,\r\n            </Keyboard>\r\n          }\r\n        >\r\n          <Trans message=\"Subscript\" />\r\n        </MenuItem>\r\n        <MenuItem\r\n          value=\"blockquote\"\r\n          endSection={<Keyboard modifier>Shift+B</Keyboard>}\r\n        >\r\n          <Trans message=\"Blockquote\" />\r\n        </MenuItem>\r\n        <MenuItem\r\n          value=\"paragraph\"\r\n          endSection={<Keyboard modifier>Alt+0</Keyboard>}\r\n        >\r\n          <Trans message=\"Paragraph\" />\r\n        </MenuItem>\r\n      </Menu>\r\n    </MenuTrigger>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatColorTextIcon = createSvgIcon(\r\n  <path d=\"M2 20h20v4H2v-4zm3.49-3h2.42l1.27-3.58h5.65L16.09 17h2.42L13.25 3h-2.5L5.49 17zm4.42-5.61 2.03-5.79h.12l2.03 5.79H9.91z\" />\r\n, 'FormatColorTextOutlined');\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatColorFillIcon = createSvgIcon(\r\n  <path d=\"M16.56 8.94 7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10 10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5zM2 20h20v4H2v-4z\" />\r\n, 'FormatColorFillOutlined');\r\n","import React, {Fragment, useState} from 'react';\r\nimport clsx from 'clsx';\r\nimport {FormatColorTextIcon} from '../../icons/material/FormatColorText';\r\nimport {ColorPickerDialog} from '../../ui/color-picker/color-picker-dialog';\r\nimport {MenubarButtonProps} from './menubar-button-props';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {FormatColorFillIcon} from '../../icons/material/FormatColorFill';\r\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\r\n\r\nexport function ColorButtons({editor, size}: MenubarButtonProps) {\r\n  const [dialog, setDialog] = useState<'text' | 'bg' | false>(false);\r\n  const textActive = editor.getAttributes('textStyle').color;\r\n  const backgroundActive = editor.getAttributes('textStyle').backgroundColor;\r\n  return (\r\n    <Fragment>\r\n      <span className={clsx('flex-shrink-0 whitespace-nowrap')}>\r\n        <IconButton\r\n          size={size}\r\n          color={textActive ? 'primary' : null}\r\n          onClick={() => {\r\n            setDialog('text');\r\n          }}\r\n        >\r\n          <FormatColorTextIcon />\r\n        </IconButton>\r\n        <IconButton\r\n          size={size}\r\n          color={backgroundActive ? 'primary' : null}\r\n          onClick={() => {\r\n            setDialog('bg');\r\n          }}\r\n        >\r\n          <FormatColorFillIcon />\r\n        </IconButton>\r\n      </span>\r\n      <DialogTrigger\r\n        defaultValue={dialog === 'text' ? '#000000' : '#FFFFFF'}\r\n        type=\"modal\"\r\n        isOpen={!!dialog}\r\n        onClose={newValue => {\r\n          if (newValue) {\r\n            if (dialog === 'text') {\r\n              editor.commands.setColor(newValue);\r\n            } else {\r\n              editor.commands.setBackgroundColor(newValue);\r\n            }\r\n          }\r\n          setDialog(false);\r\n        }}\r\n      >\r\n        <ColorPickerDialog />\r\n      </DialogTrigger>\r\n    </Fragment>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatAlignLeftIcon = createSvgIcon(\r\n  <path d=\"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z\" />\r\n, 'FormatAlignLeftOutlined');\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatAlignCenterIcon = createSvgIcon(\r\n  <path d=\"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z\" />\r\n, 'FormatAlignCenterOutlined');\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatAlignRightIcon = createSvgIcon(\r\n  <path d=\"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z\" />\r\n, 'FormatAlignRightOutlined');\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatAlignJustifyIcon = createSvgIcon(\r\n  <path d=\"M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z\" />\r\n, 'FormatAlignJustifyOutlined');\r\n","import clsx from 'clsx';\r\nimport {ComponentType} from 'react';\r\nimport {FormatAlignLeftIcon} from '../../icons/material/FormatAlignLeft';\r\nimport {FormatAlignCenterIcon} from '../../icons/material/FormatAlignCenter';\r\nimport {FormatAlignRightIcon} from '../../icons/material/FormatAlignRight';\r\nimport {FormatAlignJustifyIcon} from '../../icons/material/FormatAlignJustify';\r\nimport {MenubarButtonProps} from './menubar-button-props';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {\r\n  Menu,\r\n  MenuItem,\r\n  MenuTrigger,\r\n} from '../../ui/navigation/menu/menu-trigger';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {message} from '../../i18n/message';\r\n\r\nconst iconMap = {\r\n  left: {\r\n    icon: FormatAlignLeftIcon,\r\n    label: message('Align left'),\r\n  },\r\n  center: {\r\n    icon: FormatAlignCenterIcon,\r\n    label: message('Align center'),\r\n  },\r\n  right: {\r\n    icon: FormatAlignRightIcon,\r\n    label: message('Align right'),\r\n  },\r\n  justify: {\r\n    icon: FormatAlignJustifyIcon,\r\n    label: message('Justify'),\r\n  },\r\n};\r\n\r\nexport function AlignButtons({editor, size}: MenubarButtonProps) {\r\n  const activeKey = (Object.keys(iconMap).find(key => {\r\n    return editor.isActive({textAlign: key});\r\n  }) || 'left') as keyof typeof iconMap;\r\n  const ActiveIcon: ComponentType = activeKey\r\n    ? iconMap[activeKey].icon\r\n    : iconMap.left.icon;\r\n\r\n  return (\r\n    <MenuTrigger\r\n      floatingWidth=\"auto\"\r\n      selectionMode=\"single\"\r\n      selectedValue={activeKey}\r\n      onSelectionChange={key => {\r\n        editor.commands.focus();\r\n        editor.commands.setTextAlign(key as string);\r\n      }}\r\n    >\r\n      <IconButton\r\n        size={size}\r\n        color={activeKey ? 'primary' : null}\r\n        className={clsx('flex-shrink-0')}\r\n      >\r\n        <ActiveIcon />\r\n      </IconButton>\r\n      <Menu>\r\n        {Object.entries(iconMap).map(([name, config]) => {\r\n          const Icon = config.icon;\r\n          return (\r\n            <MenuItem\r\n              key={name}\r\n              value={name}\r\n              startIcon={<Icon size=\"md\" />}\r\n              capitalizeFirst\r\n            >\r\n              <Trans message={config.label.message} />\r\n            </MenuItem>\r\n          );\r\n        })}\r\n      </Menu>\r\n    </MenuTrigger>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatIndentDecreaseIcon = createSvgIcon(\r\n  <path d=\"M11 17h10v-2H11v2zm-8-5 4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z\" />\r\n, 'FormatIndentDecreaseOutlined');\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const FormatIndentIncreaseIcon = createSvgIcon(\r\n  <path d=\"M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z\" />\r\n, 'FormatIndentIncreaseOutlined');\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {FormatIndentDecreaseIcon} from '../../icons/material/FormatIndentDecrease';\r\nimport {FormatIndentIncreaseIcon} from '../../icons/material/FormatIndentIncrease';\r\nimport {MenubarButtonProps} from './menubar-button-props';\r\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\r\nimport {Trans} from '@common/i18n/trans';\r\n\r\nexport function IndentButtons({editor, size}: MenubarButtonProps) {\r\n  return (\r\n    <span className={clsx('flex-shrink-0', 'whitespace-nowrap')}>\r\n      <Tooltip label={<Trans message=\"Decrease indent\" />}>\r\n        <IconButton\r\n          size={size}\r\n          onClick={() => {\r\n            editor.commands.focus();\r\n            editor.commands.outdent();\r\n          }}\r\n        >\r\n          <FormatIndentDecreaseIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Tooltip label={<Trans message=\"Increase indent\" />}>\r\n        <IconButton\r\n          size={size}\r\n          onClick={() => {\r\n            editor.commands.focus();\r\n            editor.commands.indent();\r\n          }}\r\n        >\r\n          <FormatIndentIncreaseIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </span>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {CodeIcon} from '../../icons/material/Code';\r\nimport {MenubarButtonProps} from './menubar-button-props';\r\nimport {\r\n  Menu,\r\n  MenuItem,\r\n  MenuTrigger,\r\n} from '../../ui/navigation/menu/menu-trigger';\r\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\r\nimport {Trans} from '@common/i18n/trans';\r\n\r\nexport function CodeBlockMenuTrigger({editor, size}: MenubarButtonProps) {\r\n  const language = editor.getAttributes('codeBlock').language || '';\r\n  return (\r\n    <MenuTrigger\r\n      selectionMode=\"single\"\r\n      selectedValue={language}\r\n      onSelectionChange={key => {\r\n        editor.commands.toggleCodeBlock({language: key as string});\r\n      }}\r\n    >\r\n      <Tooltip label={<Trans message=\"Codeblock\" />}>\r\n        <IconButton\r\n          className={clsx('flex-shrink-0')}\r\n          size={size}\r\n          color={language ? 'primary' : null}\r\n        >\r\n          <CodeIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Menu>\r\n        <MenuItem value=\"html\">HTML</MenuItem>\r\n        <MenuItem value=\"javascript\">JavaScript</MenuItem>\r\n        <MenuItem value=\"css\">CSS</MenuItem>\r\n        <MenuItem value=\"php\">PHP</MenuItem>\r\n        <MenuItem value=\"shell\">Shell</MenuItem>\r\n        <MenuItem value=\"bash\">Bash</MenuItem>\r\n        <MenuItem value=\"ruby\">Ruby</MenuItem>\r\n        <MenuItem value=\"python\">Python</MenuItem>\r\n        <MenuItem value=\"java\">Java</MenuItem>\r\n        <MenuItem value=\"c++\">C++</MenuItem>\r\n      </Menu>\r\n    </MenuTrigger>\r\n  );\r\n}\r\n","import React, {Fragment, useState} from 'react';\r\nimport clsx from 'clsx';\r\nimport {AnimatePresence, m} from 'framer-motion';\r\nimport {Divider} from '@common/text-editor/menubar/divider';\r\nimport {FontStyleButtons} from '@common/text-editor/menubar/font-style-buttons';\r\nimport {ListButtons} from '@common/text-editor/menubar/list-buttons';\r\nimport {LinkButton} from '@common/text-editor/menubar/link-button';\r\nimport {ImageButton} from '@common/text-editor/menubar/image-button';\r\nimport {ClearFormatButton} from '@common/text-editor/menubar/clear-format-button';\r\nimport {InsertMenuTrigger} from '@common/text-editor/menubar/insert-menu-trigger';\r\nimport {FormatMenuTrigger} from '@common/text-editor/menubar/format-menu-trigger';\r\nimport {ColorButtons} from '@common/text-editor/menubar/color-buttons';\r\nimport {AlignButtons} from '@common/text-editor/menubar/align-buttons';\r\nimport {IndentButtons} from '@common/text-editor/menubar/indent-buttons';\r\nimport {CodeBlockMenuTrigger} from '@common/text-editor/menubar/code-block-menu-trigger';\r\nimport {MenubarButtonProps} from '@common/text-editor/menubar/menubar-button-props';\r\nimport {useIsMobileMediaQuery} from '@common/utils/hooks/is-mobile-media-query';\r\nimport {IconButton} from '@common/ui/buttons/icon-button';\r\nimport {UnfoldMoreIcon} from '@common/icons/material/UnfoldMore';\r\nimport {UnfoldLessIcon} from '@common/icons/material/UnfoldLess';\r\n\r\nconst MenubarRowClassName =\r\n  'flex items-center px-4 h-42 text-muted border-b overflow-hidden';\r\n\r\ninterface Props extends MenubarButtonProps {\r\n  justify?: string;\r\n  hideInsertButton?: boolean;\r\n  imageDiskPrefix?: string;\r\n}\r\nexport function ArticleBodyEditorMenubar({\r\n  editor,\r\n  size = 'md',\r\n  justify = 'justify-center',\r\n  hideInsertButton = false,\r\n  imageDiskPrefix,\r\n}: Props) {\r\n  const isMobile = useIsMobileMediaQuery();\r\n  const [extendedVisible, setExtendedVisible] = useState(false);\r\n  return (\r\n    <div className={clsx(extendedVisible ? 'h-84' : 'h-42')}>\r\n      <div className={clsx(MenubarRowClassName, justify, 'relative z-20')}>\r\n        <FormatMenuTrigger editor={editor} size={size} />\r\n        <Divider />\r\n        <FontStyleButtons editor={editor} size={size} />\r\n        <Divider />\r\n        <AlignButtons editor={editor} size={size} />\r\n        <IndentButtons editor={editor} size={size} />\r\n        <Divider />\r\n        {isMobile ? (\r\n          <IconButton\r\n            className=\"flex-shrink-0\"\r\n            color={extendedVisible ? 'primary' : null}\r\n            size={size}\r\n            onClick={() => {\r\n              setExtendedVisible(!extendedVisible);\r\n            }}\r\n          >\r\n            {extendedVisible ? <UnfoldLessIcon /> : <UnfoldMoreIcon />}\r\n          </IconButton>\r\n        ) : (\r\n          <ExtendedButtons\r\n            editor={editor}\r\n            size={size}\r\n            hideInsertButton={hideInsertButton}\r\n            imageDiskPrefix={imageDiskPrefix}\r\n          />\r\n        )}\r\n      </div>\r\n      <AnimatePresence>\r\n        {extendedVisible && (\r\n          <m.div\r\n            className={clsx(\r\n              MenubarRowClassName,\r\n              justify,\r\n              'absolute flex h-full w-full',\r\n            )}\r\n            initial={{y: '-100%'}}\r\n            animate={{y: 0}}\r\n            exit={{y: '-100%'}}\r\n          >\r\n            <ExtendedButtons\r\n              editor={editor}\r\n              size={size}\r\n              imageDiskPrefix={imageDiskPrefix}\r\n            />\r\n          </m.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ExtendedButtons({\r\n  editor,\r\n  size = 'md',\r\n  hideInsertButton,\r\n  imageDiskPrefix,\r\n}: Props) {\r\n  return (\r\n    <Fragment>\r\n      <ListButtons editor={editor} size={size} />\r\n      <Divider />\r\n      <LinkButton editor={editor} size={size} />\r\n      <ImageButton editor={editor} size={size} diskPrefix={imageDiskPrefix} />\r\n      {!hideInsertButton && <InsertMenuTrigger editor={editor} size={size} />}\r\n      <Divider />\r\n      <ColorButtons editor={editor} size={size} />\r\n      <Divider />\r\n      <CodeBlockMenuTrigger editor={editor} size={size} />\r\n      <ClearFormatButton editor={editor} size={size} />\r\n    </Fragment>\r\n  );\r\n}\r\n","import {SlugEditor, SlugEditorProps} from '@common/ui/slug-editor';\r\nimport {useController, useFormContext} from 'react-hook-form';\r\nimport React, {Fragment, ReactNode, useEffect, useRef} from 'react';\r\nimport clsx from 'clsx';\r\nimport {useStickySentinel} from '@common/utils/hooks/sticky-sentinel';\r\nimport {useIsMobileMediaQuery} from '@common/utils/hooks/is-mobile-media-query';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {Link} from 'react-router-dom';\r\nimport {ArrowBackIcon} from '@common/icons/material/ArrowBack';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {HistoryButtons} from '@common/text-editor/menubar/history-buttons';\r\nimport {ModeButton} from '@common/text-editor/menubar/mode-button';\r\nimport {ArticleBodyEditorMenubar} from './article-body-editor-menubar';\r\nimport {Editor} from '@tiptap/react';\r\nimport {CreateCustomPagePayload} from '@common/admin/custom-pages/requests/use-create-custom-page';\r\n\r\ninterface StickyHeaderProps {\r\n  editor: Editor;\r\n  allowSlugEditing?: boolean;\r\n  onSave?: (editorContent: string) => void;\r\n  saveButton?: ReactNode;\r\n  backLink: string;\r\n  isLoading?: boolean;\r\n  slugPrefix?: string;\r\n  imageDiskPrefix?: string;\r\n}\r\nexport function ArticleEditorStickyHeader({\r\n  editor,\r\n  allowSlugEditing = true,\r\n  onSave,\r\n  saveButton,\r\n  isLoading = false,\r\n  backLink,\r\n  slugPrefix = 'pages',\r\n  imageDiskPrefix,\r\n}: StickyHeaderProps) {\r\n  const {isSticky, sentinelRef} = useStickySentinel();\r\n  const isMobile = useIsMobileMediaQuery();\r\n\r\n  return (\r\n    <Fragment>\r\n      <div ref={sentinelRef} />\r\n      <div className={clsx('sticky top-0 z-10 mb-20 bg', isSticky && 'shadow')}>\r\n        <div className=\"flex items-center justify-between gap-20 border-b px-20 py-10 text-muted sm:justify-start\">\r\n          {!isMobile && (\r\n            <Fragment>\r\n              <Button\r\n                variant=\"text\"\r\n                size=\"sm\"\r\n                elementType={Link}\r\n                to={backLink}\r\n                relative=\"path\"\r\n                startIcon={<ArrowBackIcon />}\r\n              >\r\n                <Trans message=\"Back\" />\r\n              </Button>\r\n              <div className=\"mr-auto\">\r\n                {allowSlugEditing && (\r\n                  <FormSlugEditor\r\n                    name=\"slug\"\r\n                    showLinkIcon={false}\r\n                    prefix={slugPrefix}\r\n                  />\r\n                )}\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n          {editor && <HistoryButtons editor={editor} />}\r\n          {!isMobile && <ModeButton editor={editor} />}\r\n          {onSave && (\r\n            <SaveButton\r\n              onSave={() => {\r\n                onSave(editor.getHTML());\r\n              }}\r\n              isLoading={isLoading}\r\n            />\r\n          )}\r\n          {saveButton}\r\n        </div>\r\n        <ArticleBodyEditorMenubar\r\n          editor={editor}\r\n          size=\"sm\"\r\n          imageDiskPrefix={imageDiskPrefix}\r\n        />\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface SaveButtonProps {\r\n  onSave: () => void;\r\n  isLoading: boolean;\r\n}\r\nfunction SaveButton({onSave, isLoading}: SaveButtonProps) {\r\n  const form = useFormContext();\r\n  const title = form.watch('title');\r\n\r\n  return (\r\n    <Button\r\n      variant=\"flat\"\r\n      size=\"sm\"\r\n      color=\"primary\"\r\n      className=\"min-w-90\"\r\n      disabled={isLoading || !title}\r\n      onClick={() => onSave()}\r\n    >\r\n      <Trans message=\"Save\" />\r\n    </Button>\r\n  );\r\n}\r\n\r\ninterface FormSlugEditorProps extends SlugEditorProps {\r\n  name: string;\r\n}\r\nfunction FormSlugEditor({name, ...other}: FormSlugEditorProps) {\r\n  const {\r\n    field: {onChange, onBlur, value = '', ref},\r\n  } = useController({\r\n    name,\r\n  });\r\n  const manuallyChanged = useRef(false);\r\n\r\n  const {watch, setValue} = useFormContext<CreateCustomPagePayload>();\r\n\r\n  useEffect(() => {\r\n    const subscription = watch((formVal, {name: fieldName}) => {\r\n      // if user has not changed slug manually, set it based on page title field changes\r\n      if (fieldName === 'title' && !manuallyChanged.current) {\r\n        setValue('slug', formVal.title);\r\n      }\r\n    });\r\n    return () => subscription.unsubscribe();\r\n  }, [watch, setValue]);\r\n\r\n  return (\r\n    <SlugEditor\r\n      className={clsx(!value && 'invisible')}\r\n      onChange={e => {\r\n        manuallyChanged.current = true;\r\n        onChange(e);\r\n      }}\r\n      onInputBlur={onBlur}\r\n      value={value}\r\n      inputRef={ref}\r\n      {...other}\r\n    />\r\n  );\r\n}\r\n","import {useCustomPage} from '@common/custom-page/use-custom-page';\r\nimport React, {Fragment, Suspense} from 'react';\r\nimport {PageMetaTags} from '@common/http/page-meta-tags';\r\nimport {PageStatus} from '@common/http/page-status';\r\nimport {CustomPage} from '@common/admin/custom-pages/custom-page';\r\nimport {FormProvider, useForm} from 'react-hook-form';\r\nimport {useUpdateCustomPage} from '@common/admin/custom-pages/requests/use-update-custom-page';\r\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\r\nimport {ArticleEditorTitle} from '@common/article-editor/article-editor-title';\r\nimport {ArticleEditorStickyHeader} from '@common/article-editor/article-editor-sticky-header';\r\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\r\nimport {CreateCustomPagePayload} from '@common/admin/custom-pages/requests/use-create-custom-page';\r\nimport {FullPageLoader} from '@common/ui/progress/full-page-loader';\r\n\r\nconst ArticleBodyEditor = React.lazy(\r\n  () => import('@common/article-editor/article-body-editor'),\r\n);\r\n\r\nexport function EditCustomPage() {\r\n  const query = useCustomPage();\r\n\r\n  return query.data ? (\r\n    <Fragment>\r\n      <PageMetaTags query={query} />\r\n      <PageContent page={query.data.page} />\r\n    </Fragment>\r\n  ) : (\r\n    <div className=\"relative w-full h-full\">\r\n      <PageStatus query={query} />\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface PageContentProps {\r\n  page: CustomPage;\r\n}\r\nfunction PageContent({page}: PageContentProps) {\r\n  const navigate = useNavigate();\r\n  const crupdatePage = useUpdateCustomPage();\r\n  const form = useForm<CreateCustomPagePayload>({\r\n    defaultValues: {\r\n      title: page.title,\r\n      slug: page.slug,\r\n      body: page.body,\r\n    },\r\n  });\r\n\r\n  const handleSave = (editorContent: string) => {\r\n    crupdatePage.mutate(\r\n      {\r\n        ...form.getValues(),\r\n        body: editorContent,\r\n      },\r\n      {\r\n        onSuccess: () => navigate('../..', {relative: 'path'}),\r\n      },\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Suspense fallback={<FullPageLoader />}>\r\n      <ArticleBodyEditor initialContent={page.body}>\r\n        {(content, editor) => (\r\n          <FileUploadProvider>\r\n            <FormProvider {...form}>\r\n              <ArticleEditorStickyHeader\r\n                editor={editor}\r\n                backLink=\"../..\"\r\n                isLoading={crupdatePage.isPending}\r\n                onSave={handleSave}\r\n              />\r\n              <div className=\"mx-20\">\r\n                <div className=\"prose dark:prose-invert mx-auto flex-auto\">\r\n                  <ArticleEditorTitle />\r\n                  {content}\r\n                </div>\r\n              </div>\r\n            </FormProvider>\r\n          </FileUploadProvider>\r\n        )}\r\n      </ArticleBodyEditor>\r\n    </Suspense>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {CustomPage} from '../custom-page';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\r\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {message} from '@common/i18n/message';\r\n\r\ninterface Response extends BackendResponse {\r\n  page: CustomPage;\r\n}\r\n\r\nexport interface CreateCustomPagePayload {\r\n  title?: string;\r\n  body?: string;\r\n  slug?: string;\r\n  hide_nav?: boolean;\r\n}\r\n\r\nexport function useCreateCustomPage(endpoint?: string) {\r\n  const finalEndpoint = endpoint || 'custom-pages';\r\n  return useMutation({\r\n    mutationFn: (payload: CreateCustomPagePayload) =>\r\n      createPage(payload, finalEndpoint),\r\n    onError: err => showHttpErrorToast(err),\r\n    onSuccess: async () => {\r\n      await queryClient.invalidateQueries({queryKey: ['custom-pages']});\r\n      await queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey(finalEndpoint),\r\n      });\r\n      toast(message('Page created'));\r\n    },\r\n  });\r\n}\r\n\r\nfunction createPage(\r\n  payload: CreateCustomPagePayload,\r\n  endpoint: string,\r\n): Promise<Response> {\r\n  return apiClient.post(`${endpoint}`, payload).then(r => r.data);\r\n}\r\n","import React, {Suspense} from 'react';\r\nimport {FormProvider, useForm} from 'react-hook-form';\r\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\r\nimport {ArticleEditorTitle} from '@common/article-editor/article-editor-title';\r\nimport {ArticleEditorStickyHeader} from '@common/article-editor/article-editor-sticky-header';\r\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\r\nimport {\r\n  CreateCustomPagePayload,\r\n  useCreateCustomPage,\r\n} from '@common/admin/custom-pages/requests/use-create-custom-page';\r\nimport {FullPageLoader} from '@common/ui/progress/full-page-loader';\r\n\r\nconst ArticleBodyEditor = React.lazy(\r\n  () => import('@common/article-editor/article-body-editor'),\r\n);\r\n\r\nexport function CreateCustomPage() {\r\n  const navigate = useNavigate();\r\n  const createPage = useCreateCustomPage();\r\n  const form = useForm<CreateCustomPagePayload>();\r\n\r\n  const handleSave = (editorContent: string) => {\r\n    createPage.mutate(\r\n      {\r\n        ...form.getValues(),\r\n        body: editorContent,\r\n      },\r\n      {\r\n        onSuccess: () => navigate('../', {relative: 'path'}),\r\n      },\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Suspense fallback={<FullPageLoader />}>\r\n      <ArticleBodyEditor>\r\n        {(content, editor) => (\r\n          <FileUploadProvider>\r\n            <FormProvider {...form}>\r\n              <ArticleEditorStickyHeader\r\n                editor={editor}\r\n                isLoading={createPage.isPending}\r\n                onSave={handleSave}\r\n                backLink=\"../\"\r\n              />\r\n              <div className=\"mx-20\">\r\n                <div className=\"prose dark:prose-invert mx-auto flex-auto\">\r\n                  <ArticleEditorTitle />\r\n                  {content}\r\n                </div>\r\n              </div>\r\n            </FormProvider>\r\n          </FileUploadProvider>\r\n        )}\r\n      </ArticleBodyEditor>\r\n    </Suspense>\r\n  );\r\n}\r\n","export default \"__VITE_ASSET__03cbd387__\"","import {useTrans} from '@common/i18n/use-trans';\r\nimport {TextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {SearchIcon} from '@common/icons/material/Search';\r\nimport {message} from '@common/i18n/message';\r\nimport {Select} from '@common/ui/forms/select/select';\r\nimport {Item} from '@common/ui/forms/listbox/item';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport React from 'react';\r\nimport {FontSelectorState} from '@common/ui/font-selector/font-selector-state';\r\n\r\nexport interface FontSelectorFilterValue {\r\n  query: string;\r\n  category: string;\r\n}\r\n\r\ninterface FiltersHeaderProps {\r\n  state: FontSelectorState;\r\n}\r\nexport function FontSelectorFilters({\r\n  state: {filters, setFilters},\r\n}: FiltersHeaderProps) {\r\n  const {trans} = useTrans();\r\n  return (\r\n    <div className=\"mb-24 items-center gap-24 @xs:flex\">\r\n      <TextField\r\n        className=\"mb-12 flex-auto @xs:mb-0\"\r\n        value={filters.query}\r\n        onChange={e => {\r\n          setFilters({\r\n            ...filters,\r\n            query: e.target.value,\r\n          });\r\n        }}\r\n        startAdornment={<SearchIcon />}\r\n        placeholder={trans(message('Search fonts'))}\r\n      />\r\n      <Select\r\n        className=\"flex-auto\"\r\n        selectionMode=\"single\"\r\n        selectedValue={filters.category}\r\n        onSelectionChange={value => {\r\n          setFilters({\r\n            ...filters,\r\n            category: value as string,\r\n          });\r\n        }}\r\n      >\r\n        <Item value=\"\">\r\n          <Trans message=\"All categories\" />\r\n        </Item>\r\n        <Item value=\"serif\">\r\n          <Trans message=\"Serif\" />\r\n        </Item>\r\n        <Item value=\"sans-serif\">\r\n          <Trans message=\"Sans serif\" />\r\n        </Item>\r\n        <Item value=\"display\">\r\n          <Trans message=\"Display\" />\r\n        </Item>\r\n        <Item value=\"handwriting\">\r\n          <Trans message=\"Handwriting\" />\r\n        </Item>\r\n        <Item value=\"monospace\">\r\n          <Trans message=\"Monospace\" />\r\n        </Item>\r\n      </Select>\r\n    </div>\r\n  );\r\n}\r\n","import {useCollator} from './use-collator';\r\n\r\ninterface Filter {\r\n  /** Returns whether a string starts with a given substring. */\r\n  startsWith(string: string, substring: string): boolean;\r\n  /** Returns whether a string ends with a given substring. */\r\n  endsWith(string: string, substring: string): boolean;\r\n  /** Returns whether a string contains a given substring. */\r\n  contains(string: string, substring: string): boolean;\r\n}\r\n\r\nexport function useFilter(options?: Intl.CollatorOptions): Filter {\r\n  const collator = useCollator({\r\n    usage: 'search',\r\n    ...options,\r\n  });\r\n\r\n  return {\r\n    startsWith(string, substring) {\r\n      if (substring.length === 0) {\r\n        return true;\r\n      }\r\n\r\n      string = string.normalize('NFC');\r\n      substring = substring.normalize('NFC');\r\n      return (\r\n        collator.compare(string.slice(0, substring.length), substring) === 0\r\n      );\r\n    },\r\n    endsWith(string, substring) {\r\n      if (substring.length === 0) {\r\n        return true;\r\n      }\r\n\r\n      string = string.normalize('NFC');\r\n      substring = substring.normalize('NFC');\r\n      return collator.compare(string.slice(-substring.length), substring) === 0;\r\n    },\r\n    contains(string, substring) {\r\n      if (substring.length === 0) {\r\n        return true;\r\n      }\r\n\r\n      string = string.normalize('NFC');\r\n      substring = substring.normalize('NFC');\r\n\r\n      let scan = 0;\r\n      const sliceLen = substring.length;\r\n      for (; scan + sliceLen <= string.length; scan++) {\r\n        const slice = string.slice(scan, scan + sliceLen);\r\n        if (collator.compare(substring, slice) === 0) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n  };\r\n}\r\n","import {FontConfig} from '@common/http/value-lists';\r\nimport {message} from '@common/i18n/message';\r\n\r\nexport const BrowserSafeFonts: FontConfig[] = [\r\n  {\r\n    label: message('System'),\r\n    family:\r\n      'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"',\r\n    category: 'sans-serif',\r\n  },\r\n  {family: 'Impact, Charcoal, sans-serif', category: 'sans-serif'},\r\n  {family: 'Arial, Helvetica Neue, Helvetica, sans-serif', category: 'serif'},\r\n  {family: '\"Comic Sans MS\", cursive, sans-serif', category: 'Handwriting'},\r\n  {family: 'Century Gothic, sans-serif', category: 'sans-serif'},\r\n  {family: '\"Courier New\", Courier, monospace', category: 'monospace'},\r\n  {\r\n    family: '\"Lucida Sans Unicode\", \"Lucida Grande\", sans-serif',\r\n    category: 'sans-serif',\r\n  },\r\n  {family: '\"Times New Roman\", Times, serif', category: 'serif'},\r\n  {family: '\"Lucida Console\", Monaco, monospace', category: 'monospace'},\r\n  {family: '\"Andele Mono\", monospace, sans-serif', category: 'sans-serif'},\r\n  {family: 'Verdana, Geneva, sans-serif', category: 'sans-serif'},\r\n  {\r\n    family: '\"Helvetica Neue\", Helvetica, Arial, sans-serif',\r\n    category: 'sans-serif',\r\n  },\r\n];\r\n","import {useCallback, useEffect, useMemo, useState} from 'react';\r\nimport {FontSelectorFilterValue} from '@common/ui/font-selector/font-selector-filters';\r\nimport {FontConfig, useValueLists} from '@common/http/value-lists';\r\nimport {useFilter} from '@common/i18n/use-filter';\r\nimport {BrowserSafeFonts} from '@common/ui/font-picker/browser-safe-fonts';\r\nimport {chunkArray} from '@common/utils/array/chunk-array';\r\nimport {loadFonts} from '@common/ui/font-picker/load-fonts';\r\n\r\nexport interface FontSelectorState extends UseFontSelectorProps {\r\n  fonts: FontConfig[];\r\n  filteredFonts: FontConfig[];\r\n  pages: FontConfig[][];\r\n  isLoading: boolean;\r\n  filters: FontSelectorFilterValue;\r\n  setFilters: (filters: FontSelectorFilterValue) => void;\r\n  currentPage: number;\r\n  setCurrentPage: (page: number) => void;\r\n}\r\n\r\nexport interface UseFontSelectorProps {\r\n  value?: FontConfig;\r\n  onChange: (value: FontConfig) => void;\r\n}\r\nexport function useFontSelectorState({\r\n  value,\r\n  onChange,\r\n}: UseFontSelectorProps): FontSelectorState {\r\n  const {data, isLoading} = useValueLists(['googleFonts']);\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n\r\n  const [filters, setFilterState] = useState<FontSelectorFilterValue>({\r\n    query: '',\r\n    category: value?.category ?? '',\r\n  });\r\n  const {contains} = useFilter({\r\n    sensitivity: 'base',\r\n  });\r\n\r\n  const setFilters = useCallback((filters: FontSelectorFilterValue) => {\r\n    setFilterState(filters);\r\n    // reset to first page when searching or changing category\r\n    setCurrentPage(0);\r\n  }, []);\r\n\r\n  const allFonts = useMemo(() => {\r\n    return BrowserSafeFonts.concat(data?.googleFonts ?? []);\r\n  }, [data?.googleFonts]);\r\n\r\n  const filteredFonts = useMemo(() => {\r\n    return allFonts.filter(font => {\r\n      return (\r\n        contains(font.family, filters.query) &&\r\n        (!filters.category ||\r\n          font.category?.toLowerCase() === filters.category.toLowerCase())\r\n      );\r\n    });\r\n  }, [allFonts, filters, contains]);\r\n\r\n  const pages = useMemo(() => {\r\n    return chunkArray(filteredFonts, 20);\r\n  }, [filteredFonts]);\r\n  const fonts = pages[currentPage];\r\n\r\n  useEffect(() => {\r\n    const id = 'font-selector';\r\n    if (fonts?.length) {\r\n      loadFonts(fonts, {id});\r\n    }\r\n  }, [fonts, currentPage]);\r\n\r\n  return {\r\n    fonts: fonts || [],\r\n    currentPage,\r\n    filteredFonts: filteredFonts || [],\r\n    setCurrentPage,\r\n    isLoading,\r\n    filters,\r\n    setFilters,\r\n    value,\r\n    onChange,\r\n    pages,\r\n  };\r\n}\r\n","import {Trans} from '@common/i18n/trans';\r\nimport {IconButton} from '@common/ui/buttons/icon-button';\r\nimport {KeyboardArrowLeftIcon} from '@common/icons/material/KeyboardArrowLeft';\r\nimport {KeyboardArrowRightIcon} from '@common/icons/material/KeyboardArrowRight';\r\nimport React from 'react';\r\nimport {FontSelectorState} from '@common/ui/font-selector/font-selector-state';\r\n\r\ninterface FontSelectorPaginationProps {\r\n  state: FontSelectorState;\r\n}\r\nexport function FontSelectorPagination({\r\n  state: {currentPage = 0, setCurrentPage, filteredFonts, pages},\r\n}: FontSelectorPaginationProps) {\r\n  const total = filteredFonts?.length || 0;\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-end gap-24 text-sm mt-30 pt-14 border-t\">\r\n      {total > 0 && (\r\n        <div>\r\n          <Trans\r\n            message=\":from - :to of :total\"\r\n            values={{\r\n              from: currentPage * 20 + 1,\r\n              to: Math.min((currentPage + 1) * 20, total),\r\n              total,\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n      <div className=\"text-muted\">\r\n        <IconButton\r\n          disabled={currentPage < 1}\r\n          onClick={() => {\r\n            setCurrentPage(Math.max(0, currentPage - 1));\r\n          }}\r\n        >\r\n          <KeyboardArrowLeftIcon />\r\n        </IconButton>\r\n        <IconButton\r\n          disabled={currentPage >= pages.length - 1}\r\n          onClick={() => {\r\n            setCurrentPage(currentPage + 1);\r\n          }}\r\n        >\r\n          <KeyboardArrowRightIcon />\r\n        </IconButton>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {Trans} from '@common/i18n/trans';\r\nimport React from 'react';\r\nimport {ButtonBase} from '@common/ui/buttons/button-base';\r\nimport clsx from 'clsx';\r\nimport {IllustratedMessage} from '@common/ui/images/illustrated-message';\r\nimport fontImage from './font.svg';\r\nimport {SvgImage} from '@common/ui/images/svg-image/svg-image';\r\nimport {FontSelectorFilters} from '@common/ui/font-selector/font-selector-filters';\r\nimport {\r\n  FontSelectorState,\r\n  UseFontSelectorProps,\r\n  useFontSelectorState,\r\n} from '@common/ui/font-selector/font-selector-state';\r\nimport {FontSelectorPagination} from '@common/ui/font-selector/font-selector-pagination';\r\nimport {FontConfig} from '@common/http/value-lists';\r\nimport {Skeleton} from '@common/ui/skeleton/skeleton';\r\nimport {AnimatePresence, m} from 'framer-motion';\r\nimport {opacityAnimation} from '@common/ui/animation/opacity-animation';\r\n\r\ninterface FontSelectorProps extends UseFontSelectorProps {\r\n  className?: string;\r\n}\r\nexport function FontSelector(props: FontSelectorProps) {\r\n  const state = useFontSelectorState(props);\r\n  return (\r\n    <div className={props.className}>\r\n      <FontSelectorFilters state={state} />\r\n      <AnimatePresence initial={false} mode=\"wait\">\r\n        <FontList state={state} />\r\n      </AnimatePresence>\r\n      <FontSelectorPagination state={state} />\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface FontListProps {\r\n  state: FontSelectorState;\r\n}\r\nfunction FontList({state}: FontListProps) {\r\n  const {isLoading, fonts} = state;\r\n\r\n  const gridClassName =\r\n    'grid gap-24 grid-cols-[repeat(auto-fill,minmax(90px,1fr))] items-start';\r\n\r\n  if (isLoading) {\r\n    return <FontListSkeleton className={gridClassName} />;\r\n  }\r\n\r\n  if (!fonts?.length) {\r\n    return (\r\n      <IllustratedMessage\r\n        className=\"mt-60\"\r\n        size=\"sm\"\r\n        image={<SvgImage src={fontImage} />}\r\n        title={<Trans message=\"No matching fonts\" />}\r\n        description={\r\n          <Trans message=\"Try another search query or different category\" />\r\n        }\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <m.div key=\"font-list\" {...opacityAnimation} className={gridClassName}>\r\n      {fonts?.map(font => (\r\n        <FontButton key={font.family} font={font} state={state} />\r\n      ))}\r\n    </m.div>\r\n  );\r\n}\r\n\r\ninterface FontButtonProps {\r\n  font: FontConfig;\r\n  state: FontSelectorState;\r\n}\r\nfunction FontButton({font, state: {value, onChange}}: FontButtonProps) {\r\n  const isActive = value?.family === font.family;\r\n  const displayName = font.family.split(',')[0].replace(/\"/g, '');\r\n\r\n  return (\r\n    <ButtonBase\r\n      key={font.family}\r\n      display=\"block\"\r\n      onClick={() => {\r\n        onChange(font);\r\n      }}\r\n    >\r\n      <span\r\n        className={clsx(\r\n          'flex aspect-square items-center justify-center rounded-panel border text-4xl transition-bg-color hover:bg-hover md:text-5xl',\r\n          isActive && 'ring-2 ring-primary ring-offset-2',\r\n        )}\r\n      >\r\n        <span style={{fontFamily: font.family}}>Aa</span>\r\n      </span>\r\n      <span\r\n        className={clsx(\r\n          'mt-6 block overflow-hidden overflow-ellipsis whitespace-nowrap text-sm',\r\n          isActive && 'text-primary',\r\n        )}\r\n      >\r\n        {font.label ? <Trans {...font.label} /> : displayName}\r\n      </span>\r\n    </ButtonBase>\r\n  );\r\n}\r\n\r\ninterface FontListSkeletonProps {\r\n  className: string;\r\n}\r\nfunction FontListSkeleton({className}: FontListSkeletonProps) {\r\n  const items = Array.from(Array(20).keys());\r\n  return (\r\n    <m.div key=\"font-list-skeleton\" {...opacityAnimation} className={className}>\r\n      {items.map(index => (\r\n        <div key={index}>\r\n          <div className=\"aspect-square\">\r\n            <Skeleton display=\"block\" variant=\"rect\" />\r\n          </div>\r\n          <Skeleton className=\"mt-6 text-sm\" />\r\n        </div>\r\n      ))}\r\n    </m.div>\r\n  );\r\n}\r\n","import {FontSelector} from '@common/ui/font-selector/font-selector';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport {\r\n  appearanceState,\r\n  AppearanceValues,\r\n} from '@common/admin/appearance/appearance-store';\r\nimport {useParams} from 'react-router-dom';\r\n\r\ntype Font = 'appearance.themes.all.1.font';\r\n\r\nexport function ThemeFontPanel() {\r\n  const {setValue, watch} = useFormContext<AppearanceValues>();\r\n  const {themeIndex} = useParams();\r\n  const key = `appearance.themes.all.${themeIndex}.font` as Font;\r\n  return (\r\n    <FontSelector\r\n      value={watch(key)}\r\n      onChange={font => {\r\n        setValue(key, font, {shouldDirty: true});\r\n        appearanceState().preview.setThemeFont(font);\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import {Trans} from '@common/i18n/trans';\r\nimport {ButtonBase} from '@common/ui/buttons/button-base';\r\nimport {ReactNode} from 'react';\r\nimport clsx from 'clsx';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport {AppearanceValues} from '@common/admin/appearance/appearance-store';\r\nimport {message} from '@common/i18n/message';\r\nimport {useParams} from 'react-router-dom';\r\n\r\nconst radiusMap = {\r\n  'rounded-none': {\r\n    label: message('Square'),\r\n    value: '0px',\r\n  },\r\n  'rounded-sm': {\r\n    label: message('Small'),\r\n    value: '0.125rem',\r\n  },\r\n  'rounded-md': {\r\n    label: message('Medium'),\r\n    value: '0.25rem',\r\n  },\r\n  'rounded-lg': {\r\n    label: message('Large'),\r\n    value: '0.5rem',\r\n  },\r\n  'rounded-xl': {\r\n    label: message('Larger'),\r\n    value: '0.75rem',\r\n  },\r\n  'rounded-full': {\r\n    label: message('Pill'),\r\n    value: '9999px',\r\n  },\r\n};\r\n\r\nexport function ThemeRadiusPanel() {\r\n  return (\r\n    <div className=\"space-y-24\">\r\n      <RadiusSelector\r\n        label={<Trans message=\"Button rounding\" />}\r\n        name=\"button-radius\"\r\n      />\r\n      <RadiusSelector\r\n        label={<Trans message=\"Input rounding\" />}\r\n        name=\"input-radius\"\r\n      />\r\n      <RadiusSelector\r\n        label={<Trans message=\"Panel rounding\" />}\r\n        name=\"panel-radius\"\r\n        hidePill\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface RadiusSelectorProps {\r\n  label: ReactNode;\r\n  name: string;\r\n  hidePill?: boolean;\r\n}\r\nfunction RadiusSelector({label, name, hidePill}: RadiusSelectorProps) {\r\n  const {themeIndex} = useParams();\r\n  const {watch, setValue} = useFormContext<AppearanceValues>();\r\n  const formKey =\r\n    `appearance.themes.all.${themeIndex}.values.--be-${name}` as 'appearance.themes.all.1.values.--be-button-radius';\r\n  const currentValue = watch(formKey);\r\n  return (\r\n    <div>\r\n      <div className=\"mb-10 text-sm font-semibold\">{label}</div>\r\n      <div className=\"grid grid-cols-3 gap-10 text-sm\">\r\n        {Object.entries(radiusMap)\r\n          .filter(([key]) => !hidePill || !key.includes('full'))\r\n          .map(([key, {label, value}]) => (\r\n            <PreviewButton\r\n              key={key}\r\n              radius={key}\r\n              isActive={value === currentValue}\r\n              onClick={() => {\r\n                setValue(formKey, value, {shouldDirty: true});\r\n              }}\r\n            >\r\n              <Trans {...label} />\r\n            </PreviewButton>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface PreviewButtonProps {\r\n  radius: string;\r\n  children: ReactNode;\r\n  isActive: boolean;\r\n  onClick: () => void;\r\n}\r\nfunction PreviewButton({\r\n  radius,\r\n  children,\r\n  isActive,\r\n  onClick,\r\n}: PreviewButtonProps) {\r\n  return (\r\n    <ButtonBase\r\n      display=\"block\"\r\n      className={clsx(\r\n        'h-36 border-2 hover:bg-hover',\r\n        radius,\r\n        isActive && 'border-primary',\r\n      )}\r\n      onClick={onClick}\r\n    >\r\n      {children}\r\n    </ButtonBase>\r\n  );\r\n}\r\n","import {Tabs} from '@common/ui/tabs/tabs';\r\nimport {Tab} from '@common/ui/tabs/tab';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {TabList} from '@common/ui/tabs/tab-list';\r\nimport {Link, Outlet, useLocation} from 'react-router-dom';\r\n\r\nconst tabs = ['schedule', 'error', 'outgoing-email'];\r\n\r\nexport function LogsPage() {\r\n  const {pathname} = useLocation();\r\n  const activeTab = pathname.split('/').pop() as string;\r\n  const activeIndex = tabs.includes(activeTab) ? tabs.indexOf(activeTab) : 0;\r\n  return (\r\n    <Tabs className=\"p-12 md:p-24\" selectedTab={activeIndex}>\r\n      <TabList>\r\n        <Tab elementType={Link} to=\"/admin/logs/schedule\" replace>\r\n          <Trans message=\"Schedule\" />\r\n        </Tab>\r\n        <Tab elementType={Link} to=\"/admin/logs/error\" replace>\r\n          <Trans message=\"Error\" />\r\n        </Tab>\r\n        <Tab elementType={Link} to=\"/admin/logs/outgoing-email\" replace>\r\n          <Trans message=\"Email\" />\r\n        </Tab>\r\n      </TabList>\r\n      <Outlet />\r\n    </Tabs>\r\n  );\r\n}\r\n","import {CheckIcon} from '@common/icons/material/Check';\r\nimport {CloseIcon} from '@common/icons/material/Close';\r\nimport React from 'react';\r\n\r\ninterface BooleanIndicatorProps {\r\n  value: boolean;\r\n}\r\nexport function BooleanIndicator({value}: BooleanIndicatorProps) {\r\n  if (value) {\r\n    return <CheckIcon className=\"icon-md text-positive\" />;\r\n  }\r\n  return <CloseIcon className=\"icon-md text-danger\" />;\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\r\nimport {message} from '@common/i18n/message';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\r\n\r\ninterface Response extends BackendResponse {}\r\n\r\ninterface Payload {\r\n  id: number;\r\n}\r\n\r\nexport function useRerunScheduledCommand() {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (payload: Payload) => rerunCommand(payload),\r\n    onSuccess: async (response, props) => {\r\n      await queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('logs/schedule'),\r\n      });\r\n      toast.positive(trans(message('Command reran')));\r\n    },\r\n    onError: err => showHttpErrorToast(err),\r\n  });\r\n}\r\n\r\nfunction rerunCommand({id}: Payload): Promise<Response> {\r\n  return apiClient.post(`logs/schedule/rerun/${id}`).then(r => r.data);\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const EventRepeatIcon = createSvgIcon(\r\n  <path d=\"M21 12V6c0-1.1-.9-2-2-2h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5V10h14v2h2zm-2-4H5V6h14v2zm-3.36 12c.43 1.45 1.77 2.5 3.36 2.5 1.93 0 3.5-1.57 3.5-3.5s-1.57-3.5-3.5-3.5c-.95 0-1.82.38-2.45 1H18V18h-4v-4h1.5v1.43c.9-.88 2.14-1.43 3.5-1.43 2.76 0 5 2.24 5 5s-2.24 5-5 5c-2.42 0-4.44-1.72-4.9-4h1.54z\" />\r\n, 'EventRepeatOutlined');\r\n","import {ColumnConfig} from '@common/datatable/column-config';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\r\nimport {BooleanIndicator} from '@common/datatable/column-templates/boolean-indicator';\r\nimport {FormattedNumber} from '@common/i18n/formatted-number';\r\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\r\nimport {IconButton} from '@common/ui/buttons/icon-button';\r\nimport React from 'react';\r\nimport {ScheduleLogItem} from '@common/admin/logging/schedule/schedule-log-item';\r\nimport {useRerunScheduledCommand} from '@common/admin/logging/schedule/use-rerurun-scheduled-command';\r\nimport {EventRepeatIcon} from '@common/icons/material/EventRepeat';\r\nimport {FormattedRelativeTime} from '@common/i18n/formatted-relative-time';\r\n\r\nexport const ScheduleDatatableColumns: ColumnConfig<ScheduleLogItem>[] = [\r\n  {\r\n    key: 'command',\r\n    allowsSorting: true,\r\n    visibleInMode: 'all',\r\n    width: 'flex-3 min-w-200',\r\n    header: () => <Trans message=\"Name\" />,\r\n    body: item => (\r\n      <NameWithAvatar label={item.command} description={item.output} />\r\n    ),\r\n  },\r\n  {\r\n    key: 'ran_at',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Ran at\" />,\r\n    body: item => <FormattedRelativeTime date={item.ran_at} />,\r\n  },\r\n  {\r\n    key: 'duration',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Duration\" />,\r\n    body: item => `${item.duration}ms`,\r\n  },\r\n  {\r\n    key: 'exit_code',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Completed\" />,\r\n    body: item => <BooleanIndicator value={item.exit_code === 0} />,\r\n  },\r\n  {\r\n    key: 'count_in_last_hour',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Runs recently\" />,\r\n    body: item => <FormattedNumber value={item.count_in_last_hour} />,\r\n  },\r\n  {\r\n    key: 'actions',\r\n    header: () => <Trans message=\"Actions\" />,\r\n    hideHeader: true,\r\n    align: 'end',\r\n    width: 'w-42 flex-shrink-0',\r\n    visibleInMode: 'all',\r\n    body: item => <RerunButton item={item} />,\r\n  },\r\n];\r\n\r\ninterface RerunButtonProps {\r\n  item: ScheduleLogItem;\r\n}\r\nfunction RerunButton({item}: RerunButtonProps) {\r\n  const rerunCommand = useRerunScheduledCommand();\r\n  return (\r\n    <Tooltip label={<Trans message=\"Rerun now\" />}>\r\n      <IconButton\r\n        size=\"md\"\r\n        className=\"text-muted\"\r\n        disabled={rerunCommand.isPending}\r\n        onClick={() => {\r\n          rerunCommand.mutate({id: item.id});\r\n        }}\r\n      >\r\n        <EventRepeatIcon />\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n","export default \"__VITE_ASSET__8c0e1462__\"","import {createSvgIcon} from '../create-svg-icon';\r\n\r\nexport const DownloadIcon = createSvgIcon(\r\n  <path d=\"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z\" />\r\n, 'DownloadOutlined');\r\n","import {DataTablePage} from '@common/datatable/page/data-table-page';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\r\nimport React from 'react';\r\nimport {ScheduleDatatableColumns} from '@common/admin/logging/schedule/schedule-datatable-columns';\r\nimport timelineImage from '@common/admin/logging/schedule/timeline.svg';\r\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\r\nimport {DownloadIcon} from '@common/icons/material/Download';\r\n\r\nexport function ScheduleLogDatatable() {\r\n  return (\r\n    <DataTablePage\r\n      padding=\"pt-12 md:pt-24\"\r\n      endpoint=\"logs/schedule\"\r\n      title={<Trans message=\"CRON schedule log\" />}\r\n      columns={ScheduleDatatableColumns}\r\n      actions={<Actions />}\r\n      enableSelection={false}\r\n      emptyStateMessage={\r\n        <DataTableEmptyStateMessage\r\n          image={timelineImage}\r\n          title={<Trans message=\"No scheduled commands have ran yet\" />}\r\n          filteringTitle={<Trans message=\"No matching scheduled commands\" />}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction Actions() {\r\n  return (\r\n    <DataTableAddItemButton\r\n      elementType=\"a\"\r\n      href=\"api/v1/logs/schedule/download\"\r\n      download\r\n      icon={<DownloadIcon />}\r\n    >\r\n      <Trans message=\"Download log\" />\r\n    </DataTableAddItemButton>\r\n  );\r\n}\r\n","export default \"__VITE_ASSET__5350d2f0__\"","import {ColumnConfig} from '@common/datatable/column-config';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport React from 'react';\r\nimport {ErrorLogItem} from '@common/admin/logging/error/error-log-item';\r\nimport {InfoIcon} from '@common/icons/material/Info';\r\nimport {ErrorIcon} from '@common/icons/material/Error';\r\nimport clsx from 'clsx';\r\nimport {FormattedRelativeTime} from '@common/i18n/formatted-relative-time';\r\n\r\nexport const ErrorLogDatatableColumns: ColumnConfig<ErrorLogItem>[] = [\r\n  {\r\n    key: 'message',\r\n    visibleInMode: 'all',\r\n    width: 'flex-3 min-w-200',\r\n    header: () => <Trans message=\"Message\" />,\r\n    body: item => item.message,\r\n  },\r\n  {\r\n    key: 'datetime',\r\n    header: () => <Trans message=\"Date\" />,\r\n    body: item => <FormattedRelativeTime date={item.datetime} />,\r\n  },\r\n  {\r\n    key: 'severity',\r\n    header: () => <Trans message=\"Severity\" />,\r\n    body: item => {\r\n      return (\r\n        <span\r\n          className={clsx(\r\n            'flex items-center gap-6 text-xs capitalize',\r\n            item.level === 'error' ? 'text-danger' : 'text-primary',\r\n          )}\r\n        >\r\n          {item.level === 'error' ? (\r\n            <ErrorIcon size=\"sm\" />\r\n          ) : (\r\n            <InfoIcon size=\"sm\" />\r\n          )}\r\n          {item.level}\r\n        </span>\r\n      );\r\n    },\r\n  },\r\n];\r\n","import {Dialog} from '@common/ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {ErrorLogItem} from '@common/admin/logging/error/error-log-item';\r\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\r\nimport {Button} from '@common/ui/buttons/button';\r\n\r\ninterface Props {\r\n  error: ErrorLogItem;\r\n}\r\nexport function ErrorLogEntryDialog({error}: Props) {\r\n  return (\r\n    <Dialog size=\"fullscreen\">\r\n      <DialogHeader\r\n        showDivider\r\n        padding=\"px-24 py-10\"\r\n        actions={\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"xs\"\r\n            onClick={() => downloadLogItem(error)}\r\n          >\r\n            <Trans message=\"Download\" />\r\n          </Button>\r\n        }\r\n      >\r\n        <Trans message=\"Error details\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <pre className=\"whitespace-pre-wrap break-words text-xs leading-5\">\r\n          {error.exception}\r\n        </pre>\r\n      </DialogBody>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction downloadLogItem(item: ErrorLogItem) {\r\n  const el = document.createElement('a');\r\n  el.setAttribute(\r\n    'href',\r\n    'data:text/plain;charset=utf-8,' + encodeURIComponent(item.exception),\r\n  );\r\n  el.setAttribute('download', `error-${item.id}.log`);\r\n\r\n  el.style.display = 'none';\r\n  document.body.appendChild(el);\r\n  el.click();\r\n  document.body.removeChild(el);\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {message} from '@common/i18n/message';\r\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\r\n\r\ninterface Payload {\r\n  identifier: string;\r\n}\r\n\r\nexport function useDeleteErrorLog() {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (payload: Payload) => deleteLogFile(payload),\r\n    onSuccess: async () => {\r\n      await queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('logs/error'),\r\n      });\r\n      toast(trans(message('Log file deleted')));\r\n    },\r\n    onError: err => showHttpErrorToast(err),\r\n  });\r\n}\r\n\r\nfunction deleteLogFile({identifier}: Payload) {\r\n  return apiClient.delete(`logs/error/${identifier}`).then(r => r.data);\r\n}\r\n","import {DataTablePage} from '@common/datatable/page/data-table-page';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\r\nimport React, {Fragment, useEffect, useRef, useState} from 'react';\r\nimport bugFixingImage from '@common/admin/logging/error/bug-fixing.svg';\r\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\r\nimport {DownloadIcon} from '@common/icons/material/Download';\r\nimport {ErrorLogDatatableColumns} from '@common/admin/logging/error/error-log-datatable-columns';\r\nimport {closeDialog, openDialog} from '@common/ui/overlays/store/dialog-store';\r\nimport {ErrorLogEntryDialog} from '@common/admin/logging/error/error-log-entry-dialog';\r\nimport {useDataTable} from '@common/datatable/page/data-table-context';\r\nimport {Select} from '@common/ui/forms/select/select';\r\nimport {Item} from '@common/ui/forms/listbox/item';\r\nimport {Skeleton} from '@common/ui/skeleton/skeleton';\r\nimport {ErrorLogItem} from '@common/admin/logging/error/error-log-item';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {ConfirmationDialog} from '@common/ui/overlays/dialog/confirmation-dialog';\r\nimport {useDeleteErrorLog} from '@common/admin/logging/error/use-delete-error-log';\r\nimport {FormattedBytes} from '@common/uploads/formatted-bytes';\r\n\r\ninterface ErrorLogFile {\r\n  name: string;\r\n  identifier: string;\r\n  size: number;\r\n}\r\n\r\nexport function ErrorLogDatatable() {\r\n  return (\r\n    <DataTablePage\r\n      padding=\"pt-12 md:pt-24\"\r\n      endpoint=\"logs/error\"\r\n      title={<Trans message=\"Error log\" />}\r\n      onRowAction={item => {\r\n        openDialog(ErrorLogEntryDialog, {error: item});\r\n      }}\r\n      columns={ErrorLogDatatableColumns}\r\n      actions={<Actions />}\r\n      enableSelection={false}\r\n      emptyStateMessage={\r\n        <DataTableEmptyStateMessage\r\n          image={bugFixingImage}\r\n          title={<Trans message=\"No errors have been logged yet\" />}\r\n          filteringTitle={<Trans message=\"No matching error log entries\" />}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction Actions() {\r\n  const {query, setParams} = useDataTable<\r\n    ErrorLogItem,\r\n    {files: ErrorLogFile[]; selectedFile?: string}\r\n  >();\r\n\r\n  const setOnce = useRef(false);\r\n  const [selectedFile, setSelectedFile] = useState<string | null>(null);\r\n\r\n  // set initial selected file once files are loaded\r\n  useEffect(() => {\r\n    if (query.data?.files?.length && !setOnce.current) {\r\n      setOnce.current = true;\r\n      const firstFile = query.data.files[0].identifier;\r\n      setSelectedFile(query.data.files[0].identifier);\r\n      // prevent unnecessary http call\r\n      if (firstFile !== query.data.selectedFile) {\r\n        setParams({file: query.data.files[0].identifier});\r\n      }\r\n    }\r\n  }, [query.data, setParams, setOnce]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <FileSelector\r\n        files={query.data?.files ?? null}\r\n        selectedFile={selectedFile}\r\n        onSelected={file => {\r\n          setSelectedFile(file.identifier);\r\n          setParams({file: file.identifier});\r\n        }}\r\n      />\r\n      <Button\r\n        variant=\"outline\"\r\n        color=\"danger\"\r\n        disabled={!selectedFile}\r\n        onClick={() =>\r\n          openDialog(ConfirmDeleteDialog, {identifier: selectedFile})\r\n        }\r\n      >\r\n        <Trans message=\"Delete\" />\r\n      </Button>\r\n      {selectedFile && (\r\n        <DataTableAddItemButton\r\n          elementType=\"a\"\r\n          download={\r\n            query.data?.files.find(f => f.identifier === selectedFile)?.name\r\n          }\r\n          href={`api/v1/logs/error/${selectedFile}/download`}\r\n          icon={<DownloadIcon />}\r\n        >\r\n          <Trans message=\"Download log\" />\r\n        </DataTableAddItemButton>\r\n      )}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface FileSelectorProps {\r\n  files: ErrorLogFile[] | null;\r\n  selectedFile: string | null;\r\n  onSelected: (file: ErrorLogFile) => void;\r\n}\r\nfunction FileSelector({files, selectedFile, onSelected}: FileSelectorProps) {\r\n  // files have not loaded yet, show skeleton\r\n  if (!files) {\r\n    return <Skeleton variant=\"rect\" className=\"max-w-[210px]\" />;\r\n  }\r\n\r\n  // no error logs yet, hide select completely\r\n  if (!files.length) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Select\r\n      selectionMode=\"single\"\r\n      selectedValue={selectedFile}\r\n      size=\"sm\"\r\n      minWidth=\"min-w-[210px]\"\r\n    >\r\n      {files?.map(file => (\r\n        <Item\r\n          key={file.identifier}\r\n          value={file.identifier}\r\n          onSelected={() => onSelected(file)}\r\n        >\r\n          {file.name} (<FormattedBytes bytes={file.size} />)\r\n        </Item>\r\n      ))}\r\n    </Select>\r\n  );\r\n}\r\n\r\ninterface ConfirmDeleteDialogProps {\r\n  identifier: string;\r\n}\r\nfunction ConfirmDeleteDialog({identifier}: ConfirmDeleteDialogProps) {\r\n  const deleteLog = useDeleteErrorLog();\r\n  return (\r\n    <ConfirmationDialog\r\n      title={<Trans message=\"Delete log file\" />}\r\n      body={<Trans message=\"Are you sure you want to delete this log file?\" />}\r\n      confirm={<Trans message=\"Delete\" />}\r\n      onConfirm={() =>\r\n        deleteLog.mutate({identifier}, {onSuccess: () => closeDialog()})\r\n      }\r\n      isLoading={deleteLog.isPending}\r\n      isDanger\r\n    />\r\n  );\r\n}\r\n","export default \"__VITE_ASSET__a71f56b4__\"","import {useQuery} from '@tanstack/react-query';\r\nimport {apiClient} from '@common/http/query-client';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {OutgoingEmailLogItem} from '@common/admin/logging/outgoing-email/outgoing-email-log-item';\r\n\r\ninterface Response extends BackendResponse {\r\n  logItem: OutgoingEmailLogItem;\r\n}\r\n\r\nexport function useOutgoingEmailLogItemWithMime(id: number) {\r\n  return useQuery({\r\n    queryKey: ['logs/outgoing-email', id],\r\n    queryFn: () => fetchLogItem(id),\r\n  });\r\n}\r\n\r\nfunction fetchLogItem(id: number) {\r\n  return apiClient.get<Response>(`logs/outgoing-email/${id}`).then(r => r.data);\r\n}\r\n","import {Dialog} from '@common/ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {useOutgoingEmailLogItemWithMime} from '@common/admin/logging/outgoing-email/use-outgoing-email-log-item-with-mime';\r\nimport {ProgressCircle} from '@common/ui/progress/progress-circle';\r\nimport {downloadFileFromUrl} from '@common/uploads/utils/download-file-from-url';\r\nimport {useSettings} from '@common/core/settings/use-settings';\r\n\r\ninterface Props {\r\n  logItemId: number;\r\n}\r\nexport function OutgoingEmailLogEntryDialog({logItemId}: Props) {\r\n  const {data} = useOutgoingEmailLogItemWithMime(logItemId);\r\n  const {base_url} = useSettings();\r\n  return (\r\n    <Dialog size=\"fullscreen\">\r\n      <DialogHeader\r\n        showDivider\r\n        padding=\"px-24 py-10\"\r\n        actions={\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"xs\"\r\n            disabled={!data}\r\n            type=\"button\"\r\n            onClick={\r\n              data\r\n                ? () =>\r\n                    downloadFileFromUrl(\r\n                      `${base_url}/api/v1/logs/outgoing-email/${logItemId}/download`,\r\n                    )\r\n                : undefined\r\n            }\r\n          >\r\n            <Trans message=\"Download\" />\r\n          </Button>\r\n        }\r\n      >\r\n        <Trans message=\"Email preview\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        {data ? (\r\n          <iframe\r\n            srcDoc={data.logItem.parsed_message!.body.html}\r\n            className=\"h-max w-full border-none\"\r\n            onLoad={e => {\r\n              const iframe = e.target as HTMLIFrameElement;\r\n              iframe.style.height =\r\n                iframe.contentWindow!.document.body.scrollHeight + 'px';\r\n            }}\r\n          />\r\n        ) : (\r\n          <div className=\"flex min-h-200 items-center justify-center\">\r\n            <ProgressCircle isIndeterminate />\r\n          </div>\r\n        )}\r\n      </DialogBody>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {ColumnConfig} from '@common/datatable/column-config';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\r\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\r\nimport {IconButton} from '@common/ui/buttons/icon-button';\r\nimport React, {ReactNode} from 'react';\r\nimport {useRerunScheduledCommand} from '@common/admin/logging/schedule/use-rerurun-scheduled-command';\r\nimport {OutgoingEmailLogItem} from '@common/admin/logging/outgoing-email/outgoing-email-log-item';\r\nimport {FormattedRelativeTime} from '@common/i18n/formatted-relative-time';\r\nimport {Chip, ChipProps} from '@common/ui/forms/input-field/chip-field/chip';\r\nimport {VisibilityIcon} from '@common/icons/material/Visibility';\r\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\r\nimport {OutgoingEmailLogEntryDialog} from '@common/admin/logging/outgoing-email/outgoing-email-log-entry-dialog';\r\n\r\nexport const OutgoingEmailLogDatatableColumns: ColumnConfig<OutgoingEmailLogItem>[] =\r\n  [\r\n    {\r\n      key: 'message_id',\r\n      allowsSorting: true,\r\n      visibleInMode: 'all',\r\n      width: 'flex-3 min-w-200',\r\n      header: () => <Trans message=\"Subject\" />,\r\n      body: item => (\r\n        <NameWithAvatar label={item.subject} description={item.message_id} />\r\n      ),\r\n    },\r\n    {\r\n      key: 'status',\r\n      allowsSorting: true,\r\n      header: () => <Trans message=\"Status\" />,\r\n      body: item => {\r\n        switch (item.status) {\r\n          case 'sent':\r\n            return (\r\n              <StatusChip color=\"positive\">\r\n                <Trans message=\"Sent\" />\r\n              </StatusChip>\r\n            );\r\n          case 'not-sent':\r\n            return (\r\n              <StatusChip color={undefined}>\r\n                <Trans message=\"Not sent\" />\r\n              </StatusChip>\r\n            );\r\n          case 'error':\r\n            return (\r\n              <StatusChip color=\"danger\">\r\n                <Trans message=\"Error\" />\r\n              </StatusChip>\r\n            );\r\n        }\r\n      },\r\n    },\r\n    {\r\n      key: 'from',\r\n      allowsSorting: true,\r\n      header: () => <Trans message=\"From\" />,\r\n      body: item => item.from,\r\n    },\r\n    {\r\n      key: 'to',\r\n      allowsSorting: true,\r\n      header: () => <Trans message=\"To\" />,\r\n      body: item => item.to,\r\n    },\r\n    {\r\n      key: 'created_at',\r\n      allowsSorting: true,\r\n      header: () => <Trans message=\"Date\" />,\r\n      body: item => <FormattedRelativeTime date={item.created_at} />,\r\n    },\r\n    {\r\n      key: 'actions',\r\n      header: () => <Trans message=\"Actions\" />,\r\n      hideHeader: true,\r\n      align: 'end',\r\n      width: 'w-42 flex-shrink-0',\r\n      visibleInMode: 'all',\r\n      body: item => <PreviewEmailButton item={item} />,\r\n    },\r\n  ];\r\n\r\ninterface PreviewButtonProps {\r\n  item: OutgoingEmailLogItem;\r\n}\r\nfunction PreviewEmailButton({item}: PreviewButtonProps) {\r\n  const rerunCommand = useRerunScheduledCommand();\r\n  return (\r\n    <DialogTrigger type=\"modal\">\r\n      <Tooltip label={<Trans message=\"Preview\" />}>\r\n        <IconButton\r\n          size=\"md\"\r\n          className=\"text-muted\"\r\n          disabled={rerunCommand.isPending}\r\n          onClick={() => {\r\n            rerunCommand.mutate({id: item.id});\r\n          }}\r\n        >\r\n          <VisibilityIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <OutgoingEmailLogEntryDialog logItemId={item.id} />\r\n    </DialogTrigger>\r\n  );\r\n}\r\n\r\ninterface StatusChipProps {\r\n  color: ChipProps['color'];\r\n  children: ReactNode;\r\n}\r\nfunction StatusChip({color, children}: StatusChipProps) {\r\n  return (\r\n    <Chip color={color} size=\"xs\" className=\"w-max min-w-50 text-center\">\r\n      {children}\r\n    </Chip>\r\n  );\r\n}\r\n","import {\r\n  BackendFilter,\r\n  FilterControlType,\r\n  FilterOperator,\r\n} from '@common/datatable/filters/backend-filter';\r\nimport {message} from '@common/i18n/message';\r\nimport {createdAtFilter} from '@common/datatable/filters/timestamp-filters';\r\n\r\nexport const OutgoingEmailLogDatatableFilters: BackendFilter[] = [\r\n  {\r\n    key: 'status',\r\n    label: message('Status'),\r\n    description: message('Status of the outgoing email'),\r\n    defaultOperator: FilterOperator.eq,\r\n    control: {\r\n      type: FilterControlType.Select,\r\n      defaultValue: '01',\r\n      options: [\r\n        {\r\n          key: '01',\r\n          label: message('Not sent'),\r\n          value: 'no-sent',\r\n        },\r\n        {\r\n          key: '02',\r\n          label: message('Sent'),\r\n          value: 'sent',\r\n        },\r\n        {\r\n          key: '03',\r\n          label: message('Error'),\r\n          value: 'error',\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  createdAtFilter({\r\n    description: message('Date email send was attempted'),\r\n  }),\r\n];\r\n","import {DataTablePage} from '@common/datatable/page/data-table-page';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\r\nimport React from 'react';\r\nimport openedImage from '@common/admin/logging/outgoing-email/opened.svg';\r\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\r\nimport {DownloadIcon} from '@common/icons/material/Download';\r\nimport {OutgoingEmailLogDatatableColumns} from '@common/admin/logging/outgoing-email/outgoing-email-log-datatable-columns';\r\nimport {OutgoingEmailLogDatatableFilters} from '@common/admin/logging/outgoing-email/outgoing-email-log-datatable-filters';\r\n\r\nexport function OutgoingEmailLogDatatable() {\r\n  return (\r\n    <DataTablePage\r\n      padding=\"pt-12 md:pt-24\"\r\n      endpoint=\"logs/outgoing-email\"\r\n      title={<Trans message=\"Outgoing email\" />}\r\n      columns={OutgoingEmailLogDatatableColumns}\r\n      filters={OutgoingEmailLogDatatableFilters}\r\n      actions={<Actions />}\r\n      enableSelection={false}\r\n      emptyStateMessage={\r\n        <DataTableEmptyStateMessage\r\n          image={openedImage}\r\n          title={<Trans message=\"No outgoing emails have been logged yet\" />}\r\n          filteringTitle={<Trans message=\"No matching emails\" />}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction Actions() {\r\n  return (\r\n    <DataTableAddItemButton\r\n      elementType=\"a\"\r\n      href=\"api/v1/logs/outgoing-email/download\"\r\n      download\r\n      icon={<DownloadIcon />}\r\n    >\r\n      <Trans message=\"Download log\" />\r\n    </DataTableAddItemButton>\r\n  );\r\n}\r\n","import {Navigate, RouteObject, useRoutes} from 'react-router-dom';\r\nimport {AdminLayout} from './admin-layout';\r\nimport {UserDatatable} from './users/user-datatable';\r\nimport {AppearanceLayout} from './appearance/appearance-layout';\r\nimport {MenuList} from './appearance/sections/menus/menu-list';\r\nimport {MenuEditor} from './appearance/sections/menus/menu-editor';\r\nimport {MenuItemEditor} from './appearance/sections/menus/menu-item-editor';\r\nimport {GeneralSection} from './appearance/sections/general-section';\r\nimport {ThemeList} from './appearance/sections/themes/theme-list';\r\nimport {SeoSection} from './appearance/sections/seo/seo-section';\r\nimport {CustomCodeSection} from './appearance/sections/code/custom-code-section';\r\nimport {CustomPageDatablePage} from './custom-pages/custom-page-datable-page';\r\nimport {SettingsLayout} from './settings/settings-layout';\r\nimport {GeneralSettings} from './settings/pages/general-settings';\r\nimport {ThemeEditor} from './appearance/sections/themes/theme-editor';\r\nimport {AppSettingsRoutes} from '@app/admin/settings/app-settings-routes';\r\nimport {SubscriptionSettings} from './settings/pages/subscription-settings';\r\nimport {LocalizationSettings} from './settings/pages/localization-settings';\r\nimport {AuthenticationSettings} from './settings/pages/authentication-settings';\r\nimport {UploadingSettings} from './settings/pages/uploading-settings/uploading-settings';\r\nimport {OutgoingEmailSettings} from './settings/pages/mail-settings/outgoing-email-settings';\r\nimport {CacheSettings} from './settings/pages/cache-settings/cache-settings';\r\nimport {LoggingSettings} from './settings/pages/logging-settings';\r\nimport {QueueSettings} from './settings/pages/queue-settings';\r\nimport {RecaptchaSettings} from './settings/pages/recaptcha-settings';\r\nimport {ReportsSettings} from './settings/pages/reports-settings';\r\nimport {UpdateUserPage} from './users/update-user-page';\r\nimport {CreateUserPage} from './users/create-user-page';\r\nimport {LocalizationIndex} from './translations/localization-index';\r\nimport {TranslationManagementPage} from './translations/translation-management-page';\r\nimport {AdsPage} from './ads/ads-page';\r\nimport React from 'react';\r\nimport {FullPageLoader} from '../ui/progress/full-page-loader';\r\nimport {SectionList} from './appearance/section-list';\r\nimport {RolesIndexPage} from './roles/roles-index-page';\r\nimport {EditRolePage} from './roles/crupdate-role-page/edit-role-page';\r\nimport {CreateRolePage} from './roles/crupdate-role-page/create-role-page';\r\nimport {TagIndexPage} from './tags/tag-index-page';\r\nimport {FileEntryIndexPage} from './file-entry/file-entry-index-page';\r\nimport {SubscriptionsIndexPage} from './subscriptions/subscriptions-index-page';\r\nimport {PlansIndexPage} from './plans/plans-index-page';\r\nimport {EditPlanPage} from './plans/crupdate-plan-page/edit-plan-page';\r\nimport {CreatePlanPage} from './plans/crupdate-plan-page/create-plan-page';\r\nimport {GdprSettings} from './settings/pages/gdpr-settings';\r\nimport {AuthRoute} from '../auth/guards/auth-route';\r\nimport {NotFoundPage} from '../ui/not-found-page/not-found-page';\r\nimport {AppAppearanceConfig} from '@app/admin/appearance/app-appearance-config';\r\nimport {AppAdminRoutes} from '@app/admin/app-admin-routes';\r\nimport {EditCustomPage} from '@common/admin/custom-pages/edit-custom-page';\r\nimport {CreateCustomPage} from '@common/admin/custom-pages/create-custom-page';\r\nimport {ThemeFontPanel} from '@common/admin/appearance/sections/themes/theme-font-panel';\r\nimport {ThemeRadiusPanel} from '@common/admin/appearance/sections/themes/theme-radius-panel';\r\nimport {LogsPage} from '@common/admin/logging/logs-page';\r\nimport {ScheduleLogDatatable} from '@common/admin/logging/schedule/schedule-log-datatable';\r\nimport {ErrorLogDatatable} from '@common/admin/logging/error/error-log-datatable';\r\nimport {OutgoingEmailLogDatatable} from '@common/admin/logging/outgoing-email/outgoing-email-log-datatable';\r\n\r\nconst ReportsPage = React.lazy(() => import('./analytics/admin-report-page'));\r\n\r\nconst AdminRouteConfig: RouteObject[] = [\r\n  {\r\n    path: 'appearance',\r\n    element: (\r\n      <AuthRoute permission=\"appearance.update\">\r\n        <AppearanceLayout />\r\n      </AuthRoute>\r\n    ),\r\n    children: [\r\n      {index: true, element: <SectionList />},\r\n      {path: 'general', element: <GeneralSection />},\r\n      {path: 'seo-settings', element: <SeoSection />},\r\n      {path: 'custom-code', element: <CustomCodeSection />},\r\n      {path: 'themes', element: <ThemeList />},\r\n      {path: 'themes/:themeIndex', element: <ThemeEditor />},\r\n      {path: 'themes/:themeIndex/font', element: <ThemeFontPanel />},\r\n      {path: 'themes/:themeIndex/radius', element: <ThemeRadiusPanel />},\r\n      {path: 'menus', element: <MenuList />},\r\n      {path: 'menus/:menuIndex', element: <MenuEditor />},\r\n      {\r\n        path: 'menus/:menuIndex/items/:menuItemIndex',\r\n        element: <MenuItemEditor />,\r\n      },\r\n      ...Object.values(AppAppearanceConfig.sections).flatMap(\r\n        s => s.routes || [],\r\n      ),\r\n    ],\r\n  },\r\n\r\n  {\r\n    path: '/',\r\n    element: <AdminLayout />,\r\n    children: [\r\n      ...AppAdminRoutes,\r\n      // REPORT PAGE\r\n      {\r\n        path: '/',\r\n        element: (\r\n          <React.Suspense fallback={<FullPageLoader screen />}>\r\n            <ReportsPage />\r\n          </React.Suspense>\r\n        ),\r\n      },\r\n      // USERS\r\n      {\r\n        path: 'users',\r\n        element: (\r\n          <AuthRoute permission=\"users.update\">\r\n            <UserDatatable />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'users/new',\r\n        element: (\r\n          <AuthRoute permission=\"users.update\">\r\n            <CreateUserPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'users/:userId/edit',\r\n        element: (\r\n          <AuthRoute permission=\"users.update\">\r\n            <UpdateUserPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      // ROLES\r\n      {\r\n        path: 'roles',\r\n        element: (\r\n          <AuthRoute permission=\"roles.update\">\r\n            <RolesIndexPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'roles/new',\r\n        element: (\r\n          <AuthRoute permission=\"roles.update\">\r\n            <CreateRolePage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'roles/:roleId/edit',\r\n        element: (\r\n          <AuthRoute permission=\"roles.update\">\r\n            <EditRolePage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      // SUBSCRIPTIONS and PLANS\r\n      {\r\n        path: 'subscriptions',\r\n        element: (\r\n          <AuthRoute permission=\"subscriptions.update\">\r\n            <SubscriptionsIndexPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'plans',\r\n        element: (\r\n          <AuthRoute permission=\"plans.update\">\r\n            <PlansIndexPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'plans/new',\r\n        element: (\r\n          <AuthRoute permission=\"plans.update\">\r\n            <CreatePlanPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'plans/:productId/edit',\r\n        element: (\r\n          <AuthRoute permission=\"plans.update\">\r\n            <EditPlanPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      // CUSTOM PAGES\r\n      {\r\n        path: 'custom-pages',\r\n        element: (\r\n          <AuthRoute permission=\"custom_pages.update\">\r\n            <CustomPageDatablePage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'custom-pages/new',\r\n        element: (\r\n          <AuthRoute permission=\"custom_pages.update\">\r\n            <CreateCustomPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'custom-pages/:pageId/edit',\r\n        element: (\r\n          <AuthRoute permission=\"custom_pages.update\">\r\n            <EditCustomPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      // TAGS\r\n      {\r\n        path: 'tags',\r\n        element: (\r\n          <AuthRoute permission=\"tags.update\">\r\n            <TagIndexPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      // LOCALIZATIONS\r\n      {\r\n        path: 'localizations',\r\n        element: (\r\n          <AuthRoute permission=\"localizations.update\">\r\n            <LocalizationIndex />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'localizations/:localeId/translate',\r\n        element: <TranslationManagementPage />,\r\n      },\r\n      // FILE ENTRIES\r\n      {\r\n        path: 'files',\r\n        element: (\r\n          <AuthRoute permission=\"files.update\">\r\n            <FileEntryIndexPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      // ADS\r\n      {\r\n        path: 'ads',\r\n        element: (\r\n          <AuthRoute permission=\"settings.update\">\r\n            <AdsPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      // SETTINGS\r\n      {\r\n        path: 'settings',\r\n        element: (\r\n          <AuthRoute permission=\"settings.update\">\r\n            <SettingsLayout />\r\n          </AuthRoute>\r\n        ),\r\n        children: [\r\n          {index: true, element: <Navigate to=\"general\" replace />},\r\n          {path: 'general', element: <GeneralSettings />},\r\n          {path: 'subscriptions', element: <SubscriptionSettings />},\r\n          {path: 'localization', element: <LocalizationSettings />},\r\n          {path: 'authentication', element: <AuthenticationSettings />},\r\n          {path: 'uploading', element: <UploadingSettings />},\r\n          {path: 'outgoing-email', element: <OutgoingEmailSettings />},\r\n          {path: 'cache', element: <CacheSettings />},\r\n          {path: 'analytics', element: <ReportsSettings />},\r\n          {path: 'logging', element: <LoggingSettings />},\r\n          {path: 'queue', element: <QueueSettings />},\r\n          {path: 'recaptcha', element: <RecaptchaSettings />},\r\n          {path: 'gdpr', element: <GdprSettings />},\r\n          ...AppSettingsRoutes,\r\n        ],\r\n      },\r\n      // LOGS\r\n      {\r\n        path: 'logs',\r\n        element: (\r\n          <AuthRoute permission=\"logs.view\">\r\n            <LogsPage />\r\n          </AuthRoute>\r\n        ),\r\n        children: [\r\n          {index: true, element: <ScheduleLogDatatable />},\r\n          {path: 'schedule', element: <ScheduleLogDatatable />},\r\n          {path: 'error', element: <ErrorLogDatatable />},\r\n          {path: 'outgoing-email', element: <OutgoingEmailLogDatatable />},\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n  {path: '*', element: <NotFoundPage />},\r\n];\r\n\r\nexport default function AdminRoutes() {\r\n  return useRoutes(AdminRouteConfig);\r\n}\r\n"],"file":"assets/admin-routes-c14348fd.js"}